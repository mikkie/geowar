(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _statesBootJs = require("./states/Boot.js");

var _statesBootJs2 = _interopRequireDefault(_statesBootJs);

var _statesPreloadJs = require("./states/Preload.js");

var _statesPreloadJs2 = _interopRequireDefault(_statesPreloadJs);

var _statesStartScreenJs = require("./states/StartScreen.js");

var _statesStartScreenJs2 = _interopRequireDefault(_statesStartScreenJs);

var _statesGameJs = require("./states/Game.js");

var _statesGameJs2 = _interopRequireDefault(_statesGameJs);

var game;

window.onload = function () {
                       game = new Phaser.Game(window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth, window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight, Phaser.AUTO, 'game');
                       game.state.add('boot', _statesBootJs2["default"]);
                       game.state.add('preload', _statesPreloadJs2["default"]);
                       game.state.add('startScreen', _statesStartScreenJs2["default"]);
                       game.state.add('game', _statesGameJs2["default"]);
                       game.state.start('boot');
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9hcHAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs0QkFFaUIsa0JBQWtCOzs7OytCQUNmLHFCQUFxQjs7OzttQ0FDakIseUJBQXlCOzs7OzRCQUNoQyxrQkFBa0I7Ozs7QUFMbkMsSUFBSSxJQUFJLENBQUM7O0FBT1QsTUFBTSxDQUFDLE1BQU0sR0FBRyxZQUFZO0FBQzFCLDJCQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLElBQUksUUFBUSxDQUFDLGVBQWUsQ0FBQyxXQUFXLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQ3RGLE1BQU0sQ0FBQyxXQUFXLElBQUksUUFBUSxDQUFDLGVBQWUsQ0FBQyxZQUFZLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQ3pGLE1BQU0sQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDNUMsMkJBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sNEJBQU0sQ0FBQztBQUM1QiwyQkFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUywrQkFBUyxDQUFDO0FBQ2xDLDJCQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxhQUFhLG1DQUFhLENBQUM7QUFDMUMsMkJBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sNEJBQU0sQ0FBQztBQUM1QiwyQkFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7Q0FDMUIsQ0FBQyIsImZpbGUiOiJEOi9hcXVhL2dlb3dhci9zcmMvYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGdhbWU7XG5cbmltcG9ydCBCb290IGZyb20gXCIuL3N0YXRlcy9Cb290LmpzXCI7XG5pbXBvcnQgUHJlbG9hZCBmcm9tIFwiLi9zdGF0ZXMvUHJlbG9hZC5qc1wiO1xuaW1wb3J0IFN0YXJ0U2NyZWVuIGZyb20gXCIuL3N0YXRlcy9TdGFydFNjcmVlbi5qc1wiO1xuaW1wb3J0IEdhbWUgZnJvbSBcIi4vc3RhdGVzL0dhbWUuanNcIjtcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZSh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgfHwgZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgIFBoYXNlci5BVVRPLCAnZ2FtZScpO1xuICBnYW1lLnN0YXRlLmFkZCgnYm9vdCcsQm9vdCk7XG4gIGdhbWUuc3RhdGUuYWRkKCdwcmVsb2FkJyxQcmVsb2FkKTtcbiAgZ2FtZS5zdGF0ZS5hZGQoJ3N0YXJ0U2NyZWVuJyxTdGFydFNjcmVlbik7XG4gIGdhbWUuc3RhdGUuYWRkKCdnYW1lJyxHYW1lKTtcbiAgZ2FtZS5zdGF0ZS5zdGFydCgnYm9vdCcpO1xufTtcbiJdfQ==
},{"./states/Boot.js":16,"./states/Game.js":17,"./states/Preload.js":18,"./states/StartScreen.js":19}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _UtilsJs = require('./Utils.js');

var _UtilsJs2 = _interopRequireDefault(_UtilsJs);

var CanvasHelper = (function () {
    function CanvasHelper(canvas, json, colorSet) {
        _classCallCheck(this, CanvasHelper);

        this.canvas = canvas;
        this.texture = json;
        this.colorSet = colorSet;
    }

    _createClass(CanvasHelper, [{
        key: 'drawTexture',
        value: function drawTexture() {
            this.ctx = this.canvas.ctx;
            this.ctx.beginPath();
            for (var key in this.texture) {
                this.updateCtxProp(this.texture[key].ctxProp);
                for (var i in this.texture[key].draw) {
                    var part = this.texture[key].draw[i];
                    var x = this.parseExpress(part.x);
                    var y = this.parseExpress(part.y);
                    if (part.drawType == 'move') {
                        this.ctx.moveTo(x, y);
                    } else if (part.drawType == 'line') {
                        this.ctx.lineTo(x, y);
                    } else if (part.drawType == 'arc') {
                        var radius = this.parseExpress(part.radius);
                        var arc = this.parseExpress(part.arc);
                        this.ctx.arc(x, y, radius, 0, arc, false);
                    }
                }
                this.ctx.closePath();
                if (this.texture[key].style == 'stroke') {
                    this.ctx.strokeStyle = this.getColor(key);
                    this.ctx.stroke();
                } else if (this.texture[key].style == 'fill') {
                    this.ctx.fillStyle = this.getColor(key);
                    this.ctx.fill();
                }
            }
        }
    }, {
        key: 'updateCtxProp',
        value: function updateCtxProp(ctxProp) {
            if (ctxProp) {
                for (var k in ctxProp) {
                    this.ctx[k] = ctxProp[k];
                }
            }
        }
    }, {
        key: 'getColor',
        value: function getColor(key) {
            if (this.colorSet && this.colorSet[key]) {
                return this.colorSet[key];
            }
            return _UtilsJs2['default'].generateRandomColor();
        }
    }, {
        key: 'parseExpress',
        value: function parseExpress(pos) {
            if (isNaN(pos) && /\$\{.*\}/.test(pos)) {
                pos = pos.replace(/canvas.height/gi, this.canvas.height).replace(/canvas.width/gi, this.canvas.width);
                pos = pos.substring(2, pos.length - 1);
                pos = eval(pos);
                return pos;
            }
            return pos;
        }
    }]);

    return CanvasHelper;
})();

exports['default'] = CanvasHelper;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9jb21tb24vQ2FudmFzSGVscGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozt1QkFBa0IsWUFBWTs7OztJQUVULFlBQVk7QUFFbEIsYUFGTSxZQUFZLENBRWpCLE1BQU0sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFOzhCQUZuQixZQUFZOztBQUd6QixZQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztBQUNyQixZQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztBQUNwQixZQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztLQUM1Qjs7aUJBTmdCLFlBQVk7O2VBUWxCLHVCQUFHO0FBQ1YsZ0JBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7QUFDM0IsZ0JBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUM7QUFDckIsaUJBQUssSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtBQUMxQixvQkFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzlDLHFCQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFO0FBQ2xDLHdCQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyQyx3QkFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEMsd0JBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2xDLHdCQUFJLElBQUksQ0FBQyxRQUFRLElBQUksTUFBTSxFQUFFO0FBQ3pCLDRCQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7cUJBQ3pCLE1BQ0ksSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLE1BQU0sRUFBRTtBQUM5Qiw0QkFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO3FCQUN6QixNQUNJLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxLQUFLLEVBQUU7QUFDN0IsNEJBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzVDLDRCQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN0Qyw0QkFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztxQkFDN0M7aUJBQ0o7QUFDRCxvQkFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztBQUNyQixvQkFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssSUFBSSxRQUFRLEVBQUU7QUFDckMsd0JBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDMUMsd0JBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7aUJBQ3JCLE1BQ0ksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssSUFBSSxNQUFNLEVBQUU7QUFDeEMsd0JBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDeEMsd0JBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7aUJBQ25CO2FBQ0o7U0FDSjs7O2VBR1ksdUJBQUMsT0FBTyxFQUFFO0FBQ25CLGdCQUFJLE9BQU8sRUFBRTtBQUNULHFCQUFLLElBQUksQ0FBQyxJQUFJLE9BQU8sRUFBRTtBQUNuQix3QkFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQzVCO2FBQ0o7U0FDSjs7O2VBSU8sa0JBQUMsR0FBRyxFQUFFO0FBQ1YsZ0JBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ3JDLHVCQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDN0I7QUFDRCxtQkFBTyxxQkFBTSxtQkFBbUIsRUFBRSxDQUFDO1NBQ3RDOzs7ZUFHVyxzQkFBQyxHQUFHLEVBQUU7QUFDZCxnQkFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNwQyxtQkFBRyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN0RyxtQkFBRyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDdkMsbUJBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDaEIsdUJBQU8sR0FBRyxDQUFDO2FBQ2Q7QUFDRCxtQkFBTyxHQUFHLENBQUE7U0FDYjs7O1dBcEVnQixZQUFZOzs7cUJBQVosWUFBWSIsImZpbGUiOiJEOi9hcXVhL2dlb3dhci9zcmMvY29tbW9uL0NhbnZhc0hlbHBlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVdGlscyBmcm9tICcuL1V0aWxzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzSGVscGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKGNhbnZhcywganNvbiwgY29sb3JTZXQpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IGpzb247XG4gICAgICAgIHRoaXMuY29sb3JTZXQgPSBjb2xvclNldDtcbiAgICB9XG5cbiAgICBkcmF3VGV4dHVyZSgpIHtcbiAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5jdHg7XG4gICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy50ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN0eFByb3AodGhpcy50ZXh0dXJlW2tleV0uY3R4UHJvcCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZVtrZXldLmRyYXcpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFydCA9IHRoaXMudGV4dHVyZVtrZXldLmRyYXdbaV07XG4gICAgICAgICAgICAgICAgdmFyIHggPSB0aGlzLnBhcnNlRXhwcmVzcyhwYXJ0LngpO1xuICAgICAgICAgICAgICAgIHZhciB5ID0gdGhpcy5wYXJzZUV4cHJlc3MocGFydC55KTtcbiAgICAgICAgICAgICAgICBpZiAocGFydC5kcmF3VHlwZSA9PSAnbW92ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJ0LmRyYXdUeXBlID09ICdsaW5lJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcnQuZHJhd1R5cGUgPT0gJ2FyYycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl1cyA9IHRoaXMucGFyc2VFeHByZXNzKHBhcnQucmFkaXVzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyYyA9IHRoaXMucGFyc2VFeHByZXNzKHBhcnQuYXJjKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguYXJjKHgsIHksIHJhZGl1cywgMCwgYXJjLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0dXJlW2tleV0uc3R5bGUgPT0gJ3N0cm9rZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMuZ2V0Q29sb3Ioa2V5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudGV4dHVyZVtrZXldLnN0eWxlID09ICdmaWxsJykge1xuICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuZ2V0Q29sb3Ioa2V5KTtcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHVwZGF0ZUN0eFByb3AoY3R4UHJvcCkge1xuICAgICAgICBpZiAoY3R4UHJvcCkge1xuICAgICAgICAgICAgZm9yICh2YXIgayBpbiBjdHhQcm9wKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdHhba10gPSBjdHhQcm9wW2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIGdldENvbG9yKGtleSkge1xuICAgICAgICBpZiAodGhpcy5jb2xvclNldCAmJiB0aGlzLmNvbG9yU2V0W2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yU2V0W2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFV0aWxzLmdlbmVyYXRlUmFuZG9tQ29sb3IoKTtcbiAgICB9XG5cblxuICAgIHBhcnNlRXhwcmVzcyhwb3MpIHtcbiAgICAgICAgaWYgKGlzTmFOKHBvcykgJiYgL1xcJFxcey4qXFx9Ly50ZXN0KHBvcykpIHtcbiAgICAgICAgICAgIHBvcyA9IHBvcy5yZXBsYWNlKC9jYW52YXMuaGVpZ2h0L2dpLCB0aGlzLmNhbnZhcy5oZWlnaHQpLnJlcGxhY2UoL2NhbnZhcy53aWR0aC9naSwgdGhpcy5jYW52YXMud2lkdGgpO1xuICAgICAgICAgICAgcG9zID0gcG9zLnN1YnN0cmluZygyLCBwb3MubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBwb3MgPSBldmFsKHBvcyk7XG4gICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3NcbiAgICB9XG5cbn0iXX0=
},{"./Utils.js":3}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var Utils = (function () {
    function Utils() {
        _classCallCheck(this, Utils);
    }

    _createClass(Utils, null, [{
        key: 'generateRandomColor',
        value: function generateRandomColor() {
            var letters = '0123456789ABCDEF';
            var color = '#';
            for (var i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }
    }]);

    return Utils;
})();

exports['default'] = Utils;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9jb21tb24vVXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQixLQUFLO2FBQUwsS0FBSzs4QkFBTCxLQUFLOzs7aUJBQUwsS0FBSzs7ZUFDSSwrQkFBRztBQUN6QixnQkFBSSxPQUFPLEdBQUcsa0JBQWtCLENBQUM7QUFDakMsZ0JBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQztBQUNoQixpQkFBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN4QixxQkFBSyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ3BEO0FBQ0QsbUJBQU8sS0FBSyxDQUFDO1NBQ2hCOzs7V0FSZ0IsS0FBSzs7O3FCQUFMLEtBQUsiLCJmaWxlIjoiRDovYXF1YS9nZW93YXIvc3JjL2NvbW1vbi9VdGlscy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFV0aWxzIHtcbiAgICBzdGF0aWMgZ2VuZXJhdGVSYW5kb21Db2xvcigpIHtcbiAgICAgICAgdmFyIGxldHRlcnMgPSAnMDEyMzQ1Njc4OUFCQ0RFRic7XG4gICAgICAgIHZhciBjb2xvciA9ICcjJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHtcbiAgICAgICAgICAgIGNvbG9yICs9IGxldHRlcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTYpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxufSJdfQ==
},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _PlayerJs = require('./Player.js');

var _PlayerJs2 = _interopRequireDefault(_PlayerJs);

var _commonCanvasHelperJs = require('../../common/CanvasHelper.js');

var _commonCanvasHelperJs2 = _interopRequireDefault(_commonCanvasHelperJs);

var _texturesPlayersCircleplayerJson = require('../../textures/players/circleplayer.json');

var _texturesPlayersCircleplayerJson2 = _interopRequireDefault(_texturesPlayersCircleplayerJson);

var CirclePlayer = (function (_Player) {
    _inherits(CirclePlayer, _Player);

    function CirclePlayer() {
        _classCallCheck(this, CirclePlayer);

        _get(Object.getPrototypeOf(CirclePlayer.prototype), 'constructor', this).apply(this, arguments);
    }

    _createClass(CirclePlayer, [{
        key: 'draw',
        value: function draw() {
            new _commonCanvasHelperJs2['default'](this.canvas, _texturesPlayersCircleplayerJson2['default'], this.colorSet).drawTexture();
        }
    }, {
        key: 'getType',
        value: function getType() {
            return "circle";
        }
    }]);

    return CirclePlayer;
})(_PlayerJs2['default']);

exports['default'] = CirclePlayer;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9wcmVmYWJzL3BsYXllcnMvQ2lyY2xlUGxheWVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7d0JBQW1CLGFBQWE7Ozs7b0NBQ1AsOEJBQThCOzs7OytDQUNoQywwQ0FBMEM7Ozs7SUFFNUMsWUFBWTtjQUFaLFlBQVk7O2FBQVosWUFBWTs4QkFBWixZQUFZOzttQ0FBWixZQUFZOzs7aUJBQVosWUFBWTs7ZUFFekIsZ0JBQUc7QUFDSCxrREFBaUIsSUFBSSxDQUFDLE1BQU0sZ0RBQVksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ3hFOzs7ZUFFTSxtQkFBRTtBQUNMLG1CQUFPLFFBQVEsQ0FBQztTQUNuQjs7O1dBUmdCLFlBQVk7OztxQkFBWixZQUFZIiwiZmlsZSI6IkQ6L2FxdWEvZ2Vvd2FyL3NyYy9wcmVmYWJzL3BsYXllcnMvQ2lyY2xlUGxheWVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBsYXllciBmcm9tICcuL1BsYXllci5qcyc7XG5pbXBvcnQgQ2FudmFzSGVscGVyIGZyb20gJy4uLy4uL2NvbW1vbi9DYW52YXNIZWxwZXIuanMnO1xuaW1wb3J0IHBsYXllckpzb24gZnJvbSAnLi4vLi4vdGV4dHVyZXMvcGxheWVycy9jaXJjbGVwbGF5ZXIuanNvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENpcmNsZVBsYXllciBleHRlbmRzIFBsYXllciB7XG5cbiAgICBkcmF3KCkge1xuICAgICAgICBuZXcgQ2FudmFzSGVscGVyKHRoaXMuY2FudmFzLHBsYXllckpzb24sdGhpcy5jb2xvclNldCkuZHJhd1RleHR1cmUoKTtcbiAgICB9XG5cbiAgICBnZXRUeXBlKCl7XG4gICAgICAgIHJldHVybiBcImNpcmNsZVwiO1xuICAgIH1cblxufSJdfQ==
},{"../../common/CanvasHelper.js":2,"../../textures/players/circleplayer.json":21,"./Player.js":5}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _commonCanvasHelperJs = require('../../common/CanvasHelper.js');

var _commonCanvasHelperJs2 = _interopRequireDefault(_commonCanvasHelperJs);

var _texturesPlayersPlayerJson = require('../../textures/players/Player.json');

var _texturesPlayersPlayerJson2 = _interopRequireDefault(_texturesPlayersPlayerJson);

var _commonUtilsJs = require('../../common/Utils.js');

var _commonUtilsJs2 = _interopRequireDefault(_commonUtilsJs);

var Player = (function (_Phaser$Sprite) {
    _inherits(Player, _Phaser$Sprite);

    function Player(game, x, y, width, height, weaponFactory, colorSet, needControl) {
        _classCallCheck(this, Player);

        _get(Object.getPrototypeOf(Player.prototype), 'constructor', this).call(this, game, x, y, game.make.bitmapData(width, height));
        this.width = width;
        this.height = height;
        this.canvas = this.key;
        this.needControl = needControl;
        if (colorSet) {
            this.colorSet = colorSet;
        } else {
            this.colorSet = {
                head: _commonUtilsJs2['default'].generateRandomColor(),
                body: _commonUtilsJs2['default'].generateRandomColor()
            };
        }

        this.draw();

        this.game.physics.p2.enable(this);
        this.anchor.setTo(0.5, 0.57);
        this.collideSetting();
        this.weaponFactory = weaponFactory;
        this.createWeapon();
    }

    _createClass(Player, [{
        key: 'collideSetting',
        value: function collideSetting() {
            this.body.setCollisionGroup(this.game.geowar.playerCollisionGroup);
            this.body.collides([this.game.geowar.bulletCollisionGroup, this.game.geowar.playerCollisionGroup]);
            this.body.onBeginContact.add(this.contact);
        }
    }, {
        key: 'contact',
        value: function contact(otherBody) {
            if (otherBody && otherBody.sprite && otherBody.sprite.isBullet) {
                if (otherBody.sprite.player != this) {
                    //kill for reuse bullet
                    otherBody.sprite.kill();
                }
            }
        }
    }, {
        key: 'draw',
        value: function draw() {
            new _commonCanvasHelperJs2['default'](this.canvas, _texturesPlayersPlayerJson2['default'], this.colorSet).drawTexture();
        }
    }, {
        key: 'update',
        value: function update() {
            if (this.needControl) {

                if (this.game.input.keyboard.isDown(Phaser.Keyboard.LEFT)) {
                    this.body.rotateLeft(50);
                } else if (this.game.input.keyboard.isDown(Phaser.Keyboard.RIGHT)) {
                    this.body.rotateRight(50);
                } else {
                    this.body.setZeroRotation();
                }
                if (this.game.input.keyboard.isDown(Phaser.Keyboard.UP)) {
                    this.body.thrust(300);
                } else if (this.game.input.keyboard.isDown(Phaser.Keyboard.DOWN)) {
                    this.body.reverse(300);
                }

                if (this.fireButton.isDown) {
                    this.weapon.fire(this);
                    this.pushState({ name: "playerFire", id: this.playerId });
                }

                this.pushState({ name: "playerMove", id: this.playerId, x: this.x, y: this.y, angle: this.angle, type: this.getType(), colorSet: this.colorSet });
                //only push current player data to server and use socket.io to broadcase to peer players
            }
            //update peer player pos by data from socket.io
            else if (this.game.geowar.players[this.playerId]) {
                    if (this.game.geowar.players[this.playerId].pos) {
                        var pos = this.game.geowar.players[this.playerId].pos;
                        this.body.x = pos.x;
                        this.body.y = pos.y;
                        this.body.angle = pos.angle;
                    }
                    if (this.game.geowar.players[this.playerId].fire) {
                        this.weapon.fire(this);
                        this.game.geowar.players[this.playerId].fire = false;
                    }
                }
        }
    }, {
        key: 'getType',
        value: function getType() {
            return "triangle";
        }
    }, {
        key: 'pushState',
        value: function pushState(data) {
            this.game.geowar.socketHandler.push(data);
        }
    }, {
        key: 'createWeapon',
        value: function createWeapon() {
            this.weapon = this.weaponFactory.createWeapon('basic', this);

            // this.weapon.trackSprite(this, 0, (this.width/2 + 5) * -1, true);

            this.fireButton = this.game.input.keyboard.addKey(Phaser.KeyCode.SPACEBAR);
        }
    }, {
        key: 'isCurrentPlayer',
        value: function isCurrentPlayer() {
            return this.needControl;
        }
    }, {
        key: 'destroy',
        value: function destroy(destroyChildren, destroyTexture) {
            _get(Object.getPrototypeOf(Player.prototype), 'destroy', this).call(this, destroyChildren, destroyTexture);
            //coz the weapon not children, need to destory too
            this.weapon.destroy();
        }
    }]);

    return Player;
})(Phaser.Sprite);

exports['default'] = Player;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9wcmVmYWJzL3BsYXllcnMvUGxheWVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7b0NBQXlCLDhCQUE4Qjs7Ozt5Q0FDaEMsb0NBQW9DOzs7OzZCQUN6Qyx1QkFBdUI7Ozs7SUFFcEIsTUFBTTtjQUFOLE1BQU07O0FBRVosYUFGTSxNQUFNLENBRVgsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxhQUFhLEVBQUUsUUFBUSxFQUFFLFdBQVcsRUFBRTs4QkFGNUQsTUFBTTs7QUFHbkIsbUNBSGEsTUFBTSw2Q0FHYixJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEVBQUU7QUFDdkQsWUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7QUFDbkIsWUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7QUFDckIsWUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO0FBQ3ZCLFlBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO0FBQy9CLFlBQUksUUFBUSxFQUFFO0FBQ1YsZ0JBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1NBQzVCLE1BQ0k7QUFDRCxnQkFBSSxDQUFDLFFBQVEsR0FBRztBQUNaLG9CQUFJLEVBQUUsMkJBQU0sbUJBQW1CLEVBQUU7QUFDakMsb0JBQUksRUFBRSwyQkFBTSxtQkFBbUIsRUFBRTthQUNwQyxDQUFDO1NBQ0w7O0FBRUQsWUFBSSxDQUFDLElBQUksRUFBRSxDQUFDOztBQUVaLFlBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbEMsWUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzdCLFlBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztBQUN0QixZQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztBQUNuQyxZQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7S0FDdkI7O2lCQXpCZ0IsTUFBTTs7ZUE0QlQsMEJBQUc7QUFDYixnQkFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBQ25FLGdCQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQztBQUNuRyxnQkFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM5Qzs7O2VBR00saUJBQUMsU0FBUyxFQUFFO0FBQ2YsZ0JBQUksU0FBUyxJQUFJLFNBQVMsQ0FBQyxNQUFNLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUU7QUFDNUQsb0JBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksSUFBSSxFQUFDOztBQUVoQyw2QkFBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztpQkFDMUI7YUFDSjtTQUNKOzs7ZUFHRyxnQkFBRztBQUNILGtEQUFpQixJQUFJLENBQUMsTUFBTSwwQ0FBYyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7U0FDMUU7OztlQUVLLGtCQUFHO0FBQ0wsZ0JBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTs7QUFFbEIsb0JBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO0FBQ3ZELHdCQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztpQkFDNUIsTUFDSSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUM3RCx3QkFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7aUJBQzdCLE1BQ0k7QUFDRCx3QkFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztpQkFDL0I7QUFDRCxvQkFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDckQsd0JBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2lCQUN6QixNQUNJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO0FBQzVELHdCQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztpQkFDMUI7O0FBRUQsb0JBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7QUFDeEIsd0JBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLHdCQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7aUJBQzdEOztBQUVELG9CQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQzs7YUFFcko7O2lCQUVJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtBQUM5Qyx3QkFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsRUFBRTtBQUM3Qyw0QkFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUM7QUFDdEQsNEJBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDcEIsNEJBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDcEIsNEJBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7cUJBQy9CO0FBQ0Qsd0JBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLEVBQUU7QUFDOUMsNEJBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLDRCQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7cUJBQ3hEO2lCQUNKO1NBQ0o7OztlQUdNLG1CQUFFO0FBQ0wsbUJBQU8sVUFBVSxDQUFDO1NBQ3JCOzs7ZUFHUSxtQkFBQyxJQUFJLEVBQUU7QUFDWixnQkFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUM3Qzs7O2VBR1csd0JBQUc7QUFDWCxnQkFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUMsSUFBSSxDQUFDLENBQUM7Ozs7QUFJNUQsZ0JBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQzlFOzs7ZUFFYywyQkFBRztBQUNkLG1CQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7U0FDM0I7OztlQUdNLGlCQUFDLGVBQWUsRUFBRSxjQUFjLEVBQUM7QUFDcEMsdUNBcEhhLE1BQU0seUNBb0hMLGVBQWUsRUFBRSxjQUFjLEVBQUU7O0FBRS9DLGdCQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ3pCOzs7V0F2SGdCLE1BQU07R0FBUyxNQUFNLENBQUMsTUFBTTs7cUJBQTVCLE1BQU0iLCJmaWxlIjoiRDovYXF1YS9nZW93YXIvc3JjL3ByZWZhYnMvcGxheWVycy9QbGF5ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2FudmFzSGVscGVyIGZyb20gJy4uLy4uL2NvbW1vbi9DYW52YXNIZWxwZXIuanMnO1xuaW1wb3J0IHBsYXllckpzb24gZnJvbSAnLi4vLi4vdGV4dHVyZXMvcGxheWVycy9QbGF5ZXIuanNvbic7XG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL1V0aWxzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyIGV4dGVuZHMgUGhhc2VyLlNwcml0ZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCB3ZWFwb25GYWN0b3J5LCBjb2xvclNldCwgbmVlZENvbnRyb2wpIHtcbiAgICAgICAgc3VwZXIoZ2FtZSwgeCwgeSwgZ2FtZS5tYWtlLmJpdG1hcERhdGEod2lkdGgsIGhlaWdodCkpO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXMua2V5O1xuICAgICAgICB0aGlzLm5lZWRDb250cm9sID0gbmVlZENvbnRyb2w7XG4gICAgICAgIGlmIChjb2xvclNldCkge1xuICAgICAgICAgICAgdGhpcy5jb2xvclNldCA9IGNvbG9yU2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb2xvclNldCA9IHtcbiAgICAgICAgICAgICAgICBoZWFkOiBVdGlscy5nZW5lcmF0ZVJhbmRvbUNvbG9yKCksXG4gICAgICAgICAgICAgICAgYm9keTogVXRpbHMuZ2VuZXJhdGVSYW5kb21Db2xvcigpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmF3KCk7XG5cbiAgICAgICAgdGhpcy5nYW1lLnBoeXNpY3MucDIuZW5hYmxlKHRoaXMpO1xuICAgICAgICB0aGlzLmFuY2hvci5zZXRUbygwLjUsIDAuNTcpO1xuICAgICAgICB0aGlzLmNvbGxpZGVTZXR0aW5nKCk7XG4gICAgICAgIHRoaXMud2VhcG9uRmFjdG9yeSA9IHdlYXBvbkZhY3Rvcnk7XG4gICAgICAgIHRoaXMuY3JlYXRlV2VhcG9uKCk7XG4gICAgfVxuXG5cbiAgICBjb2xsaWRlU2V0dGluZygpIHtcbiAgICAgICAgdGhpcy5ib2R5LnNldENvbGxpc2lvbkdyb3VwKHRoaXMuZ2FtZS5nZW93YXIucGxheWVyQ29sbGlzaW9uR3JvdXApO1xuICAgICAgICB0aGlzLmJvZHkuY29sbGlkZXMoW3RoaXMuZ2FtZS5nZW93YXIuYnVsbGV0Q29sbGlzaW9uR3JvdXAsIHRoaXMuZ2FtZS5nZW93YXIucGxheWVyQ29sbGlzaW9uR3JvdXBdKTtcbiAgICAgICAgdGhpcy5ib2R5Lm9uQmVnaW5Db250YWN0LmFkZCh0aGlzLmNvbnRhY3QpO1xuICAgIH1cblxuXG4gICAgY29udGFjdChvdGhlckJvZHkpIHtcbiAgICAgICAgaWYgKG90aGVyQm9keSAmJiBvdGhlckJvZHkuc3ByaXRlICYmIG90aGVyQm9keS5zcHJpdGUuaXNCdWxsZXQpIHtcbiAgICAgICAgICAgIGlmKG90aGVyQm9keS5zcHJpdGUucGxheWVyICE9IHRoaXMpe1xuICAgICAgICAgICAgICAgIC8va2lsbCBmb3IgcmV1c2UgYnVsbGV0XG4gICAgICAgICAgICAgICBvdGhlckJvZHkuc3ByaXRlLmtpbGwoKTtcbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBkcmF3KCkge1xuICAgICAgICBuZXcgQ2FudmFzSGVscGVyKHRoaXMuY2FudmFzLCBwbGF5ZXJKc29uLCB0aGlzLmNvbG9yU2V0KS5kcmF3VGV4dHVyZSgpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubmVlZENvbnRyb2wpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5pbnB1dC5rZXlib2FyZC5pc0Rvd24oUGhhc2VyLktleWJvYXJkLkxFRlQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5LnJvdGF0ZUxlZnQoNTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuUklHSFQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5LnJvdGF0ZVJpZ2h0KDUwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keS5zZXRaZXJvUm90YXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5VUCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHkudGhydXN0KDMwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5ET1dOKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keS5yZXZlcnNlKDMwMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmZpcmVCdXR0b24uaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53ZWFwb24uZmlyZSh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZSh7IG5hbWU6IFwicGxheWVyRmlyZVwiLCBpZDogdGhpcy5wbGF5ZXJJZCB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGUoeyBuYW1lOiBcInBsYXllck1vdmVcIiwgaWQ6IHRoaXMucGxheWVySWQsIHg6IHRoaXMueCwgeTogdGhpcy55LCBhbmdsZTogdGhpcy5hbmdsZSwgdHlwZTogdGhpcy5nZXRUeXBlKCksIGNvbG9yU2V0OiB0aGlzLmNvbG9yU2V0IH0pO1xuICAgICAgICAgICAgLy9vbmx5IHB1c2ggY3VycmVudCBwbGF5ZXIgZGF0YSB0byBzZXJ2ZXIgYW5kIHVzZSBzb2NrZXQuaW8gdG8gYnJvYWRjYXNlIHRvIHBlZXIgcGxheWVyc1xuICAgICAgICB9XG4gICAgICAgIC8vdXBkYXRlIHBlZXIgcGxheWVyIHBvcyBieSBkYXRhIGZyb20gc29ja2V0LmlvXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ2FtZS5nZW93YXIucGxheWVyc1t0aGlzLnBsYXllcklkXSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5nZW93YXIucGxheWVyc1t0aGlzLnBsYXllcklkXS5wb3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9zID0gdGhpcy5nYW1lLmdlb3dhci5wbGF5ZXJzW3RoaXMucGxheWVySWRdLnBvcztcbiAgICAgICAgICAgICAgICB0aGlzLmJvZHkueCA9IHBvcy54O1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keS55ID0gcG9zLnk7XG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5LmFuZ2xlID0gcG9zLmFuZ2xlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5nZW93YXIucGxheWVyc1t0aGlzLnBsYXllcklkXS5maXJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53ZWFwb24uZmlyZSh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnNbdGhpcy5wbGF5ZXJJZF0uZmlyZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBnZXRUeXBlKCl7XG4gICAgICAgIHJldHVybiBcInRyaWFuZ2xlXCI7XG4gICAgfVxuXG5cbiAgICBwdXNoU3RhdGUoZGF0YSkge1xuICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyLnNvY2tldEhhbmRsZXIucHVzaChkYXRhKTtcbiAgICB9XG5cblxuICAgIGNyZWF0ZVdlYXBvbigpIHtcbiAgICAgICAgdGhpcy53ZWFwb24gPSB0aGlzLndlYXBvbkZhY3RvcnkuY3JlYXRlV2VhcG9uKCdiYXNpYycsdGhpcyk7XG5cbiAgICAgICAgLy8gdGhpcy53ZWFwb24udHJhY2tTcHJpdGUodGhpcywgMCwgKHRoaXMud2lkdGgvMiArIDUpICogLTEsIHRydWUpO1xuXG4gICAgICAgIHRoaXMuZmlyZUJ1dHRvbiA9IHRoaXMuZ2FtZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLktleUNvZGUuU1BBQ0VCQVIpO1xuICAgIH1cblxuICAgIGlzQ3VycmVudFBsYXllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmVlZENvbnRyb2w7XG4gICAgfVxuXG5cbiAgICBkZXN0cm95KGRlc3Ryb3lDaGlsZHJlbiwgZGVzdHJveVRleHR1cmUpe1xuICAgICAgICBzdXBlci5kZXN0cm95KGRlc3Ryb3lDaGlsZHJlbiwgZGVzdHJveVRleHR1cmUpO1xuICAgICAgICAvL2NveiB0aGUgd2VhcG9uIG5vdCBjaGlsZHJlbiwgbmVlZCB0byBkZXN0b3J5IHRvb1xuICAgICAgICB0aGlzLndlYXBvbi5kZXN0cm95KCk7XG4gICAgfVxuXG59Il19
},{"../../common/CanvasHelper.js":2,"../../common/Utils.js":3,"../../textures/players/Player.json":20}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _PlayerJs = require('./Player.js');

var _PlayerJs2 = _interopRequireDefault(_PlayerJs);

var _SquarePlayerJs = require('./SquarePlayer.js');

var _SquarePlayerJs2 = _interopRequireDefault(_SquarePlayerJs);

var _CirclePlayerJs = require('./CirclePlayer.js');

var _CirclePlayerJs2 = _interopRequireDefault(_CirclePlayerJs);

var _weaponsWeaponFactoryJs = require('../weapons/WeaponFactory.js');

var _weaponsWeaponFactoryJs2 = _interopRequireDefault(_weaponsWeaponFactoryJs);

var _commonUtilsJs = require('../../common/Utils.js');

var _commonUtilsJs2 = _interopRequireDefault(_commonUtilsJs);

var PlayerFactory = (function () {
    function PlayerFactory(game) {
        _classCallCheck(this, PlayerFactory);

        this._playerTypes = ['triangle', 'square', 'circle'];

        this.game = game;
        this.weaponFactory = new _weaponsWeaponFactoryJs2['default'](game);
    }

    _createClass(PlayerFactory, [{
        key: 'createPlayer',
        value: function createPlayer(defaultType) {
            var type = defaultType;
            if (!type) {
                type = this._playerTypes[Math.floor(Math.random() * this._playerTypes.length)];
            }
            switch (type) {
                case "triangle":
                    return new _PlayerJs2['default'](this.game, this.game.width / 2, this.game.height / 2, 30, 35, this.weaponFactory, null, true);
                case "square":
                    return new _SquarePlayerJs2['default'](this.game, this.game.width / 2, this.game.height / 2, 30, 35, this.weaponFactory, null, true);
                case "circle":
                    return new _CirclePlayerJs2['default'](this.game, this.game.width / 2, this.game.height / 2, 30, 35, this.weaponFactory, null, true);
                default:
                    return new _PlayerJs2['default'](this.game, this.game.width / 2, this.game.height / 2, 30, 35, this.weaponFactory, null, true);
            }
        }
    }, {
        key: 'createPeerPlayer',
        value: function createPeerPlayer(peerMetaData) {
            var type = peerMetaData.type;
            var player = null;
            switch (type) {
                case "triangle":
                    player = new _PlayerJs2['default'](this.game, peerMetaData.x, peerMetaData.y, 30, 35, this.weaponFactory, peerMetaData.colorSet, false);
                    break;
                case "square":
                    player = new _SquarePlayerJs2['default'](this.game, peerMetaData.x, peerMetaData.y, 30, 35, this.weaponFactory, peerMetaData.colorSet, false);
                    break;
                case "circle":
                    player = new _CirclePlayerJs2['default'](this.game, peerMetaData.x, peerMetaData.y, 30, 35, this.weaponFactory, peerMetaData.colorSet, false);
                    break;
                default:
                    player = new _PlayerJs2['default'](this.game, peerMetaData.x, peerMetaData.y, 30, 35, this.weaponFactory, peerMetaData.colorSet, false);
                    break;
            }
            player.playerId = peerMetaData.id;
            return player;
        }
    }]);

    return PlayerFactory;
})();

exports['default'] = PlayerFactory;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9wcmVmYWJzL3BsYXllcnMvUGxheWVyRmFjdG9yeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7d0JBQW1CLGFBQWE7Ozs7OEJBQ1AsbUJBQW1COzs7OzhCQUNuQixtQkFBbUI7Ozs7c0NBQ2xCLDZCQUE2Qjs7Ozs2QkFDckMsdUJBQXVCOzs7O0lBRXBCLGFBQWE7QUFJbkIsYUFKTSxhQUFhLENBSWxCLElBQUksRUFBRTs4QkFKRCxhQUFhOzthQUU5QixZQUFZLEdBQUcsQ0FBQyxVQUFVLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQzs7QUFHM0MsWUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7QUFDakIsWUFBSSxDQUFDLGFBQWEsR0FBRyx3Q0FBa0IsSUFBSSxDQUFDLENBQUM7S0FDaEQ7O2lCQVBnQixhQUFhOztlQVNsQixzQkFBQyxXQUFXLEVBQUU7QUFDdEIsZ0JBQUksSUFBSSxHQUFHLFdBQVcsQ0FBQztBQUN2QixnQkFBSSxDQUFDLElBQUksRUFBRTtBQUNQLG9CQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7YUFDbEY7QUFDRCxvQkFBUSxJQUFJO0FBQ1IscUJBQUssVUFBVTtBQUNYLDJCQUFPLDBCQUFXLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQUEsQUFDcEgscUJBQUssUUFBUTtBQUNULDJCQUFPLGdDQUFpQixJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUFBLEFBQzFILHFCQUFLLFFBQVE7QUFDVCwyQkFBTyxnQ0FBaUIsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFBQSxBQUMxSDtBQUNJLDJCQUFPLDBCQUFXLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQUEsYUFDdkg7U0FDSjs7O2VBR2UsMEJBQUMsWUFBWSxFQUFDO0FBQzNCLGdCQUFJLElBQUksR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDO0FBQzdCLGdCQUFJLE1BQU0sR0FBRyxJQUFJLENBQUM7QUFDbEIsb0JBQVEsSUFBSTtBQUNQLHFCQUFLLFVBQVU7QUFDWCwwQkFBTSxHQUFHLDBCQUFXLElBQUksQ0FBQyxJQUFJLEVBQUUsWUFBWSxDQUFDLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxZQUFZLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3pILDBCQUFNO0FBQUEsQUFDVixxQkFBSyxRQUFRO0FBQ1QsMEJBQU0sR0FBRyxnQ0FBaUIsSUFBSSxDQUFDLElBQUksRUFBRSxZQUFZLENBQUMsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLFlBQVksQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDL0gsMEJBQU07QUFBQSxBQUNWLHFCQUFLLFFBQVE7QUFDVCwwQkFBTSxHQUFHLGdDQUFpQixJQUFJLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsWUFBWSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMvSCwwQkFBTTtBQUFBLEFBQ1Y7QUFDSSwwQkFBTSxHQUFHLDBCQUFXLElBQUksQ0FBQyxJQUFJLEVBQUUsWUFBWSxDQUFDLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxZQUFZLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3pILDBCQUFNO0FBQUEsYUFDYjtBQUNELGtCQUFNLENBQUMsUUFBUSxHQUFHLFlBQVksQ0FBQyxFQUFFLENBQUM7QUFDbEMsbUJBQU8sTUFBTSxDQUFDO1NBQ2pCOzs7V0E5Q2dCLGFBQWE7OztxQkFBYixhQUFhIiwiZmlsZSI6IkQ6L2FxdWEvZ2Vvd2FyL3NyYy9wcmVmYWJzL3BsYXllcnMvUGxheWVyRmFjdG9yeS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQbGF5ZXIgZnJvbSAnLi9QbGF5ZXIuanMnO1xuaW1wb3J0IFNxdWFyZVBsYXllciBmcm9tICcuL1NxdWFyZVBsYXllci5qcyc7XG5pbXBvcnQgQ2lyY2xlUGxheWVyIGZyb20gJy4vQ2lyY2xlUGxheWVyLmpzJztcbmltcG9ydCBXZWFwb25GYWN0b3J5IGZyb20gJy4uL3dlYXBvbnMvV2VhcG9uRmFjdG9yeS5qcyc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL1V0aWxzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyRmFjdG9yeSB7XG5cbiAgICBfcGxheWVyVHlwZXMgPSBbJ3RyaWFuZ2xlJywgJ3NxdWFyZScsICdjaXJjbGUnXTtcblxuICAgIGNvbnN0cnVjdG9yKGdhbWUpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcbiAgICAgICAgdGhpcy53ZWFwb25GYWN0b3J5ID0gbmV3IFdlYXBvbkZhY3RvcnkoZ2FtZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlUGxheWVyKGRlZmF1bHRUeXBlKSB7XG4gICAgICAgIHZhciB0eXBlID0gZGVmYXVsdFR5cGU7XG4gICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgdHlwZSA9IHRoaXMuX3BsYXllclR5cGVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuX3BsYXllclR5cGVzLmxlbmd0aCldO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInRyaWFuZ2xlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQbGF5ZXIodGhpcy5nYW1lLCB0aGlzLmdhbWUud2lkdGggLyAyLCB0aGlzLmdhbWUuaGVpZ2h0IC8gMiwgMzAsIDM1LCB0aGlzLndlYXBvbkZhY3RvcnksIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgY2FzZSBcInNxdWFyZVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU3F1YXJlUGxheWVyKHRoaXMuZ2FtZSwgdGhpcy5nYW1lLndpZHRoIC8gMiwgdGhpcy5nYW1lLmhlaWdodCAvIDIsIDMwLCAzNSwgdGhpcy53ZWFwb25GYWN0b3J5LCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIGNhc2UgXCJjaXJjbGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENpcmNsZVBsYXllcih0aGlzLmdhbWUsIHRoaXMuZ2FtZS53aWR0aCAvIDIsIHRoaXMuZ2FtZS5oZWlnaHQgLyAyLCAzMCwgMzUsIHRoaXMud2VhcG9uRmFjdG9yeSwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGxheWVyKHRoaXMuZ2FtZSwgdGhpcy5nYW1lLndpZHRoIC8gMiwgdGhpcy5nYW1lLmhlaWdodCAvIDIsIDMwLCAzNSwgdGhpcy53ZWFwb25GYWN0b3J5LCBudWxsLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgY3JlYXRlUGVlclBsYXllcihwZWVyTWV0YURhdGEpe1xuICAgICAgIHZhciB0eXBlID0gcGVlck1ldGFEYXRhLnR5cGU7XG4gICAgICAgdmFyIHBsYXllciA9IG51bGw7XG4gICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidHJpYW5nbGVcIjpcbiAgICAgICAgICAgICAgICBwbGF5ZXIgPSBuZXcgUGxheWVyKHRoaXMuZ2FtZSwgcGVlck1ldGFEYXRhLngsIHBlZXJNZXRhRGF0YS55LCAzMCwgMzUsIHRoaXMud2VhcG9uRmFjdG9yeSwgcGVlck1ldGFEYXRhLmNvbG9yU2V0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3F1YXJlXCI6XG4gICAgICAgICAgICAgICAgcGxheWVyID0gbmV3IFNxdWFyZVBsYXllcih0aGlzLmdhbWUsIHBlZXJNZXRhRGF0YS54LCBwZWVyTWV0YURhdGEueSwgMzAsIDM1LCB0aGlzLndlYXBvbkZhY3RvcnksIHBlZXJNZXRhRGF0YS5jb2xvclNldCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNpcmNsZVwiOlxuICAgICAgICAgICAgICAgIHBsYXllciA9IG5ldyBDaXJjbGVQbGF5ZXIodGhpcy5nYW1lLCBwZWVyTWV0YURhdGEueCwgcGVlck1ldGFEYXRhLnksIDMwLCAzNSwgdGhpcy53ZWFwb25GYWN0b3J5LCBwZWVyTWV0YURhdGEuY29sb3JTZXQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcGxheWVyID0gbmV3IFBsYXllcih0aGlzLmdhbWUsIHBlZXJNZXRhRGF0YS54LCBwZWVyTWV0YURhdGEueSwgMzAsIDM1LCB0aGlzLndlYXBvbkZhY3RvcnksIHBlZXJNZXRhRGF0YS5jb2xvclNldCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHBsYXllci5wbGF5ZXJJZCA9IHBlZXJNZXRhRGF0YS5pZDtcbiAgICAgICAgcmV0dXJuIHBsYXllcjtcbiAgICB9XG5cbn0iXX0=
},{"../../common/Utils.js":3,"../weapons/WeaponFactory.js":10,"./CirclePlayer.js":4,"./Player.js":5,"./SquarePlayer.js":7}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _PlayerJs = require('./Player.js');

var _PlayerJs2 = _interopRequireDefault(_PlayerJs);

var _commonCanvasHelperJs = require('../../common/CanvasHelper.js');

var _commonCanvasHelperJs2 = _interopRequireDefault(_commonCanvasHelperJs);

var _texturesPlayersSquareplayerJson = require('../../textures/players/squareplayer.json');

var _texturesPlayersSquareplayerJson2 = _interopRequireDefault(_texturesPlayersSquareplayerJson);

var SquarePlayer = (function (_Player) {
    _inherits(SquarePlayer, _Player);

    function SquarePlayer() {
        _classCallCheck(this, SquarePlayer);

        _get(Object.getPrototypeOf(SquarePlayer.prototype), 'constructor', this).apply(this, arguments);
    }

    _createClass(SquarePlayer, [{
        key: 'draw',
        value: function draw() {
            new _commonCanvasHelperJs2['default'](this.canvas, _texturesPlayersSquareplayerJson2['default'], this.colorSet).drawTexture();
        }
    }, {
        key: 'getType',
        value: function getType() {
            return "square";
        }
    }]);

    return SquarePlayer;
})(_PlayerJs2['default']);

exports['default'] = SquarePlayer;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9wcmVmYWJzL3BsYXllcnMvU3F1YXJlUGxheWVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7d0JBQW1CLGFBQWE7Ozs7b0NBQ1AsOEJBQThCOzs7OytDQUNoQywwQ0FBMEM7Ozs7SUFFNUMsWUFBWTtjQUFaLFlBQVk7O2FBQVosWUFBWTs4QkFBWixZQUFZOzttQ0FBWixZQUFZOzs7aUJBQVosWUFBWTs7ZUFFekIsZ0JBQUc7QUFDSCxrREFBaUIsSUFBSSxDQUFDLE1BQU0sZ0RBQVksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ3hFOzs7ZUFFTSxtQkFBRTtBQUNMLG1CQUFPLFFBQVEsQ0FBQztTQUNuQjs7O1dBUmdCLFlBQVk7OztxQkFBWixZQUFZIiwiZmlsZSI6IkQ6L2FxdWEvZ2Vvd2FyL3NyYy9wcmVmYWJzL3BsYXllcnMvU3F1YXJlUGxheWVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBsYXllciBmcm9tICcuL1BsYXllci5qcyc7XG5pbXBvcnQgQ2FudmFzSGVscGVyIGZyb20gJy4uLy4uL2NvbW1vbi9DYW52YXNIZWxwZXIuanMnO1xuaW1wb3J0IHBsYXllckpzb24gZnJvbSAnLi4vLi4vdGV4dHVyZXMvcGxheWVycy9zcXVhcmVwbGF5ZXIuanNvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNxdWFyZVBsYXllciBleHRlbmRzIFBsYXllciB7XG5cbiAgICBkcmF3KCkge1xuICAgICAgICBuZXcgQ2FudmFzSGVscGVyKHRoaXMuY2FudmFzLHBsYXllckpzb24sdGhpcy5jb2xvclNldCkuZHJhd1RleHR1cmUoKTtcbiAgICB9XG5cbiAgICBnZXRUeXBlKCl7XG4gICAgICAgIHJldHVybiBcInNxdWFyZVwiO1xuICAgIH1cblxufSJdfQ==
},{"../../common/CanvasHelper.js":2,"../../textures/players/squareplayer.json":22,"./Player.js":5}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _WeaponJs = require('./Weapon.js');

var _WeaponJs2 = _interopRequireDefault(_WeaponJs);

var _commonUtilsJs = require('../../common/Utils.js');

var _commonUtilsJs2 = _interopRequireDefault(_commonUtilsJs);

var _commonCanvasHelperJs = require('../../common/CanvasHelper.js');

var _commonCanvasHelperJs2 = _interopRequireDefault(_commonCanvasHelperJs);

var _texturesWeaponsDirtweaponJson = require('../../textures/weapons/dirtweapon.json');

var _texturesWeaponsDirtweaponJson2 = _interopRequireDefault(_texturesWeaponsDirtweaponJson);

var DirtWeapon = (function (_Weapon) {
    _inherits(DirtWeapon, _Weapon);

    function DirtWeapon() {
        _classCallCheck(this, DirtWeapon);

        _get(Object.getPrototypeOf(DirtWeapon.prototype), 'constructor', this).apply(this, arguments);
    }

    _createClass(DirtWeapon, [{
        key: 'createBullet',
        value: function createBullet() {
            this.bmd = this.game.make.bitmapData(12, 12);
            new _commonCanvasHelperJs2['default'](this.bmd, _texturesWeaponsDirtweaponJson2['default']).drawTexture();
        }
    }]);

    return DirtWeapon;
})(_WeaponJs2['default']);

exports['default'] = DirtWeapon;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9wcmVmYWJzL3dlYXBvbnMvRGlydFdlYXBvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O3dCQUFtQixhQUFhOzs7OzZCQUNkLHVCQUF1Qjs7OztvQ0FDaEIsOEJBQThCOzs7OzZDQUNoQyx3Q0FBd0M7Ozs7SUFFMUMsVUFBVTtjQUFWLFVBQVU7O2FBQVYsVUFBVTs4QkFBVixVQUFVOzttQ0FBVixVQUFVOzs7aUJBQVYsVUFBVTs7ZUFFZix3QkFBRztBQUNYLGdCQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDN0Msa0RBQWlCLElBQUksQ0FBQyxHQUFHLDZDQUFZLENBQUMsV0FBVyxFQUFFLENBQUM7U0FDdkQ7OztXQUxnQixVQUFVOzs7cUJBQVYsVUFBVSIsImZpbGUiOiJEOi9hcXVhL2dlb3dhci9zcmMvcHJlZmFicy93ZWFwb25zL0RpcnRXZWFwb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV2VhcG9uIGZyb20gJy4vV2VhcG9uLmpzJztcbmltcG9ydCBVdGlscyBmcm9tICcuLi8uLi9jb21tb24vVXRpbHMuanMnO1xuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tICcuLi8uLi9jb21tb24vQ2FudmFzSGVscGVyLmpzJztcbmltcG9ydCB3ZWFwb25Kc29uIGZyb20gJy4uLy4uL3RleHR1cmVzL3dlYXBvbnMvZGlydHdlYXBvbi5qc29uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlydFdlYXBvbiBleHRlbmRzIFdlYXBvbntcblxuICAgIGNyZWF0ZUJ1bGxldCgpIHtcbiAgICAgICAgdGhpcy5ibWQgPSB0aGlzLmdhbWUubWFrZS5iaXRtYXBEYXRhKDEyLCAxMik7XG4gICAgICAgIG5ldyBDYW52YXNIZWxwZXIodGhpcy5ibWQsd2VhcG9uSnNvbikuZHJhd1RleHR1cmUoKTtcbiAgICB9XG5cbn0iXX0=
},{"../../common/CanvasHelper.js":2,"../../common/Utils.js":3,"../../textures/weapons/dirtweapon.json":23,"./Weapon.js":9}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _commonUtilsJs = require('../../common/Utils.js');

var _commonUtilsJs2 = _interopRequireDefault(_commonUtilsJs);

var _commonCanvasHelperJs = require('../../common/CanvasHelper.js');

var _commonCanvasHelperJs2 = _interopRequireDefault(_commonCanvasHelperJs);

var _texturesWeaponsWeaponJson = require('../../textures/weapons/weapon.json');

var _texturesWeaponsWeaponJson2 = _interopRequireDefault(_texturesWeaponsWeaponJson);

var Weapon = (function () {
    function Weapon(game, player) {
        _classCallCheck(this, Weapon);

        this.game = game;
        this.player = player;
        this.speed = 500;
        this.shotInterval = 50;
        this.bulletGate = 0;
        this.bulletGroup = this.game.add.group();
        this.createBullet();
    }

    _createClass(Weapon, [{
        key: 'createBullet',
        value: function createBullet() {
            this.bmd = this.game.make.bitmapData(12, 12);
            new _commonCanvasHelperJs2['default'](this.bmd, _texturesWeaponsWeaponJson2['default'], { body: this.player.colorSet.head }).drawTexture();
        }
    }, {
        key: 'fire',
        value: function fire() {
            if (this.game.time.now > this.bulletGate) {
                var bullet = this.bulletGroup.getFirstDead();
                var pos = this.initBulletPosition();
                if (bullet) {
                    bullet.body.x = pos.x;
                    bullet.body.y = pos.y;
                    var v = this.initBulletVelocity();
                    bullet.body.velocity.x = v.x;
                    bullet.body.velocity.y = v.y;
                    bullet.revive();
                } else {
                    var bullet = this.bulletGroup.create(pos.x, pos.y, this.bmd);
                    bullet.isBullet = true;
                    this.game.physics.p2.enable(bullet);
                    bullet.checkWorldBounds = true;
                    bullet.body.collideWorldBounds = false;
                    bullet.events.onOutOfBounds.add(this.bulletOutOfBounds, this);
                    var v = this.initBulletVelocity();
                    bullet.body.velocity.x = v.x;
                    bullet.body.velocity.y = v.y;
                    this.collideSetting(bullet);
                }

                this.bulletGate = this.game.time.now + this.shotInterval;
            }
        }
    }, {
        key: 'collideSetting',
        value: function collideSetting(bullet) {
            bullet.body.setCollisionGroup(this.game.geowar.bulletCollisionGroup);
            bullet.body.collides([this.game.geowar.playerCollisionGroup, this.game.geowar.bulletCollisionGroup]);
            bullet.body.onBeginContact.add(this.bulletContact, this);
        }
    }, {
        key: 'bulletContact',
        value: function bulletContact(otherBody) {
            //only kill the player
            if (otherBody && otherBody.sprite && typeof /Player/i.test(otherBody.sprite.constructor.name)) {
                if (otherBody.sprite != this.player) {
                    //not kill, directly kick player out
                    otherBody.sprite.destroy();
                }
            }
        }
    }, {
        key: 'bulletOutOfBounds',
        value: function bulletOutOfBounds(bullet) {
            bullet.kill();
        }
    }, {
        key: 'initBulletVelocity',
        value: function initBulletVelocity() {
            var angle = this.player.body.angle;
            var v = 400;
            var x = Math.sin(angle * Math.PI / 180) * this.speed;
            var y = Math.cos(angle * Math.PI / 180) * this.speed * -1;
            return {
                x: x,
                y: y
            };
        }
    }, {
        key: 'initBulletPosition',
        value: function initBulletPosition() {
            var headToBodyCenter = this.player.width / 2 + 5;
            var angle = this.player.body.angle;
            var x = this.player.x + Math.sin(angle * Math.PI / 180) * headToBodyCenter;
            var y = this.player.y - Math.cos(angle * Math.PI / 180) * headToBodyCenter;
            return {
                x: x,
                y: y
            };
        }
    }, {
        key: 'destroy',
        value: function destroy() {
            this.bulletGroup.destroy();
        }
    }]);

    return Weapon;
})();

exports['default'] = Weapon;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9wcmVmYWJzL3dlYXBvbnMvV2VhcG9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs2QkFBa0IsdUJBQXVCOzs7O29DQUNoQiw4QkFBOEI7Ozs7eUNBQ2hDLG9DQUFvQzs7OztJQUV0QyxNQUFNO0FBRVosYUFGTSxNQUFNLENBRVgsSUFBSSxFQUFDLE1BQU0sRUFBRTs4QkFGUixNQUFNOztBQUduQixZQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztBQUNqQixZQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztBQUNyQixZQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztBQUNqQixZQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQztBQUN2QixZQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztBQUNwQixZQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQ3pDLFlBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztLQUN2Qjs7aUJBVmdCLE1BQU07O2VBYVgsd0JBQUc7QUFDWCxnQkFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzdDLGtEQUFpQixJQUFJLENBQUMsR0FBRywwQ0FBYyxFQUFDLElBQUksRUFBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQzVGOzs7ZUFHRyxnQkFBRztBQUNILGdCQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFO0FBQ3RDLG9CQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxDQUFDO0FBQzdDLG9CQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztBQUNwQyxvQkFBSSxNQUFNLEVBQUU7QUFDUiwwQkFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUN0QiwwQkFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUN0Qix3QkFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7QUFDbEMsMEJBQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzdCLDBCQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM3QiwwQkFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO2lCQUNuQixNQUNJO0FBQ0Qsd0JBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDN0QsMEJBQU0sQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLHdCQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3BDLDBCQUFNLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO0FBQy9CLDBCQUFNLENBQUMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQztBQUN2QywwQkFBTSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM5RCx3QkFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7QUFDbEMsMEJBQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzdCLDBCQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM3Qix3QkFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztpQkFDL0I7O0FBRUQsb0JBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7YUFDNUQ7U0FDSjs7O2VBRWEsd0JBQUMsTUFBTSxFQUFFO0FBQ25CLGtCQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLENBQUM7QUFDckUsa0JBQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDO0FBQ3JHLGtCQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBQyxJQUFJLENBQUMsQ0FBQztTQUMzRDs7O2VBRVksdUJBQUMsU0FBUyxFQUFFOztBQUVyQixnQkFBSSxTQUFTLElBQUksU0FBUyxDQUFDLE1BQU0sSUFBSSxPQUFPLFNBQVMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDM0Ysb0JBQUksU0FBUyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFDOztBQUVoQyw2QkFBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztpQkFDOUI7YUFDSjtTQUNKOzs7ZUFHZ0IsMkJBQUMsTUFBTSxFQUFFO0FBQ3RCLGtCQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDakI7OztlQUdpQiw4QkFBRztBQUNqQixnQkFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ25DLGdCQUFJLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDWixnQkFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ3JELGdCQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDMUQsbUJBQU87QUFDSCxpQkFBQyxFQUFFLENBQUM7QUFDSixpQkFBQyxFQUFFLENBQUM7YUFDUCxDQUFDO1NBQ0w7OztlQUdpQiw4QkFBRztBQUNqQixnQkFBSSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2pELGdCQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7QUFDbkMsZ0JBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEdBQUcsZ0JBQWdCLENBQUM7QUFDM0UsZ0JBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEdBQUcsZ0JBQWdCLENBQUM7QUFDM0UsbUJBQU87QUFDSCxpQkFBQyxFQUFFLENBQUM7QUFDSixpQkFBQyxFQUFFLENBQUM7YUFDUCxDQUFDO1NBQ0w7OztlQUdNLG1CQUFFO0FBQ0wsZ0JBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDOUI7OztXQWhHZ0IsTUFBTTs7O3FCQUFOLE1BQU0iLCJmaWxlIjoiRDovYXF1YS9nZW93YXIvc3JjL3ByZWZhYnMvd2VhcG9ucy9XZWFwb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL1V0aWxzLmpzJztcbmltcG9ydCBDYW52YXNIZWxwZXIgZnJvbSAnLi4vLi4vY29tbW9uL0NhbnZhc0hlbHBlci5qcyc7XG5pbXBvcnQgd2VhcG9uSnNvbiBmcm9tICcuLi8uLi90ZXh0dXJlcy93ZWFwb25zL3dlYXBvbi5qc29uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2VhcG9uIHtcblxuICAgIGNvbnN0cnVjdG9yKGdhbWUscGxheWVyKSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgICAgICB0aGlzLnNwZWVkID0gNTAwO1xuICAgICAgICB0aGlzLnNob3RJbnRlcnZhbCA9IDUwO1xuICAgICAgICB0aGlzLmJ1bGxldEdhdGUgPSAwO1xuICAgICAgICB0aGlzLmJ1bGxldEdyb3VwID0gdGhpcy5nYW1lLmFkZC5ncm91cCgpO1xuICAgICAgICB0aGlzLmNyZWF0ZUJ1bGxldCgpO1xuICAgIH1cblxuXG4gICAgY3JlYXRlQnVsbGV0KCkge1xuICAgICAgICB0aGlzLmJtZCA9IHRoaXMuZ2FtZS5tYWtlLmJpdG1hcERhdGEoMTIsIDEyKTtcbiAgICAgICAgbmV3IENhbnZhc0hlbHBlcih0aGlzLmJtZCwgd2VhcG9uSnNvbiwge2JvZHkgOiB0aGlzLnBsYXllci5jb2xvclNldC5oZWFkfSkuZHJhd1RleHR1cmUoKTtcbiAgICB9XG5cblxuICAgIGZpcmUoKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWUudGltZS5ub3cgPiB0aGlzLmJ1bGxldEdhdGUpIHtcbiAgICAgICAgICAgIHZhciBidWxsZXQgPSB0aGlzLmJ1bGxldEdyb3VwLmdldEZpcnN0RGVhZCgpO1xuICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMuaW5pdEJ1bGxldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBpZiAoYnVsbGV0KSB7ICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJ1bGxldC5ib2R5LnggPSBwb3MueDtcbiAgICAgICAgICAgICAgICBidWxsZXQuYm9keS55ID0gcG9zLnk7XG4gICAgICAgICAgICAgICAgdmFyIHYgPSB0aGlzLmluaXRCdWxsZXRWZWxvY2l0eSgpO1xuICAgICAgICAgICAgICAgIGJ1bGxldC5ib2R5LnZlbG9jaXR5LnggPSB2Lng7XG4gICAgICAgICAgICAgICAgYnVsbGV0LmJvZHkudmVsb2NpdHkueSA9IHYueTtcbiAgICAgICAgICAgICAgICBidWxsZXQucmV2aXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgYnVsbGV0ID0gdGhpcy5idWxsZXRHcm91cC5jcmVhdGUocG9zLngsIHBvcy55LCB0aGlzLmJtZCk7XG4gICAgICAgICAgICAgICAgYnVsbGV0LmlzQnVsbGV0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUucGh5c2ljcy5wMi5lbmFibGUoYnVsbGV0KTtcbiAgICAgICAgICAgICAgICBidWxsZXQuY2hlY2tXb3JsZEJvdW5kcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnVsbGV0LmJvZHkuY29sbGlkZVdvcmxkQm91bmRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnVsbGV0LmV2ZW50cy5vbk91dE9mQm91bmRzLmFkZCh0aGlzLmJ1bGxldE91dE9mQm91bmRzLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgdiA9IHRoaXMuaW5pdEJ1bGxldFZlbG9jaXR5KCk7XG4gICAgICAgICAgICAgICAgYnVsbGV0LmJvZHkudmVsb2NpdHkueCA9IHYueDtcbiAgICAgICAgICAgICAgICBidWxsZXQuYm9keS52ZWxvY2l0eS55ID0gdi55O1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGlkZVNldHRpbmcoYnVsbGV0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5idWxsZXRHYXRlID0gdGhpcy5nYW1lLnRpbWUubm93ICsgdGhpcy5zaG90SW50ZXJ2YWw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb2xsaWRlU2V0dGluZyhidWxsZXQpIHtcbiAgICAgICAgYnVsbGV0LmJvZHkuc2V0Q29sbGlzaW9uR3JvdXAodGhpcy5nYW1lLmdlb3dhci5idWxsZXRDb2xsaXNpb25Hcm91cCk7XG4gICAgICAgIGJ1bGxldC5ib2R5LmNvbGxpZGVzKFt0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllckNvbGxpc2lvbkdyb3VwLCB0aGlzLmdhbWUuZ2Vvd2FyLmJ1bGxldENvbGxpc2lvbkdyb3VwXSk7XG4gICAgICAgIGJ1bGxldC5ib2R5Lm9uQmVnaW5Db250YWN0LmFkZCh0aGlzLmJ1bGxldENvbnRhY3QsdGhpcyk7XG4gICAgfTtcblxuICAgIGJ1bGxldENvbnRhY3Qob3RoZXJCb2R5KSB7XG4gICAgICAgIC8vb25seSBraWxsIHRoZSBwbGF5ZXJcbiAgICAgICAgaWYgKG90aGVyQm9keSAmJiBvdGhlckJvZHkuc3ByaXRlICYmIHR5cGVvZiAvUGxheWVyL2kudGVzdChvdGhlckJvZHkuc3ByaXRlLmNvbnN0cnVjdG9yLm5hbWUpKSB7XG4gICAgICAgICAgICBpZiAob3RoZXJCb2R5LnNwcml0ZSAhPSB0aGlzLnBsYXllcil7XG4gICAgICAgICAgICAgICAgLy9ub3Qga2lsbCwgZGlyZWN0bHkga2ljayBwbGF5ZXIgb3V0XG4gICAgICAgICAgICAgICAgb3RoZXJCb2R5LnNwcml0ZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBidWxsZXRPdXRPZkJvdW5kcyhidWxsZXQpIHtcbiAgICAgICAgYnVsbGV0LmtpbGwoKTtcbiAgICB9O1xuXG5cbiAgICBpbml0QnVsbGV0VmVsb2NpdHkoKSB7XG4gICAgICAgIHZhciBhbmdsZSA9IHRoaXMucGxheWVyLmJvZHkuYW5nbGU7XG4gICAgICAgIHZhciB2ID0gNDAwO1xuICAgICAgICB2YXIgeCA9IE1hdGguc2luKGFuZ2xlICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLnNwZWVkO1xuICAgICAgICB2YXIgeSA9IE1hdGguY29zKGFuZ2xlICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLnNwZWVkICogLTE7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICB9O1xuICAgIH07XG5cblxuICAgIGluaXRCdWxsZXRQb3NpdGlvbigpIHtcbiAgICAgICAgdmFyIGhlYWRUb0JvZHlDZW50ZXIgPSB0aGlzLnBsYXllci53aWR0aCAvIDIgKyA1O1xuICAgICAgICB2YXIgYW5nbGUgPSB0aGlzLnBsYXllci5ib2R5LmFuZ2xlO1xuICAgICAgICB2YXIgeCA9IHRoaXMucGxheWVyLnggKyBNYXRoLnNpbihhbmdsZSAqIE1hdGguUEkgLyAxODApICogaGVhZFRvQm9keUNlbnRlcjtcbiAgICAgICAgdmFyIHkgPSB0aGlzLnBsYXllci55IC0gTWF0aC5jb3MoYW5nbGUgKiBNYXRoLlBJIC8gMTgwKSAqIGhlYWRUb0JvZHlDZW50ZXI7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICB9O1xuICAgIH07XG5cblxuICAgIGRlc3Ryb3koKXtcbiAgICAgICAgdGhpcy5idWxsZXRHcm91cC5kZXN0cm95KCk7XG4gICAgfVxuXG59Il19
},{"../../common/CanvasHelper.js":2,"../../common/Utils.js":3,"../../textures/weapons/weapon.json":24}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _WeaponJs = require('./Weapon.js');

var _WeaponJs2 = _interopRequireDefault(_WeaponJs);

var _DirtWeaponJs = require('./DirtWeapon.js');

var _DirtWeaponJs2 = _interopRequireDefault(_DirtWeaponJs);

var WeaponFactory = (function () {
    function WeaponFactory(game) {
        _classCallCheck(this, WeaponFactory);

        this.weapon_type = ['basic', 'dirt'];

        this.game = game;
    }

    _createClass(WeaponFactory, [{
        key: 'createWeapon',
        value: function createWeapon(type, player) {
            switch (type) {
                case "basic":
                    return new _WeaponJs2['default'](this.game, player);
                case "dirt":
                    return new _DirtWeaponJs2['default'](this.game, player);
                default:
                    return new _WeaponJs2['default'](this.game, player);
            }
        }
    }]);

    return WeaponFactory;
})();

exports['default'] = WeaponFactory;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9wcmVmYWJzL3dlYXBvbnMvV2VhcG9uRmFjdG9yeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7d0JBQW1CLGFBQWE7Ozs7NEJBQ1QsaUJBQWlCOzs7O0lBRW5CLGFBQWE7QUFJbkIsYUFKTSxhQUFhLENBSWxCLElBQUksRUFBRTs4QkFKRCxhQUFhOzthQUU5QixXQUFXLEdBQUcsQ0FBQyxPQUFPLEVBQUMsTUFBTSxDQUFDOztBQUcxQixZQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztLQUNwQjs7aUJBTmdCLGFBQWE7O2VBU2xCLHNCQUFDLElBQUksRUFBQyxNQUFNLEVBQUU7QUFDdEIsb0JBQU8sSUFBSTtBQUNQLHFCQUFLLE9BQU87QUFDVCwyQkFBTywwQkFBVyxJQUFJLENBQUMsSUFBSSxFQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQUEsQUFDdkMscUJBQUssTUFBTTtBQUNSLDJCQUFPLDhCQUFlLElBQUksQ0FBQyxJQUFJLEVBQUMsTUFBTSxDQUFDLENBQUM7QUFBQSxBQUMzQztBQUNHLDJCQUFPLDBCQUFXLElBQUksQ0FBQyxJQUFJLEVBQUMsTUFBTSxDQUFDLENBQUM7QUFBQSxhQUMxQztTQUNKOzs7V0FsQmdCLGFBQWE7OztxQkFBYixhQUFhIiwiZmlsZSI6IkQ6L2FxdWEvZ2Vvd2FyL3NyYy9wcmVmYWJzL3dlYXBvbnMvV2VhcG9uRmFjdG9yeS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXZWFwb24gZnJvbSAnLi9XZWFwb24uanMnO1xuaW1wb3J0IERpcnRXZWFwb24gZnJvbSAnLi9EaXJ0V2VhcG9uLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2VhcG9uRmFjdG9yeSB7XG5cbiAgICB3ZWFwb25fdHlwZSA9IFsnYmFzaWMnLCdkaXJ0J107XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lKSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgfVxuXG5cbiAgICBjcmVhdGVXZWFwb24odHlwZSxwbGF5ZXIpIHtcbiAgICAgICAgc3dpdGNoKHR5cGUpe1xuICAgICAgICAgICAgY2FzZSBcImJhc2ljXCIgOiBcbiAgICAgICAgICAgICAgIHJldHVybiBuZXcgV2VhcG9uKHRoaXMuZ2FtZSxwbGF5ZXIpO1xuICAgICAgICAgICAgY2FzZSBcImRpcnRcIiA6IFxuICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEaXJ0V2VhcG9uKHRoaXMuZ2FtZSxwbGF5ZXIpO1xuICAgICAgICAgICAgZGVmYXVsdCA6IFxuICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBXZWFwb24odGhpcy5nYW1lLHBsYXllcik7XG4gICAgICAgIH0gXG4gICAgfVxuXG59Il19
},{"./DirtWeapon.js":8,"./Weapon.js":9}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var CommonHandler = (function () {
    function CommonHandler(game) {
        _classCallCheck(this, CommonHandler);

        this.game = game;
    }

    _createClass(CommonHandler, [{
        key: "handle",
        value: function handle(data) {
            switch (data.action) {
                case "create":
                    create(data);
                    break;
                case "move":
                    move(data);
                    break;
                case "change":
                    change(data);
                    break;
                case "destroy":
                    destroy(data);
                    break;
                default:
                    break;
            }
        }
    }, {
        key: "create",
        value: function create(data) {}
    }, {
        key: "move",
        value: function move(data) {}
    }, {
        key: "change",
        value: function change(data) {}
    }, {
        key: "destroy",
        value: function destroy(data) {}
    }]);

    return CommonHandler;
})();

exports["default"] = CommonHandler;
module.exports = exports["default"];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9zb2NrZXQvQ29tbW9uSGFuZGxlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQXFCLGFBQWE7QUFDbkIsYUFETSxhQUFhLENBQ2xCLElBQUksRUFBRTs4QkFERCxhQUFhOztBQUUxQixZQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztLQUNwQjs7aUJBSGdCLGFBQWE7O2VBS3hCLGdCQUFDLElBQUksRUFBRTtBQUNWLG9CQUFPLElBQUksQ0FBQyxNQUFNO0FBQ2YscUJBQUssUUFBUTtBQUNULDBCQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDYiwwQkFBTTtBQUFBLEFBQ1YscUJBQUssTUFBTTtBQUNQLHdCQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDWCwwQkFBTTtBQUFBLEFBQ1YscUJBQUssUUFBUTtBQUNULDBCQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDYiwwQkFBTTtBQUFBLEFBQ1YscUJBQUssU0FBUztBQUNWLDJCQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDZCwwQkFBTTtBQUFBLEFBQ1Y7QUFDSSwwQkFBTTtBQUFBLGFBQ1o7U0FDSDs7O2VBR0ssZ0JBQUMsSUFBSSxFQUFDLEVBRVg7OztlQUVHLGNBQUMsSUFBSSxFQUFDLEVBRVQ7OztlQUVLLGdCQUFDLElBQUksRUFBQyxFQUVYOzs7ZUFFTSxpQkFBQyxJQUFJLEVBQUMsRUFFWjs7O1dBdkNnQixhQUFhOzs7cUJBQWIsYUFBYSIsImZpbGUiOiJEOi9hcXVhL2dlb3dhci9zcmMvc29ja2V0L0NvbW1vbkhhbmRsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb21tb25IYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihnYW1lKSB7XG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgfVxuXG4gICAgaGFuZGxlKGRhdGEpIHtcbiAgICAgICBzd2l0Y2goZGF0YS5hY3Rpb24pe1xuICAgICAgICAgIGNhc2UgXCJjcmVhdGVcIiA6IFxuICAgICAgICAgICAgICBjcmVhdGUoZGF0YSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJtb3ZlXCIgOiBcbiAgICAgICAgICAgICAgbW92ZShkYXRhKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImNoYW5nZVwiIDogXG4gICAgICAgICAgICAgIGNoYW5nZShkYXRhKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImRlc3Ryb3lcIiA6IFxuICAgICAgICAgICAgICBkZXN0cm95KGRhdGEpO1xuICAgICAgICAgICAgICBicmVhazsgICAgICAgICAgICBcbiAgICAgICAgICBkZWZhdWx0IDogXG4gICAgICAgICAgICAgIGJyZWFrOyAgICAgIFxuICAgICAgIH1cbiAgICB9XG5cblxuICAgIGNyZWF0ZShkYXRhKXtcblxuICAgIH1cblxuICAgIG1vdmUoZGF0YSl7XG5cbiAgICB9XG5cbiAgICBjaGFuZ2UoZGF0YSl7XG5cbiAgICB9XG5cbiAgICBkZXN0cm95KGRhdGEpe1xuXG4gICAgfVxufSJdfQ==
},{}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
      value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var ConnectionHandler = (function () {
      function ConnectionHandler(game) {
            _classCallCheck(this, ConnectionHandler);

            this.game = game;
      }

      _createClass(ConnectionHandler, [{
            key: 'handle',
            value: function handle(data) {
                  if (!this.game.geowar.players) {
                        this.game.geowar.players = {};
                  }
                  if (data.type === 'connected') {
                        this.game.geowar.socketReady = true;
                        //set current player id
                        this.game.geowar.currentPlayer.playerId = data.id;
                        //add to player map
                        this.game.geowar.players[data.id] = {
                              sprite: this.game.geowar.currentPlayer
                        };
                        console.log('playerId = ' + this.game.geowar.currentPlayer.playerId + ' connected');
                  } else if (data.type === 'disconnected') {
                        var needDestroy = true;
                        if (this.game.geowar.currentPlayer.playerId == data.id) {
                              needDestroy = false;
                              this.game.geowar.socketReady = false;
                              console.log('playerId = ' + this.game.geowar.currentPlayer.playerId + 'disconnected');
                        }
                        if (this.game.geowar.players[data.id]) {
                              if (needDestroy) {
                                    this.game.geowar.players[data.id].sprite.destroy();
                              }
                              delete this.game.geowar.players[data.id];
                        }
                  }
            }
      }]);

      return ConnectionHandler;
})();

exports['default'] = ConnectionHandler;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9zb2NrZXQvQ29ubmVjdGlvbkhhbmRsZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQixpQkFBaUI7QUFFckIsZUFGSSxpQkFBaUIsQ0FFcEIsSUFBSSxFQUFFO2tDQUZILGlCQUFpQjs7QUFHMUIsZ0JBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO09BQ3RCOzttQkFKYyxpQkFBaUI7O21CQU0xQixnQkFBQyxJQUFJLEVBQUU7QUFDUCxzQkFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRTtBQUN6Qiw0QkFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQzttQkFDbkM7QUFDRCxzQkFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFdBQVcsRUFBRTtBQUN6Qiw0QkFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQzs7QUFFcEMsNEJBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQzs7QUFFbEQsNEJBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUc7QUFDOUIsb0NBQU0sRUFBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhO3lCQUM1QyxDQUFDO0FBQ0YsK0JBQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEdBQUcsWUFBWSxDQUFDLENBQUM7bUJBQ3pGLE1BQ0ksSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLGNBQWMsRUFBRTtBQUNqQyw0QkFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLDRCQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLEVBQUUsRUFBRTtBQUNsRCx5Q0FBVyxHQUFHLEtBQUssQ0FBQztBQUNwQixrQ0FBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztBQUNyQyxxQ0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLFFBQVEsR0FBRyxjQUFjLENBQUMsQ0FBQzt5QkFDM0Y7QUFDRCw0QkFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQ2pDLGtDQUFJLFdBQVcsRUFBRTtBQUNYLHdDQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQzsrQkFDeEQ7QUFDRCxxQ0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO3lCQUM5QzttQkFFTjthQUNOOzs7YUFuQ2MsaUJBQWlCOzs7cUJBQWpCLGlCQUFpQiIsImZpbGUiOiJEOi9hcXVhL2dlb3dhci9zcmMvc29ja2V0L0Nvbm5lY3Rpb25IYW5kbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29ubmVjdGlvbkhhbmRsZXIge1xuXG4gICAgICBjb25zdHJ1Y3RvcihnYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWUgPSBnYW1lO1xuICAgICAgfVxuXG4gICAgICBoYW5kbGUoZGF0YSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnMpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5nZW93YXIucGxheWVycyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5nZW93YXIuc29ja2V0UmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgLy9zZXQgY3VycmVudCBwbGF5ZXIgaWRcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5nZW93YXIuY3VycmVudFBsYXllci5wbGF5ZXJJZCA9IGRhdGEuaWQ7XG4gICAgICAgICAgICAgICAgICAvL2FkZCB0byBwbGF5ZXIgbWFwXG4gICAgICAgICAgICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnNbZGF0YS5pZF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUgOiB0aGlzLmdhbWUuZ2Vvd2FyLmN1cnJlbnRQbGF5ZXJcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGxheWVySWQgPSAnICsgdGhpcy5nYW1lLmdlb3dhci5jdXJyZW50UGxheWVyLnBsYXllcklkICsgJyBjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBuZWVkRGVzdHJveSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBpZiAodGhpcy5nYW1lLmdlb3dhci5jdXJyZW50UGxheWVyLnBsYXllcklkID09IGRhdGEuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWREZXN0cm95ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyLnNvY2tldFJlYWR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGxheWVySWQgPSAnICsgdGhpcy5nYW1lLmdlb3dhci5jdXJyZW50UGxheWVyLnBsYXllcklkICsgJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5nZW93YXIucGxheWVyc1tkYXRhLmlkXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWREZXN0cm95KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnNbZGF0YS5pZF0uc3ByaXRlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnNbZGF0YS5pZF07XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgIH1cblxufSJdfQ==
},{}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
      value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var PlayerFireHandler = (function () {
      function PlayerFireHandler(game) {
            _classCallCheck(this, PlayerFireHandler);

            this.game = game;
      }

      _createClass(PlayerFireHandler, [{
            key: "handle",
            value: function handle(data) {
                  if (this.game.geowar.players[data.id]) {
                        var peerPlayer = this.game.geowar.players[data.id];
                        //cache the peer player pos meta data and update in update method.
                        peerPlayer.fire = true;
                  }
            }
      }]);

      return PlayerFireHandler;
})();

exports["default"] = PlayerFireHandler;
module.exports = exports["default"];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9zb2NrZXQvUGxheWVyRmlyZUhhbmRsZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQixpQkFBaUI7QUFFckIsZUFGSSxpQkFBaUIsQ0FFcEIsSUFBSSxFQUFFO2tDQUZILGlCQUFpQjs7QUFHMUIsZ0JBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO09BQ3RCOzttQkFKYyxpQkFBaUI7O21CQU0xQixnQkFBQyxJQUFJLEVBQUU7QUFDUCxzQkFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQ25DLDRCQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDOztBQUVuRCxrQ0FBVSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7bUJBQzFCO2FBQ047OzthQVpjLGlCQUFpQjs7O3FCQUFqQixpQkFBaUIiLCJmaWxlIjoiRDovYXF1YS9nZW93YXIvc3JjL3NvY2tldC9QbGF5ZXJGaXJlSGFuZGxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllckZpcmVIYW5kbGVyIHtcblxuICAgICAgY29uc3RydWN0b3IoZ2FtZSkge1xuICAgICAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcbiAgICAgIH1cblxuICAgICAgaGFuZGxlKGRhdGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnNbZGF0YS5pZF0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcGVlclBsYXllciA9IHRoaXMuZ2FtZS5nZW93YXIucGxheWVyc1tkYXRhLmlkXTsgXG4gICAgICAgICAgICAgICAgLy9jYWNoZSB0aGUgcGVlciBwbGF5ZXIgcG9zIG1ldGEgZGF0YSBhbmQgdXBkYXRlIGluIHVwZGF0ZSBtZXRob2QuIFxuICAgICAgICAgICAgICAgIHBlZXJQbGF5ZXIuZmlyZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICB9XG5cbn0iXX0=
},{}],14:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _prefabsPlayersPlayerFactoryJs = require('../prefabs/players/PlayerFactory.js');

var _prefabsPlayersPlayerFactoryJs2 = _interopRequireDefault(_prefabsPlayersPlayerFactoryJs);

var PlayerMoveHandler = (function () {
    function PlayerMoveHandler(game) {
        _classCallCheck(this, PlayerMoveHandler);

        this.game = game;
        this.playerFactory = new _prefabsPlayersPlayerFactoryJs2['default'](this.game);
    }

    _createClass(PlayerMoveHandler, [{
        key: 'handle',
        value: function handle(data) {
            if (this.game.geowar.players[data.id]) {
                var peerPlayer = this.game.geowar.players[data.id];
                //cache the peer player pos meta data and update in update method.
                peerPlayer.pos = {
                    x: data.x,
                    y: data.y,
                    angle: data.angle
                };
            } else {
                var peerPlayer = this.playerFactory.createPeerPlayer(data);
                this.game.add.existing(peerPlayer);
                this.game.geowar.playersGroup.add(peerPlayer);
                //cache peer player
                this.game.geowar.players[data.id] = {
                    sprite: peerPlayer
                };
            }
        }
    }]);

    return PlayerMoveHandler;
})();

exports['default'] = PlayerMoveHandler;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9zb2NrZXQvUGxheWVyTW92ZUhhbmRsZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OzZDQUEwQixxQ0FBcUM7Ozs7SUFFMUMsaUJBQWlCO0FBRXJCLGFBRkksaUJBQWlCLENBRXBCLElBQUksRUFBRTs4QkFGSCxpQkFBaUI7O0FBRzFCLFlBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ2pCLFlBQUksQ0FBQyxhQUFhLEdBQUcsK0NBQWtCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN2RDs7aUJBTGMsaUJBQWlCOztlQU8xQixnQkFBQyxJQUFJLEVBQUU7QUFDUCxnQkFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQ25DLG9CQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDOztBQUVuRCwwQkFBVSxDQUFDLEdBQUcsR0FBRztBQUNiLHFCQUFDLEVBQUcsSUFBSSxDQUFDLENBQUM7QUFDVixxQkFBQyxFQUFHLElBQUksQ0FBQyxDQUFDO0FBQ1YseUJBQUssRUFBRyxJQUFJLENBQUMsS0FBSztpQkFDckIsQ0FBQzthQUNMLE1BQ0c7QUFDQSxvQkFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMzRCxvQkFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ25DLG9CQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUU5QyxvQkFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRztBQUMvQiwwQkFBTSxFQUFHLFVBQVU7aUJBQ3ZCLENBQUM7YUFDTDtTQUNOOzs7V0ExQmMsaUJBQWlCOzs7cUJBQWpCLGlCQUFpQiIsImZpbGUiOiJEOi9hcXVhL2dlb3dhci9zcmMvc29ja2V0L1BsYXllck1vdmVIYW5kbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBsYXllckZhY3RvcnkgZnJvbSAnLi4vcHJlZmFicy9wbGF5ZXJzL1BsYXllckZhY3RvcnkuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXJNb3ZlSGFuZGxlciB7XG5cbiAgICAgIGNvbnN0cnVjdG9yKGdhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgICAgICAgICB0aGlzLnBsYXllckZhY3RvcnkgPSBuZXcgUGxheWVyRmFjdG9yeSh0aGlzLmdhbWUpO1xuICAgICAgfVxuXG4gICAgICBoYW5kbGUoZGF0YSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5nZW93YXIucGxheWVyc1tkYXRhLmlkXSkge1xuICAgICAgICAgICAgICAgIHZhciBwZWVyUGxheWVyID0gdGhpcy5nYW1lLmdlb3dhci5wbGF5ZXJzW2RhdGEuaWRdOyBcbiAgICAgICAgICAgICAgICAvL2NhY2hlIHRoZSBwZWVyIHBsYXllciBwb3MgbWV0YSBkYXRhIGFuZCB1cGRhdGUgaW4gdXBkYXRlIG1ldGhvZC4gXG4gICAgICAgICAgICAgICAgcGVlclBsYXllci5wb3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIHggOiBkYXRhLngsXG4gICAgICAgICAgICAgICAgICAgIHkgOiBkYXRhLnksXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlIDogZGF0YS5hbmdsZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHZhciBwZWVyUGxheWVyID0gdGhpcy5wbGF5ZXJGYWN0b3J5LmNyZWF0ZVBlZXJQbGF5ZXIoZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLmFkZC5leGlzdGluZyhwZWVyUGxheWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnNHcm91cC5hZGQocGVlclBsYXllcik7XG4gICAgICAgICAgICAgICAgLy9jYWNoZSBwZWVyIHBsYXllclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5nZW93YXIucGxheWVyc1tkYXRhLmlkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgIHNwcml0ZSA6IHBlZXJQbGF5ZXIgXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgIH1cblxufSJdfQ==
},{"../prefabs/players/PlayerFactory.js":6}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _ConnectionHandlerJs = require('./ConnectionHandler.js');

var _ConnectionHandlerJs2 = _interopRequireDefault(_ConnectionHandlerJs);

var _PlayerMoveHandlerJs = require('./PlayerMoveHandler.js');

var _PlayerMoveHandlerJs2 = _interopRequireDefault(_PlayerMoveHandlerJs);

var _PlayerFireHandlerJs = require('./PlayerFireHandler.js');

var _PlayerFireHandlerJs2 = _interopRequireDefault(_PlayerFireHandlerJs);

var _CommonHandlerJs = require('./CommonHandler.js');

var _CommonHandlerJs2 = _interopRequireDefault(_CommonHandlerJs);

var SocketHandler = (function () {
    function SocketHandler(sio, game) {
        _classCallCheck(this, SocketHandler);

        this.sio = sio;
        this.game = game;
        var that = this;
        this.initHandlers(this.game);
        this.sio.on('pull', function (data) {
            that.update(data, that);
        });
    }

    _createClass(SocketHandler, [{
        key: 'push',
        value: function push(data) {
            if (this.game.geowar.socketReady) {
                this.sio.emit('push', data);
            }
        }
    }, {
        key: 'update',
        value: function update(data, that) {
            if (data.name) {
                this.handlers[data.name].handle(data);
            }
        }
    }, {
        key: 'initHandlers',
        value: function initHandlers(game) {
            this.handlers = {};
            this.handlers.connection = new _ConnectionHandlerJs2['default'](game);
            this.handlers.playerMove = new _PlayerMoveHandlerJs2['default'](game);
            this.handlers.playerFire = new _PlayerFireHandlerJs2['default'](game);
            this.handlers.common = new _CommonHandlerJs2['default'](game);
        }
    }]);

    return SocketHandler;
})();

exports['default'] = SocketHandler;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9zb2NrZXQvU29ja2V0SGFuZGxlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7bUNBQThCLHdCQUF3Qjs7OzttQ0FDeEIsd0JBQXdCOzs7O21DQUN4Qix3QkFBd0I7Ozs7K0JBQzVCLG9CQUFvQjs7OztJQUV6QixhQUFhO0FBQ25CLGFBRE0sYUFBYSxDQUNsQixHQUFHLEVBQUUsSUFBSSxFQUFFOzhCQUROLGFBQWE7O0FBRTFCLFlBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0FBQ2YsWUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7QUFDakIsWUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ2hCLFlBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzdCLFlBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxVQUFVLElBQUksRUFBRTtBQUNoQyxnQkFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDM0IsQ0FBQyxDQUFDO0tBQ047O2lCQVRnQixhQUFhOztlQVcxQixjQUFDLElBQUksRUFBRTtBQUNQLGdCQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRTtBQUM5QixvQkFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQy9CO1NBQ0o7OztlQUVLLGdCQUFDLElBQUksRUFBRSxJQUFJLEVBQUU7QUFDZixnQkFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO0FBQ1gsb0JBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUN6QztTQUNKOzs7ZUFHVyxzQkFBQyxJQUFJLEVBQUU7QUFDZixnQkFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7QUFDbkIsZ0JBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxHQUFHLHFDQUFzQixJQUFJLENBQUMsQ0FBQztBQUN2RCxnQkFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEdBQUcscUNBQXNCLElBQUksQ0FBQyxDQUFDO0FBQ3ZELGdCQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsR0FBRyxxQ0FBc0IsSUFBSSxDQUFDLENBQUM7QUFDdkQsZ0JBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLGlDQUFrQixJQUFJLENBQUMsQ0FBQztTQUNsRDs7O1dBOUJnQixhQUFhOzs7cUJBQWIsYUFBYSIsImZpbGUiOiJEOi9hcXVhL2dlb3dhci9zcmMvc29ja2V0L1NvY2tldEhhbmRsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29ubmVjdGlvbkhhbmRsZXIgZnJvbSAnLi9Db25uZWN0aW9uSGFuZGxlci5qcyc7XG5pbXBvcnQgUGxheWVyTW92ZUhhbmRsZXIgZnJvbSAnLi9QbGF5ZXJNb3ZlSGFuZGxlci5qcyc7XG5pbXBvcnQgUGxheWVyRmlyZUhhbmRsZXIgZnJvbSAnLi9QbGF5ZXJGaXJlSGFuZGxlci5qcyc7XG5pbXBvcnQgQ29tbW9uSGFuZGxlciBmcm9tICcuL0NvbW1vbkhhbmRsZXIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2NrZXRIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzaW8sIGdhbWUpIHtcbiAgICAgICAgdGhpcy5zaW8gPSBzaW87XG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgdGhpcy5pbml0SGFuZGxlcnModGhpcy5nYW1lKTtcbiAgICAgICAgdGhpcy5zaW8ub24oJ3B1bGwnLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdGhhdC51cGRhdGUoZGF0YSwgdGhhdCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1c2goZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5nYW1lLmdlb3dhci5zb2NrZXRSZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5zaW8uZW1pdCgncHVzaCcsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlKGRhdGEsIHRoYXQpIHtcbiAgICAgICAgaWYgKGRhdGEubmFtZSkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVyc1tkYXRhLm5hbWVdLmhhbmRsZShkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgaW5pdEhhbmRsZXJzKGdhbWUpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmNvbm5lY3Rpb24gPSBuZXcgQ29ubmVjdGlvbkhhbmRsZXIoZ2FtZSk7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMucGxheWVyTW92ZSA9IG5ldyBQbGF5ZXJNb3ZlSGFuZGxlcihnYW1lKTtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5wbGF5ZXJGaXJlID0gbmV3IFBsYXllckZpcmVIYW5kbGVyKGdhbWUpO1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmNvbW1vbiA9IG5ldyBDb21tb25IYW5kbGVyKGdhbWUpO1xuICAgIH1cbn0iXX0=
},{"./CommonHandler.js":11,"./ConnectionHandler.js":12,"./PlayerFireHandler.js":13,"./PlayerMoveHandler.js":14}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var Boot = (function () {
    function Boot() {
        _classCallCheck(this, Boot);
    }

    _createClass(Boot, [{
        key: 'preload',
        value: function preload() {
            this.load.image('preloader', 'assets/images/loading_bar.png');
        }
    }, {
        key: 'create',
        value: function create() {
            //namespace
            this.game.geowar = {
                server: 'http://localhost:3000'
            };
            this.game.input.maxPointers = 1;
            //make sure the game running even loose focus
            this.game.stage.disableVisibilityChange = true;
            this.game.state.start('preload');
        }
    }]);

    return Boot;
})();

exports['default'] = Boot;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9zdGF0ZXMvQm9vdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQXFCLElBQUk7YUFBSixJQUFJOzhCQUFKLElBQUk7OztpQkFBSixJQUFJOztlQUNkLG1CQUFHO0FBQ04sZ0JBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSwrQkFBK0IsQ0FBQyxDQUFDO1NBQ2pFOzs7ZUFFSyxrQkFBRzs7QUFFTCxnQkFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUc7QUFDZixzQkFBTSxFQUFHLHVCQUF1QjthQUNuQyxDQUFDO0FBQ0YsZ0JBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7O0FBRWhDLGdCQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyx1QkFBdUIsR0FBRyxJQUFJLENBQUM7QUFDL0MsZ0JBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUNwQzs7O1dBZGdCLElBQUk7OztxQkFBSixJQUFJIiwiZmlsZSI6IkQ6L2FxdWEvZ2Vvd2FyL3NyYy9zdGF0ZXMvQm9vdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvb3Qge1xuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHJlbG9hZGVyJywgJ2Fzc2V0cy9pbWFnZXMvbG9hZGluZ19iYXIucG5nJyk7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvL25hbWVzcGFjZVxuICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyID0ge1xuICAgICAgICAgICAgc2VydmVyIDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCdcbiAgICAgICAgfTsgXG4gICAgICAgIHRoaXMuZ2FtZS5pbnB1dC5tYXhQb2ludGVycyA9IDE7XG4gICAgICAgIC8vbWFrZSBzdXJlIHRoZSBnYW1lIHJ1bm5pbmcgZXZlbiBsb29zZSBmb2N1c1xuICAgICAgICB0aGlzLmdhbWUuc3RhZ2UuZGlzYWJsZVZpc2liaWxpdHlDaGFuZ2UgPSB0cnVlO1xuICAgICAgICB0aGlzLmdhbWUuc3RhdGUuc3RhcnQoJ3ByZWxvYWQnKTtcbiAgICB9XG59Il19
},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _commonUtilsJs = require('../common/Utils.js');

var _commonUtilsJs2 = _interopRequireDefault(_commonUtilsJs);

var _prefabsPlayersPlayerFactoryJs = require('../prefabs/players/PlayerFactory.js');

var _prefabsPlayersPlayerFactoryJs2 = _interopRequireDefault(_prefabsPlayersPlayerFactoryJs);

var _socketSocketHandlerJs = require("../socket/SocketHandler.js");

var _socketSocketHandlerJs2 = _interopRequireDefault(_socketSocketHandlerJs);

var Game = (function (_Phaser$State) {
    _inherits(Game, _Phaser$State);

    function Game() {
        _classCallCheck(this, Game);

        _get(Object.getPrototypeOf(Game.prototype), 'constructor', this).apply(this, arguments);
    }

    _createClass(Game, [{
        key: 'create',
        value: function create() {
            //stage
            this.game.physics.startSystem(Phaser.Physics.P2JS);
            this.game.stage.backgroundColor = '#282626';
            //factories
            this.playerFactory = new _prefabsPlayersPlayerFactoryJs2['default'](this.game);
            //player group
            var playersGroup = this.game.add.group();
            this.game.geowar.playersGroup = playersGroup;
            //collision group
            this.game.geowar.playerCollisionGroup = this.game.physics.p2.createCollisionGroup();
            this.game.geowar.bulletCollisionGroup = this.game.physics.p2.createCollisionGroup();
            //after create new collision group update the group to collide with bounds
            this.game.physics.p2.updateBoundsCollisionGroup();
            //player
            this.player = this.playerFactory.createPlayer();
            this.game.add.existing(this.player);
            playersGroup.add(this.player);
            //cache current player
            this.game.geowar.currentPlayer = this.player;
            //set up socket
            this.game.geowar.socketHandler = new _socketSocketHandlerJs2['default'](io(this.game.geowar.server), this.game);
        }
    }, {
        key: 'update',
        value: function update() {}
    }]);

    return Game;
})(Phaser.State);

exports['default'] = Game;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9zdGF0ZXMvR2FtZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OzZCQUFrQixvQkFBb0I7Ozs7NkNBQ1oscUNBQXFDOzs7O3FDQUNyQyw0QkFBNEI7Ozs7SUFFakMsSUFBSTtjQUFKLElBQUk7O2FBQUosSUFBSTs4QkFBSixJQUFJOzttQ0FBSixJQUFJOzs7aUJBQUosSUFBSTs7ZUFFZixrQkFBRzs7QUFFTCxnQkFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbkQsZ0JBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxTQUFTLENBQUM7O0FBRTVDLGdCQUFJLENBQUMsYUFBYSxHQUFHLCtDQUFrQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRWxELGdCQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUN6QyxnQkFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQzs7QUFFN0MsZ0JBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLG9CQUFvQixHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO0FBQ3BGLGdCQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQzs7QUFFcEYsZ0JBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQywwQkFBMEIsRUFBRSxDQUFDOztBQUVsRCxnQkFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksRUFBRSxDQUFDO0FBQ2hELGdCQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3BDLHdCQUFZLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzs7QUFFOUIsZ0JBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDOztBQUU3QyxnQkFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxHQUFHLHVDQUFrQixFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzlGOzs7ZUFHSyxrQkFBRyxFQUNSOzs7V0E1QmdCLElBQUk7R0FBUyxNQUFNLENBQUMsS0FBSzs7cUJBQXpCLElBQUkiLCJmaWxlIjoiRDovYXF1YS9nZW93YXIvc3JjL3N0YXRlcy9HYW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFV0aWxzIGZyb20gJy4uL2NvbW1vbi9VdGlscy5qcyc7XG5pbXBvcnQgUGxheWVyRmFjdG9yeSBmcm9tICcuLi9wcmVmYWJzL3BsYXllcnMvUGxheWVyRmFjdG9yeS5qcyc7XG5pbXBvcnQgU29ja2V0SGFuZGxlciBmcm9tIFwiLi4vc29ja2V0L1NvY2tldEhhbmRsZXIuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vc3RhZ2VcbiAgICAgICAgdGhpcy5nYW1lLnBoeXNpY3Muc3RhcnRTeXN0ZW0oUGhhc2VyLlBoeXNpY3MuUDJKUyk7XG4gICAgICAgIHRoaXMuZ2FtZS5zdGFnZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzI4MjYyNic7XG4gICAgICAgIC8vZmFjdG9yaWVzXG4gICAgICAgIHRoaXMucGxheWVyRmFjdG9yeSA9IG5ldyBQbGF5ZXJGYWN0b3J5KHRoaXMuZ2FtZSk7XG4gICAgICAgIC8vcGxheWVyIGdyb3VwXG4gICAgICAgIHZhciBwbGF5ZXJzR3JvdXAgPSB0aGlzLmdhbWUuYWRkLmdyb3VwKCk7XG4gICAgICAgIHRoaXMuZ2FtZS5nZW93YXIucGxheWVyc0dyb3VwID0gcGxheWVyc0dyb3VwO1xuICAgICAgICAvL2NvbGxpc2lvbiBncm91cFxuICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllckNvbGxpc2lvbkdyb3VwID0gdGhpcy5nYW1lLnBoeXNpY3MucDIuY3JlYXRlQ29sbGlzaW9uR3JvdXAoKTtcbiAgICAgICAgdGhpcy5nYW1lLmdlb3dhci5idWxsZXRDb2xsaXNpb25Hcm91cCA9IHRoaXMuZ2FtZS5waHlzaWNzLnAyLmNyZWF0ZUNvbGxpc2lvbkdyb3VwKCk7XG4gICAgICAgIC8vYWZ0ZXIgY3JlYXRlIG5ldyBjb2xsaXNpb24gZ3JvdXAgdXBkYXRlIHRoZSBncm91cCB0byBjb2xsaWRlIHdpdGggYm91bmRzIFxuICAgICAgICB0aGlzLmdhbWUucGh5c2ljcy5wMi51cGRhdGVCb3VuZHNDb2xsaXNpb25Hcm91cCgpO1xuICAgICAgICAvL3BsYXllclxuICAgICAgICB0aGlzLnBsYXllciA9IHRoaXMucGxheWVyRmFjdG9yeS5jcmVhdGVQbGF5ZXIoKTtcbiAgICAgICAgdGhpcy5nYW1lLmFkZC5leGlzdGluZyh0aGlzLnBsYXllcik7XG4gICAgICAgIHBsYXllcnNHcm91cC5hZGQodGhpcy5wbGF5ZXIpO1xuICAgICAgICAvL2NhY2hlIGN1cnJlbnQgcGxheWVyXG4gICAgICAgIHRoaXMuZ2FtZS5nZW93YXIuY3VycmVudFBsYXllciA9IHRoaXMucGxheWVyO1xuICAgICAgICAvL3NldCB1cCBzb2NrZXRcbiAgICAgICAgdGhpcy5nYW1lLmdlb3dhci5zb2NrZXRIYW5kbGVyID0gbmV3IFNvY2tldEhhbmRsZXIoaW8odGhpcy5nYW1lLmdlb3dhci5zZXJ2ZXIpLCB0aGlzLmdhbWUpO1xuICAgIH1cblxuXG4gICAgdXBkYXRlKCkge1xuICAgIH1cblxufSJdfQ==
},{"../common/Utils.js":3,"../prefabs/players/PlayerFactory.js":6,"../socket/SocketHandler.js":15}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var Preload = (function () {
    function Preload() {
        _classCallCheck(this, Preload);

        this.asset = null;
        this.ready = false;
    }

    _createClass(Preload, [{
        key: 'preload',
        value: function preload() {}
    }, {
        key: 'create',
        value: function create() {
            this.game.stage.backgroundColor = '#282626';
            this.asset = this.add.sprite(this.game.width / 2, this.game.height / 2, 'preloader');
            this.asset.anchor.setTo(0.5, 0.5);
            this.asset.scale.setTo(0.3, 0.3);

            this.load.onLoadComplete.addOnce(this.onLoadComplete, this);
            this.load.setPreloadSprite(this.asset);

            this.load.image('play', 'assets/images/play.png');

            //start load
            this.load.start();
        }
    }, {
        key: 'update',
        value: function update() {

            if (this.ready) {
                this.game.state.start('startScreen');
            }
        }
    }, {
        key: 'onLoadComplete',
        value: function onLoadComplete() {
            this.ready = true;
        }
    }]);

    return Preload;
})();

exports['default'] = Preload;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9zdGF0ZXMvUHJlbG9hZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQXFCLE9BQU87QUFFYixhQUZNLE9BQU8sR0FFVjs4QkFGRyxPQUFPOztBQUdwQixZQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztBQUNsQixZQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztLQUN0Qjs7aUJBTGdCLE9BQU87O2VBT2pCLG1CQUFHLEVBQ1Q7OztlQUVLLGtCQUFHO0FBQ0wsZ0JBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxTQUFTLENBQUM7QUFDNUMsZ0JBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUNyRixnQkFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNsQyxnQkFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQzs7QUFFakMsZ0JBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzVELGdCQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzs7QUFFdkMsZ0JBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBQyx3QkFBd0IsQ0FBQyxDQUFDOzs7QUFHakQsZ0JBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDckI7OztlQUVLLGtCQUFHOztBQUVMLGdCQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7QUFDWixvQkFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO2FBQ3hDO1NBRUo7OztlQUVhLDBCQUFHO0FBQ2IsZ0JBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1NBQ3JCOzs7V0FuQ2dCLE9BQU87OztxQkFBUCxPQUFPIiwiZmlsZSI6IkQ6L2FxdWEvZ2Vvd2FyL3NyYy9zdGF0ZXMvUHJlbG9hZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZWxvYWQge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYXNzZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnJlYWR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJlbG9hZCgpIHtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHRoaXMuZ2FtZS5zdGFnZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzI4MjYyNic7XG4gICAgICAgIHRoaXMuYXNzZXQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5nYW1lLndpZHRoIC8gMiwgdGhpcy5nYW1lLmhlaWdodCAvIDIsICdwcmVsb2FkZXInKTtcbiAgICAgICAgdGhpcy5hc3NldC5hbmNob3Iuc2V0VG8oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLmFzc2V0LnNjYWxlLnNldFRvKDAuMywgMC4zKTtcblxuICAgICAgICB0aGlzLmxvYWQub25Mb2FkQ29tcGxldGUuYWRkT25jZSh0aGlzLm9uTG9hZENvbXBsZXRlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5sb2FkLnNldFByZWxvYWRTcHJpdGUodGhpcy5hc3NldCk7XG5cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGF5JywnYXNzZXRzL2ltYWdlcy9wbGF5LnBuZycpO1xuXG4gICAgICAgIC8vc3RhcnQgbG9hZFxuICAgICAgICB0aGlzLmxvYWQuc3RhcnQoKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMucmVhZHkpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5zdGF0ZS5zdGFydCgnc3RhcnRTY3JlZW4nKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgb25Mb2FkQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMucmVhZHkgPSB0cnVlO1xuICAgIH1cbn0iXX0=
},{}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var StartScreen = (function () {
    function StartScreen() {
        _classCallCheck(this, StartScreen);
    }

    _createClass(StartScreen, [{
        key: 'create',
        value: function create() {
            this.game.stage.backgroundColor = '#282626';
            this.play = this.add.sprite(this.game.width / 2, this.game.height / 2, 'play');
            this.play.anchor.setTo(0.5, 0.5);
            this.play.scale.setTo(0.3, 0.3);
            this.play.inputEnabled = true;
            this.play.events.onInputDown.add(this.startPlay, this);
            this.play.events.onInputOver.add(this.mouseOver, this);
            this.play.events.onInputOut.add(this.mouseOut, this);
        }
    }, {
        key: 'startPlay',
        value: function startPlay() {
            this.state.start('game');
        }
    }, {
        key: 'mouseOver',
        value: function mouseOver() {
            this.game.canvas.style.cursor = 'pointer';
        }
    }, {
        key: 'mouseOut',
        value: function mouseOut() {
            this.game.canvas.style.cursor = 'default';
        }
    }]);

    return StartScreen;
})();

exports['default'] = StartScreen;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2FxdWEvZ2Vvd2FyL3NyYy9zdGF0ZXMvU3RhcnRTY3JlZW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQixXQUFXO2FBQVgsV0FBVzs4QkFBWCxXQUFXOzs7aUJBQVgsV0FBVzs7ZUFDdEIsa0JBQUc7QUFDTCxnQkFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxHQUFHLFNBQVMsQ0FBQztBQUM1QyxnQkFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQy9FLGdCQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ2pDLGdCQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ2hDLGdCQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7QUFDOUIsZ0JBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN2RCxnQkFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZELGdCQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDeEQ7OztlQUVRLHFCQUFHO0FBQ1IsZ0JBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQzVCOzs7ZUFFUSxxQkFBRztBQUNSLGdCQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQztTQUM3Qzs7O2VBRU8sb0JBQUc7QUFDUCxnQkFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7U0FDN0M7OztXQXRCZ0IsV0FBVzs7O3FCQUFYLFdBQVciLCJmaWxlIjoiRDovYXF1YS9nZW93YXIvc3JjL3N0YXRlcy9TdGFydFNjcmVlbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXJ0U2NyZWVuIHtcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHRoaXMuZ2FtZS5zdGFnZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzI4MjYyNic7XG4gICAgICAgIHRoaXMucGxheSA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmdhbWUud2lkdGggLyAyLCB0aGlzLmdhbWUuaGVpZ2h0IC8gMiwgJ3BsYXknKTtcbiAgICAgICAgdGhpcy5wbGF5LmFuY2hvci5zZXRUbygwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGxheS5zY2FsZS5zZXRUbygwLjMsIDAuMyk7XG4gICAgICAgIHRoaXMucGxheS5pbnB1dEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnBsYXkuZXZlbnRzLm9uSW5wdXREb3duLmFkZCh0aGlzLnN0YXJ0UGxheSwgdGhpcyk7XG4gICAgICAgIHRoaXMucGxheS5ldmVudHMub25JbnB1dE92ZXIuYWRkKHRoaXMubW91c2VPdmVyLCB0aGlzKTtcbiAgICAgICAgdGhpcy5wbGF5LmV2ZW50cy5vbklucHV0T3V0LmFkZCh0aGlzLm1vdXNlT3V0LCB0aGlzKTtcbiAgICB9XG5cbiAgICBzdGFydFBsYXkoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuc3RhcnQoJ2dhbWUnKTtcbiAgICB9XG5cbiAgICBtb3VzZU92ZXIoKSB7XG4gICAgICAgIHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgIH1cblxuICAgIG1vdXNlT3V0KCkge1xuICAgICAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICB9XG5cbn0gIl19
},{}],20:[function(require,module,exports){
module.exports={
    "head": {
        "style": "stroke",
        "ctxProp" : {
            "lineWith" : "2"
        },
        "draw": [
            {
                "drawType": "move",
                "x": "${canvas.width/2}",
                "y": "0"
            },
            {
                "drawType": "line",
                "x": "${canvas.width/2}",
                "y": "${canvas.height - canvas.width}"
            }
        ]
    },
    "body": {
        "style": "fill",
        "draw": [
            {
                "drawType": "move",
                "x": "${canvas.width/2}",
                "y": "${canvas.height - canvas.width}"
            },
            {
                "drawType": "line",
                "x": "0",
                "y": "${canvas.height}"
            },
            {
                "drawType": "line",
                "x": "${canvas.width}",
                "y": "${canvas.height}"
            }
        ]
    }
}
},{}],21:[function(require,module,exports){
module.exports={
    "head": {
        "style": "stroke",
        "ctxProp" : {
            "lineWith" : "2"
        },
        "draw": [
            {
                "drawType": "move",
                "x": "${canvas.width/2}",
                "y": "0"
            },
            {
                "drawType": "line",
                "x": "${canvas.width/2}",
                "y": "${canvas.height - canvas.width}"
            }
        ]
    },
    "body": {
        "style": "fill",
        "draw": [
            {
                "drawType": "arc",
                "x": "${canvas.width/2}",
                "y": "${canvas.height - canvas.width + (canvas.width/2)}",
                "radius" : "${canvas.width/2 - 1}",
                "arc" : "${2 * Math.PI}"
            },
        ]
    }
}
},{}],22:[function(require,module,exports){
module.exports={
    "head": {
        "style": "stroke",
        "ctxProp" : {
            "lineWith" : "2"
        },
        "draw": [
            {
                "drawType": "move",
                "x": "${canvas.width/2}",
                "y": "0"
            },
            {
                "drawType": "line",
                "x": "${canvas.width/2}",
                "y": "${canvas.height - canvas.width}"
            }
        ]
    },
    "body": {
        "style": "fill",
        "draw": [
            {
                "drawType": "move",
                "x": "0",
                "y": "${canvas.height - canvas.width}"
            },
            {
                "drawType": "line",
                "x": "0",
                "y": "${canvas.height}"
            },
            {
                "drawType": "line",
                "x": "${canvas.width}",
                "y": "${canvas.height}"
            },
            {
                "drawType": "line",
                "x": "${canvas.width}",
                "y": "${canvas.height - canvas.width}"
            }
        ]
    }
}
},{}],23:[function(require,module,exports){
module.exports={
    "body": {
        "style": "fill",
        "draw": [
            {
                "drawType": "move",
                "x": "0",
                "y": "0"
            },
            {
                "drawType": "line",
                "x": "12",
                "y": "6"
            },
            {
                "drawType": "line",
                "x": "0",
                "y": "12"
            }
        ]
    }
}
},{}],24:[function(require,module,exports){
module.exports={
    "body": {
        "style": "fill",
        "draw": [
            {
                "drawType": "arc",
                "x": "6",
                "y": "6",
                "radius" : "6",
                "arc" : "${2 * Math.PI}"
            }
        ]
    }
}
},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlc1xcYnJvd3Nlci1wYWNrXFxfcHJlbHVkZS5qcyIsInNyYy9hcHAuanMiLCJzcmMvY29tbW9uL0NhbnZhc0hlbHBlci5qcyIsInNyYy9jb21tb24vVXRpbHMuanMiLCJzcmMvcHJlZmFicy9wbGF5ZXJzL0NpcmNsZVBsYXllci5qcyIsInNyYy9wcmVmYWJzL3BsYXllcnMvUGxheWVyLmpzIiwic3JjL3ByZWZhYnMvcGxheWVycy9QbGF5ZXJGYWN0b3J5LmpzIiwic3JjL3ByZWZhYnMvcGxheWVycy9TcXVhcmVQbGF5ZXIuanMiLCJzcmMvcHJlZmFicy93ZWFwb25zL0RpcnRXZWFwb24uanMiLCJzcmMvcHJlZmFicy93ZWFwb25zL1dlYXBvbi5qcyIsInNyYy9wcmVmYWJzL3dlYXBvbnMvV2VhcG9uRmFjdG9yeS5qcyIsInNyYy9zb2NrZXQvQ29tbW9uSGFuZGxlci5qcyIsInNyYy9zb2NrZXQvQ29ubmVjdGlvbkhhbmRsZXIuanMiLCJzcmMvc29ja2V0L1BsYXllckZpcmVIYW5kbGVyLmpzIiwic3JjL3NvY2tldC9QbGF5ZXJNb3ZlSGFuZGxlci5qcyIsInNyYy9zb2NrZXQvU29ja2V0SGFuZGxlci5qcyIsInNyYy9zdGF0ZXMvQm9vdC5qcyIsInNyYy9zdGF0ZXMvR2FtZS5qcyIsInNyYy9zdGF0ZXMvUHJlbG9hZC5qcyIsInNyYy9zdGF0ZXMvU3RhcnRTY3JlZW4uanMiLCJzcmMvdGV4dHVyZXMvcGxheWVycy9QbGF5ZXIuanNvbiIsInNyYy90ZXh0dXJlcy9wbGF5ZXJzL2NpcmNsZXBsYXllci5qc29uIiwic3JjL3RleHR1cmVzL3BsYXllcnMvc3F1YXJlcGxheWVyLmpzb24iLCJzcmMvdGV4dHVyZXMvd2VhcG9ucy9kaXJ0d2VhcG9uLmpzb24iLCJzcmMvdGV4dHVyZXMvd2VhcG9ucy93ZWFwb24uanNvbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3REQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3REQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25JQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgX3N0YXRlc0Jvb3RKcyA9IHJlcXVpcmUoXCIuL3N0YXRlcy9Cb290LmpzXCIpO1xuXG52YXIgX3N0YXRlc0Jvb3RKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdGF0ZXNCb290SnMpO1xuXG52YXIgX3N0YXRlc1ByZWxvYWRKcyA9IHJlcXVpcmUoXCIuL3N0YXRlcy9QcmVsb2FkLmpzXCIpO1xuXG52YXIgX3N0YXRlc1ByZWxvYWRKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdGF0ZXNQcmVsb2FkSnMpO1xuXG52YXIgX3N0YXRlc1N0YXJ0U2NyZWVuSnMgPSByZXF1aXJlKFwiLi9zdGF0ZXMvU3RhcnRTY3JlZW4uanNcIik7XG5cbnZhciBfc3RhdGVzU3RhcnRTY3JlZW5KczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdGF0ZXNTdGFydFNjcmVlbkpzKTtcblxudmFyIF9zdGF0ZXNHYW1lSnMgPSByZXF1aXJlKFwiLi9zdGF0ZXMvR2FtZS5qc1wiKTtcblxudmFyIF9zdGF0ZXNHYW1lSnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3RhdGVzR2FtZUpzKTtcblxudmFyIGdhbWU7XG5cbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgIGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUod2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0LCBQaGFzZXIuQVVUTywgJ2dhbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgZ2FtZS5zdGF0ZS5hZGQoJ2Jvb3QnLCBfc3RhdGVzQm9vdEpzMltcImRlZmF1bHRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICBnYW1lLnN0YXRlLmFkZCgncHJlbG9hZCcsIF9zdGF0ZXNQcmVsb2FkSnMyW1wiZGVmYXVsdFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgIGdhbWUuc3RhdGUuYWRkKCdzdGFydFNjcmVlbicsIF9zdGF0ZXNTdGFydFNjcmVlbkpzMltcImRlZmF1bHRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICBnYW1lLnN0YXRlLmFkZCgnZ2FtZScsIF9zdGF0ZXNHYW1lSnMyW1wiZGVmYXVsdFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgIGdhbWUuc3RhdGUuc3RhcnQoJ2Jvb3QnKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJa1E2TDJGeGRXRXZaMlZ2ZDJGeUwzTnlZeTloY0hBdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenMwUWtGRmFVSXNhMEpCUVd0Q096czdPeXRDUVVObUxIRkNRVUZ4UWpzN096dHRRMEZEYWtJc2VVSkJRWGxDT3pzN096UkNRVU5vUXl4clFrRkJhMEk3T3pzN1FVRk1ia01zU1VGQlNTeEpRVUZKTEVOQlFVTTdPMEZCVDFRc1RVRkJUU3hEUVVGRExFMUJRVTBzUjBGQlJ5eFpRVUZaTzBGQlF6RkNMREpDUVVGSkxFZEJRVWNzU1VGQlNTeE5RVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMRTFCUVUwc1EwRkJReXhWUVVGVkxFbEJRVWtzVVVGQlVTeERRVUZETEdWQlFXVXNRMEZCUXl4WFFVRlhMRWxCUVVrc1VVRkJVU3hEUVVGRExFbEJRVWtzUTBGQlF5eFhRVUZYTEVWQlEzUkdMRTFCUVUwc1EwRkJReXhYUVVGWExFbEJRVWtzVVVGQlVTeERRVUZETEdWQlFXVXNRMEZCUXl4WlFVRlpMRWxCUVVrc1VVRkJVU3hEUVVGRExFbEJRVWtzUTBGQlF5eFpRVUZaTEVWQlEzcEdMRTFCUVUwc1EwRkJReXhKUVVGSkxFVkJRVVVzVFVGQlRTeERRVUZETEVOQlFVTTdRVUZETlVNc01rSkJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNSMEZCUnl4RFFVRkRMRTFCUVUwc05FSkJRVTBzUTBGQlF6dEJRVU0xUWl3eVFrRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eEhRVUZITEVOQlFVTXNVMEZCVXl3clFrRkJVeXhEUVVGRE8wRkJRMnhETERKQ1FVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFZEJRVWNzUTBGQlF5eGhRVUZoTEcxRFFVRmhMRU5CUVVNN1FVRkRNVU1zTWtKQlFVa3NRMEZCUXl4TFFVRkxMRU5CUVVNc1IwRkJSeXhEUVVGRExFMUJRVTBzTkVKQlFVMHNRMEZCUXp0QlFVTTFRaXd5UWtGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4TFFVRkxMRU5CUVVNc1RVRkJUU3hEUVVGRExFTkJRVU03UTBGRE1VSXNRMEZCUXlJc0ltWnBiR1VpT2lKRU9pOWhjWFZoTDJkbGIzZGhjaTl6Y21NdllYQndMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWRtRnlJR2RoYldVN1hHNWNibWx0Y0c5eWRDQkNiMjkwSUdaeWIyMGdYQ0l1TDNOMFlYUmxjeTlDYjI5MExtcHpYQ0k3WEc1cGJYQnZjblFnVUhKbGJHOWhaQ0JtY205dElGd2lMaTl6ZEdGMFpYTXZVSEpsYkc5aFpDNXFjMXdpTzF4dWFXMXdiM0owSUZOMFlYSjBVMk55WldWdUlHWnliMjBnWENJdUwzTjBZWFJsY3k5VGRHRnlkRk5qY21WbGJpNXFjMXdpTzF4dWFXMXdiM0owSUVkaGJXVWdabkp2YlNCY0lpNHZjM1JoZEdWekwwZGhiV1V1YW5OY0lqdGNibHh1ZDJsdVpHOTNMbTl1Ykc5aFpDQTlJR1oxYm1OMGFXOXVJQ2dwSUh0Y2JpQWdaMkZ0WlNBOUlHNWxkeUJRYUdGelpYSXVSMkZ0WlNoM2FXNWtiM2N1YVc1dVpYSlhhV1IwYUNCOGZDQmtiMk4xYldWdWRDNWtiMk4xYldWdWRFVnNaVzFsYm5RdVkyeHBaVzUwVjJsa2RHZ2dmSHdnWkc5amRXMWxiblF1WW05a2VTNWpiR2xsYm5SWGFXUjBhQ3dnWEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZDJsdVpHOTNMbWx1Ym1WeVNHVnBaMmgwSUh4OElHUnZZM1Z0Wlc1MExtUnZZM1Z0Wlc1MFJXeGxiV1Z1ZEM1amJHbGxiblJJWldsbmFIUWdmSHdnWkc5amRXMWxiblF1WW05a2VTNWpiR2xsYm5SSVpXbG5hSFFzSUZ4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUZCb1lYTmxjaTVCVlZSUExDQW5aMkZ0WlNjcE8xeHVJQ0JuWVcxbExuTjBZWFJsTG1Ga1pDZ25ZbTl2ZENjc1FtOXZkQ2s3WEc0Z0lHZGhiV1V1YzNSaGRHVXVZV1JrS0Nkd2NtVnNiMkZrSnl4UWNtVnNiMkZrS1R0Y2JpQWdaMkZ0WlM1emRHRjBaUzVoWkdRb0ozTjBZWEowVTJOeVpXVnVKeXhUZEdGeWRGTmpjbVZsYmlrN1hHNGdJR2RoYldVdWMzUmhkR1V1WVdSa0tDZG5ZVzFsSnl4SFlXMWxLVHRjYmlBZ1oyRnRaUzV6ZEdGMFpTNXpkR0Z5ZENnblltOXZkQ2NwTzF4dWZUdGNiaUpkZlE9PSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIF9VdGlsc0pzID0gcmVxdWlyZSgnLi9VdGlscy5qcycpO1xuXG52YXIgX1V0aWxzSnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVXRpbHNKcyk7XG5cbnZhciBDYW52YXNIZWxwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENhbnZhc0hlbHBlcihjYW52YXMsIGpzb24sIGNvbG9yU2V0KSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYW52YXNIZWxwZXIpO1xuXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBqc29uO1xuICAgICAgICB0aGlzLmNvbG9yU2V0ID0gY29sb3JTZXQ7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENhbnZhc0hlbHBlciwgW3tcbiAgICAgICAga2V5OiAnZHJhd1RleHR1cmUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhd1RleHR1cmUoKSB7XG4gICAgICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmN0eDtcbiAgICAgICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMudGV4dHVyZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ3R4UHJvcCh0aGlzLnRleHR1cmVba2V5XS5jdHhQcm9wKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZVtrZXldLmRyYXcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSB0aGlzLnRleHR1cmVba2V5XS5kcmF3W2ldO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IHRoaXMucGFyc2VFeHByZXNzKHBhcnQueCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0gdGhpcy5wYXJzZUV4cHJlc3MocGFydC55KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQuZHJhd1R5cGUgPT0gJ21vdmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8oeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydC5kcmF3VHlwZSA9PSAnbGluZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0LmRyYXdUeXBlID09ICdhcmMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXVzID0gdGhpcy5wYXJzZUV4cHJlc3MocGFydC5yYWRpdXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyYyA9IHRoaXMucGFyc2VFeHByZXNzKHBhcnQuYXJjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmFyYyh4LCB5LCByYWRpdXMsIDAsIGFyYywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRleHR1cmVba2V5XS5zdHlsZSA9PSAnc3Ryb2tlJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMuZ2V0Q29sb3Ioa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRleHR1cmVba2V5XS5zdHlsZSA9PSAnZmlsbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gdGhpcy5nZXRDb2xvcihrZXkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICd1cGRhdGVDdHhQcm9wJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUN0eFByb3AoY3R4UHJvcCkge1xuICAgICAgICAgICAgaWYgKGN0eFByb3ApIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrIGluIGN0eFByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHhba10gPSBjdHhQcm9wW2tdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0Q29sb3InLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29sb3Ioa2V5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb2xvclNldCAmJiB0aGlzLmNvbG9yU2V0W2tleV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xvclNldFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9VdGlsc0pzMlsnZGVmYXVsdCddLmdlbmVyYXRlUmFuZG9tQ29sb3IoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncGFyc2VFeHByZXNzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlRXhwcmVzcyhwb3MpIHtcbiAgICAgICAgICAgIGlmIChpc05hTihwb3MpICYmIC9cXCRcXHsuKlxcfS8udGVzdChwb3MpKSB7XG4gICAgICAgICAgICAgICAgcG9zID0gcG9zLnJlcGxhY2UoL2NhbnZhcy5oZWlnaHQvZ2ksIHRoaXMuY2FudmFzLmhlaWdodCkucmVwbGFjZSgvY2FudmFzLndpZHRoL2dpLCB0aGlzLmNhbnZhcy53aWR0aCk7XG4gICAgICAgICAgICAgICAgcG9zID0gcG9zLnN1YnN0cmluZygyLCBwb3MubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgcG9zID0gZXZhbChwb3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENhbnZhc0hlbHBlcjtcbn0pKCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IENhbnZhc0hlbHBlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtRNkwyRnhkV0V2WjJWdmQyRnlMM055WXk5amIyMXRiMjR2UTJGdWRtRnpTR1ZzY0dWeUxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3T3pzN096czdPenQxUWtGQmEwSXNXVUZCV1RzN096dEpRVVZVTEZsQlFWazdRVUZGYkVJc1lVRkdUU3haUVVGWkxFTkJSV3BDTEUxQlFVMHNSVUZCUlN4SlFVRkpMRVZCUVVVc1VVRkJVU3hGUVVGRk96aENRVVp1UWl4WlFVRlpPenRCUVVkNlFpeFpRVUZKTEVOQlFVTXNUVUZCVFN4SFFVRkhMRTFCUVUwc1EwRkJRenRCUVVOeVFpeFpRVUZKTEVOQlFVTXNUMEZCVHl4SFFVRkhMRWxCUVVrc1EwRkJRenRCUVVOd1FpeFpRVUZKTEVOQlFVTXNVVUZCVVN4SFFVRkhMRkZCUVZFc1EwRkJRenRMUVVNMVFqczdhVUpCVG1kQ0xGbEJRVms3TzJWQlVXeENMSFZDUVVGSE8wRkJRMVlzWjBKQlFVa3NRMEZCUXl4SFFVRkhMRWRCUVVjc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eEhRVUZITEVOQlFVTTdRVUZETTBJc1owSkJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNVMEZCVXl4RlFVRkZMRU5CUVVNN1FVRkRja0lzYVVKQlFVc3NTVUZCU1N4SFFVRkhMRWxCUVVrc1NVRkJTU3hEUVVGRExFOUJRVThzUlVGQlJUdEJRVU14UWl4dlFrRkJTU3hEUVVGRExHRkJRV0VzUTBGQlF5eEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRExFOUJRVThzUTBGQlF5eERRVUZETzBGQlF6bERMSEZDUVVGTExFbEJRVWtzUTBGQlF5eEpRVUZKTEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1IwRkJSeXhEUVVGRExFTkJRVU1zU1VGQlNTeEZRVUZGTzBGQlEyeERMSGRDUVVGSkxFbEJRVWtzUjBGQlJ5eEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXp0QlFVTnlReXgzUWtGQlNTeERRVUZETEVkQlFVY3NTVUZCU1N4RFFVRkRMRmxCUVZrc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTTdRVUZEYkVNc2QwSkJRVWtzUTBGQlF5eEhRVUZITEVsQlFVa3NRMEZCUXl4WlFVRlpMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETzBGQlEyeERMSGRDUVVGSkxFbEJRVWtzUTBGQlF5eFJRVUZSTEVsQlFVa3NUVUZCVFN4RlFVRkZPMEZCUTNwQ0xEUkNRVUZKTEVOQlFVTXNSMEZCUnl4RFFVRkRMRTFCUVUwc1EwRkJReXhEUVVGRExFVkJRVVVzUTBGQlF5eERRVUZETEVOQlFVTTdjVUpCUTNwQ0xFMUJRMGtzU1VGQlNTeEpRVUZKTEVOQlFVTXNVVUZCVVN4SlFVRkpMRTFCUVUwc1JVRkJSVHRCUVVNNVFpdzBRa0ZCU1N4RFFVRkRMRWRCUVVjc1EwRkJReXhOUVVGTkxFTkJRVU1zUTBGQlF5eEZRVUZGTEVOQlFVTXNRMEZCUXl4RFFVRkRPM0ZDUVVONlFpeE5RVU5KTEVsQlFVa3NTVUZCU1N4RFFVRkRMRkZCUVZFc1NVRkJTU3hMUVVGTExFVkJRVVU3UVVGRE4wSXNORUpCUVVrc1RVRkJUU3hIUVVGSExFbEJRVWtzUTBGQlF5eFpRVUZaTEVOQlFVTXNTVUZCU1N4RFFVRkRMRTFCUVUwc1EwRkJReXhEUVVGRE8wRkJRelZETERSQ1FVRkpMRWRCUVVjc1IwRkJSeXhKUVVGSkxFTkJRVU1zV1VGQldTeERRVUZETEVsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJRenRCUVVOMFF5dzBRa0ZCU1N4RFFVRkRMRWRCUVVjc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF5eEZRVUZGTEVOQlFVTXNSVUZCUlN4TlFVRk5MRVZCUVVVc1EwRkJReXhGUVVGRkxFZEJRVWNzUlVGQlJTeExRVUZMTEVOQlFVTXNRMEZCUXp0eFFrRkROME03YVVKQlEwbzdRVUZEUkN4dlFrRkJTU3hEUVVGRExFZEJRVWNzUTBGQlF5eFRRVUZUTEVWQlFVVXNRMEZCUXp0QlFVTnlRaXh2UWtGQlNTeEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRExFdEJRVXNzU1VGQlNTeFJRVUZSTEVWQlFVVTdRVUZEY2tNc2QwSkJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNWMEZCVnl4SFFVRkhMRWxCUVVrc1EwRkJReXhSUVVGUkxFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTTdRVUZETVVNc2QwSkJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNUVUZCVFN4RlFVRkZMRU5CUVVNN2FVSkJRM0pDTEUxQlEwa3NTVUZCU1N4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFZEJRVWNzUTBGQlF5eERRVUZETEV0QlFVc3NTVUZCU1N4TlFVRk5MRVZCUVVVN1FVRkRlRU1zZDBKQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1UwRkJVeXhIUVVGSExFbEJRVWtzUTBGQlF5eFJRVUZSTEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNN1FVRkRlRU1zZDBKQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1NVRkJTU3hGUVVGRkxFTkJRVU03YVVKQlEyNUNPMkZCUTBvN1UwRkRTanM3TzJWQlIxa3NkVUpCUVVNc1QwRkJUeXhGUVVGRk8wRkJRMjVDTEdkQ1FVRkpMRTlCUVU4c1JVRkJSVHRCUVVOVUxIRkNRVUZMTEVsQlFVa3NRMEZCUXl4SlFVRkpMRTlCUVU4c1JVRkJSVHRCUVVOdVFpeDNRa0ZCU1N4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRExFTkJRVU1zUjBGQlJ5eFBRVUZQTEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNN2FVSkJRelZDTzJGQlEwbzdVMEZEU2pzN08yVkJTVThzYTBKQlFVTXNSMEZCUnl4RlFVRkZPMEZCUTFZc1owSkJRVWtzU1VGQlNTeERRVUZETEZGQlFWRXNTVUZCU1N4SlFVRkpMRU5CUVVNc1VVRkJVU3hEUVVGRExFZEJRVWNzUTBGQlF5eEZRVUZGTzBGQlEzSkRMSFZDUVVGUExFbEJRVWtzUTBGQlF5eFJRVUZSTEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNN1lVRkROMEk3UVVGRFJDeHRRa0ZCVHl4eFFrRkJUU3h0UWtGQmJVSXNSVUZCUlN4RFFVRkRPMU5CUTNSRE96czdaVUZIVnl4elFrRkJReXhIUVVGSExFVkJRVVU3UVVGRFpDeG5Ra0ZCU1N4TFFVRkxMRU5CUVVNc1IwRkJSeXhEUVVGRExFbEJRVWtzVlVGQlZTeERRVUZETEVsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1JVRkJSVHRCUVVOd1F5eHRRa0ZCUnl4SFFVRkhMRWRCUVVjc1EwRkJReXhQUVVGUExFTkJRVU1zYVVKQlFXbENMRVZCUVVVc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eE5RVUZOTEVOQlFVTXNRMEZCUXl4UFFVRlBMRU5CUVVNc1owSkJRV2RDTEVWQlFVVXNTVUZCU1N4RFFVRkRMRTFCUVUwc1EwRkJReXhMUVVGTExFTkJRVU1zUTBGQlF6dEJRVU4wUnl4dFFrRkJSeXhIUVVGSExFZEJRVWNzUTBGQlF5eFRRVUZUTEVOQlFVTXNRMEZCUXl4RlFVRkZMRWRCUVVjc1EwRkJReXhOUVVGTkxFZEJRVWNzUTBGQlF5eERRVUZETEVOQlFVTTdRVUZEZGtNc2JVSkJRVWNzUjBGQlJ5eEpRVUZKTEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNN1FVRkRhRUlzZFVKQlFVOHNSMEZCUnl4RFFVRkRPMkZCUTJRN1FVRkRSQ3h0UWtGQlR5eEhRVUZITEVOQlFVRTdVMEZEWWpzN08xZEJjRVZuUWl4WlFVRlpPenM3Y1VKQlFWb3NXVUZCV1NJc0ltWnBiR1VpT2lKRU9pOWhjWFZoTDJkbGIzZGhjaTl6Y21NdlkyOXRiVzl1TDBOaGJuWmhjMGhsYkhCbGNpNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1sdGNHOXlkQ0JWZEdsc2N5Qm1jbTl0SUNjdUwxVjBhV3h6TG1wekp6dGNibHh1Wlhod2IzSjBJR1JsWm1GMWJIUWdZMnhoYzNNZ1EyRnVkbUZ6U0dWc2NHVnlJSHRjYmx4dUlDQWdJR052Ym5OMGNuVmpkRzl5S0dOaGJuWmhjeXdnYW5OdmJpd2dZMjlzYjNKVFpYUXBJSHRjYmlBZ0lDQWdJQ0FnZEdocGN5NWpZVzUyWVhNZ1BTQmpZVzUyWVhNN1hHNGdJQ0FnSUNBZ0lIUm9hWE11ZEdWNGRIVnlaU0E5SUdwemIyNDdYRzRnSUNBZ0lDQWdJSFJvYVhNdVkyOXNiM0pUWlhRZ1BTQmpiMnh2Y2xObGREdGNiaUFnSUNCOVhHNWNiaUFnSUNCa2NtRjNWR1Y0ZEhWeVpTZ3BJSHRjYmlBZ0lDQWdJQ0FnZEdocGN5NWpkSGdnUFNCMGFHbHpMbU5oYm5aaGN5NWpkSGc3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVZM1I0TG1KbFoybHVVR0YwYUNncE8xeHVJQ0FnSUNBZ0lDQm1iM0lnS0haaGNpQnJaWGtnYVc0Z2RHaHBjeTUwWlhoMGRYSmxLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG5Wd1pHRjBaVU4wZUZCeWIzQW9kR2hwY3k1MFpYaDBkWEpsVzJ0bGVWMHVZM1I0VUhKdmNDazdYRzRnSUNBZ0lDQWdJQ0FnSUNCbWIzSWdLSFpoY2lCcElHbHVJSFJvYVhNdWRHVjRkSFZ5WlZ0clpYbGRMbVJ5WVhjcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjJZWElnY0dGeWRDQTlJSFJvYVhNdWRHVjRkSFZ5WlZ0clpYbGRMbVJ5WVhkYmFWMDdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdkbUZ5SUhnZ1BTQjBhR2x6TG5CaGNuTmxSWGh3Y21WemN5aHdZWEowTG5ncE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUI1SUQwZ2RHaHBjeTV3WVhKelpVVjRjSEpsYzNNb2NHRnlkQzU1S1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCcFppQW9jR0Z5ZEM1a2NtRjNWSGx3WlNBOVBTQW5iVzkyWlNjcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NWpkSGd1Ylc5MlpWUnZLSGdzSUhrcE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmxiSE5sSUdsbUlDaHdZWEowTG1SeVlYZFVlWEJsSUQwOUlDZHNhVzVsSnlrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0IwYUdsekxtTjBlQzVzYVc1bFZHOG9lQ3dnZVNrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lHVnNjMlVnYVdZZ0tIQmhjblF1WkhKaGQxUjVjR1VnUFQwZ0oyRnlZeWNwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdkbUZ5SUhKaFpHbDFjeUE5SUhSb2FYTXVjR0Z5YzJWRmVIQnlaWE56S0hCaGNuUXVjbUZrYVhWektUdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZG1GeUlHRnlZeUE5SUhSb2FYTXVjR0Z5YzJWRmVIQnlaWE56S0hCaGNuUXVZWEpqS1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1amRIZ3VZWEpqS0hnc0lIa3NJSEpoWkdsMWN5d2dNQ3dnWVhKakxDQm1ZV3h6WlNrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1amRIZ3VZMnh2YzJWUVlYUm9LQ2s3WEc0Z0lDQWdJQ0FnSUNBZ0lDQnBaaUFvZEdocGN5NTBaWGgwZFhKbFcydGxlVjB1YzNSNWJHVWdQVDBnSjNOMGNtOXJaU2NwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbU4wZUM1emRISnZhMlZUZEhsc1pTQTlJSFJvYVhNdVoyVjBRMjlzYjNJb2EyVjVLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0IwYUdsekxtTjBlQzV6ZEhKdmEyVW9LVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0FnSUdWc2MyVWdhV1lnS0hSb2FYTXVkR1Y0ZEhWeVpWdHJaWGxkTG5OMGVXeGxJRDA5SUNkbWFXeHNKeWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVZM1I0TG1acGJHeFRkSGxzWlNBOUlIUm9hWE11WjJWMFEyOXNiM0lvYTJWNUtUdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG1OMGVDNW1hV3hzS0NrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0I5WEc1Y2JseHVJQ0FnSUhWd1pHRjBaVU4wZUZCeWIzQW9ZM1I0VUhKdmNDa2dlMXh1SUNBZ0lDQWdJQ0JwWmlBb1kzUjRVSEp2Y0NrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnWm05eUlDaDJZWElnYXlCcGJpQmpkSGhRY205d0tTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1amRIaGJhMTBnUFNCamRIaFFjbTl3VzJ0ZE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnZlZ4dVhHNWNibHh1SUNBZ0lHZGxkRU52Ykc5eUtHdGxlU2tnZTF4dUlDQWdJQ0FnSUNCcFppQW9kR2hwY3k1amIyeHZjbE5sZENBbUppQjBhR2x6TG1OdmJHOXlVMlYwVzJ0bGVWMHBJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCMGFHbHpMbU52Ykc5eVUyVjBXMnRsZVYwN1hHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdjbVYwZFhKdUlGVjBhV3h6TG1kbGJtVnlZWFJsVW1GdVpHOXRRMjlzYjNJb0tUdGNiaUFnSUNCOVhHNWNibHh1SUNBZ0lIQmhjbk5sUlhod2NtVnpjeWh3YjNNcElIdGNiaUFnSUNBZ0lDQWdhV1lnS0dselRtRk9LSEJ2Y3lrZ0ppWWdMMXhjSkZ4Y2V5NHFYRng5THk1MFpYTjBLSEJ2Y3lrcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUhCdmN5QTlJSEJ2Y3k1eVpYQnNZV05sS0M5allXNTJZWE11YUdWcFoyaDBMMmRwTENCMGFHbHpMbU5oYm5aaGN5NW9aV2xuYUhRcExuSmxjR3hoWTJVb0wyTmhiblpoY3k1M2FXUjBhQzluYVN3Z2RHaHBjeTVqWVc1MllYTXVkMmxrZEdncE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnY0c5eklEMGdjRzl6TG5OMVluTjBjbWx1WnlneUxDQndiM011YkdWdVozUm9JQzBnTVNrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0J3YjNNZ1BTQmxkbUZzS0hCdmN5azdYRzRnSUNBZ0lDQWdJQ0FnSUNCeVpYUjFjbTRnY0c5ek8xeHVJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJSEpsZEhWeWJpQndiM05jYmlBZ0lDQjlYRzVjYm4waVhYMD0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgVXRpbHMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFV0aWxzKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVXRpbHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhVdGlscywgbnVsbCwgW3tcbiAgICAgICAga2V5OiAnZ2VuZXJhdGVSYW5kb21Db2xvcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUNvbG9yKCkge1xuICAgICAgICAgICAgdmFyIGxldHRlcnMgPSAnMDEyMzQ1Njc4OUFCQ0RFRic7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSAnIyc7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbG9yICs9IGxldHRlcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTYpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBVdGlscztcbn0pKCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFV0aWxzO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJa1E2TDJGeGRXRXZaMlZ2ZDJGeUwzTnlZeTlqYjIxdGIyNHZWWFJwYkhNdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3pzN096dEpRVUZ4UWl4TFFVRkxPMkZCUVV3c1MwRkJTenM0UWtGQlRDeExRVUZMT3pzN2FVSkJRVXdzUzBGQlN6czdaVUZEU1N3clFrRkJSenRCUVVONlFpeG5Ra0ZCU1N4UFFVRlBMRWRCUVVjc2EwSkJRV3RDTEVOQlFVTTdRVUZEYWtNc1owSkJRVWtzUzBGQlN5eEhRVUZITEVkQlFVY3NRMEZCUXp0QlFVTm9RaXhwUWtGQlN5eEpRVUZKTEVOQlFVTXNSMEZCUnl4RFFVRkRMRVZCUVVVc1EwRkJReXhIUVVGSExFTkJRVU1zUlVGQlJTeERRVUZETEVWQlFVVXNSVUZCUlR0QlFVTjRRaXh4UWtGQlN5eEpRVUZKTEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVWQlFVVXNSMEZCUnl4RlFVRkZMRU5CUVVNc1EwRkJReXhEUVVGRE8yRkJRM0JFTzBGQlEwUXNiVUpCUVU4c1MwRkJTeXhEUVVGRE8xTkJRMmhDT3pzN1YwRlNaMElzUzBGQlN6czdPM0ZDUVVGTUxFdEJRVXNpTENKbWFXeGxJam9pUkRvdllYRjFZUzluWlc5M1lYSXZjM0pqTDJOdmJXMXZiaTlWZEdsc2N5NXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1WNGNHOXlkQ0JrWldaaGRXeDBJR05zWVhOeklGVjBhV3h6SUh0Y2JpQWdJQ0J6ZEdGMGFXTWdaMlZ1WlhKaGRHVlNZVzVrYjIxRGIyeHZjaWdwSUh0Y2JpQWdJQ0FnSUNBZ2RtRnlJR3hsZEhSbGNuTWdQU0FuTURFeU16UTFOamM0T1VGQ1EwUkZSaWM3WEc0Z0lDQWdJQ0FnSUhaaGNpQmpiMnh2Y2lBOUlDY2pKenRjYmlBZ0lDQWdJQ0FnWm05eUlDaDJZWElnYVNBOUlEQTdJR2tnUENBMk95QnBLeXNwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR052Ykc5eUlDczlJR3hsZEhSbGNuTmJUV0YwYUM1bWJHOXZjaWhOWVhSb0xuSmhibVJ2YlNncElDb2dNVFlwWFR0Y2JpQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQnlaWFIxY200Z1kyOXNiM0k3WEc0Z0lDQWdmVnh1ZlNKZGZRPT0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9QbGF5ZXJKcyA9IHJlcXVpcmUoJy4vUGxheWVyLmpzJyk7XG5cbnZhciBfUGxheWVySnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGxheWVySnMpO1xuXG52YXIgX2NvbW1vbkNhbnZhc0hlbHBlckpzID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL0NhbnZhc0hlbHBlci5qcycpO1xuXG52YXIgX2NvbW1vbkNhbnZhc0hlbHBlckpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbW1vbkNhbnZhc0hlbHBlckpzKTtcblxudmFyIF90ZXh0dXJlc1BsYXllcnNDaXJjbGVwbGF5ZXJKc29uID0gcmVxdWlyZSgnLi4vLi4vdGV4dHVyZXMvcGxheWVycy9jaXJjbGVwbGF5ZXIuanNvbicpO1xuXG52YXIgX3RleHR1cmVzUGxheWVyc0NpcmNsZXBsYXllckpzb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGV4dHVyZXNQbGF5ZXJzQ2lyY2xlcGxheWVySnNvbik7XG5cbnZhciBDaXJjbGVQbGF5ZXIgPSAoZnVuY3Rpb24gKF9QbGF5ZXIpIHtcbiAgICBfaW5oZXJpdHMoQ2lyY2xlUGxheWVyLCBfUGxheWVyKTtcblxuICAgIGZ1bmN0aW9uIENpcmNsZVBsYXllcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENpcmNsZVBsYXllcik7XG5cbiAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2lyY2xlUGxheWVyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKENpcmNsZVBsYXllciwgW3tcbiAgICAgICAga2V5OiAnZHJhdycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KCkge1xuICAgICAgICAgICAgbmV3IF9jb21tb25DYW52YXNIZWxwZXJKczJbJ2RlZmF1bHQnXSh0aGlzLmNhbnZhcywgX3RleHR1cmVzUGxheWVyc0NpcmNsZXBsYXllckpzb24yWydkZWZhdWx0J10sIHRoaXMuY29sb3JTZXQpLmRyYXdUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldFR5cGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VHlwZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBcImNpcmNsZVwiO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENpcmNsZVBsYXllcjtcbn0pKF9QbGF5ZXJKczJbJ2RlZmF1bHQnXSk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IENpcmNsZVBsYXllcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtRNkwyRnhkV0V2WjJWdmQyRnlMM055WXk5d2NtVm1ZV0p6TDNCc1lYbGxjbk12UTJseVkyeGxVR3hoZVdWeUxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3T3pzN096czdPenM3T3pzN2QwSkJRVzFDTEdGQlFXRTdPenM3YjBOQlExQXNPRUpCUVRoQ096czdPeXREUVVOb1F5d3dRMEZCTUVNN096czdTVUZGTlVNc1dVRkJXVHRqUVVGYUxGbEJRVms3TzJGQlFWb3NXVUZCV1RzNFFrRkJXaXhaUVVGWk96dHRRMEZCV2l4WlFVRlpPenM3YVVKQlFWb3NXVUZCV1RzN1pVRkZla0lzWjBKQlFVYzdRVUZEU0N4clJFRkJhVUlzU1VGQlNTeERRVUZETEUxQlFVMHNaMFJCUVZrc1NVRkJTU3hEUVVGRExGRkJRVkVzUTBGQlF5eERRVUZETEZkQlFWY3NSVUZCUlN4RFFVRkRPMU5CUTNoRk96czdaVUZGVFN4dFFrRkJSVHRCUVVOTUxHMUNRVUZQTEZGQlFWRXNRMEZCUXp0VFFVTnVRanM3TzFkQlVtZENMRmxCUVZrN096dHhRa0ZCV2l4WlFVRlpJaXdpWm1sc1pTSTZJa1E2TDJGeGRXRXZaMlZ2ZDJGeUwzTnlZeTl3Y21WbVlXSnpMM0JzWVhsbGNuTXZRMmx5WTJ4bFVHeGhlV1Z5TG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lhVzF3YjNKMElGQnNZWGxsY2lCbWNtOXRJQ2N1TDFCc1lYbGxjaTVxY3ljN1hHNXBiWEJ2Y25RZ1EyRnVkbUZ6U0dWc2NHVnlJR1p5YjIwZ0p5NHVMeTR1TDJOdmJXMXZiaTlEWVc1MllYTklaV3h3WlhJdWFuTW5PMXh1YVcxd2IzSjBJSEJzWVhsbGNrcHpiMjRnWm5KdmJTQW5MaTR2TGk0dmRHVjRkSFZ5WlhNdmNHeGhlV1Z5Y3k5amFYSmpiR1Z3YkdGNVpYSXVhbk52YmljN1hHNWNibVY0Y0c5eWRDQmtaV1poZFd4MElHTnNZWE56SUVOcGNtTnNaVkJzWVhsbGNpQmxlSFJsYm1SeklGQnNZWGxsY2lCN1hHNWNiaUFnSUNCa2NtRjNLQ2tnZTF4dUlDQWdJQ0FnSUNCdVpYY2dRMkZ1ZG1GelNHVnNjR1Z5S0hSb2FYTXVZMkZ1ZG1GekxIQnNZWGxsY2twemIyNHNkR2hwY3k1amIyeHZjbE5sZENrdVpISmhkMVJsZUhSMWNtVW9LVHRjYmlBZ0lDQjlYRzVjYmlBZ0lDQm5aWFJVZVhCbEtDbDdYRzRnSUNBZ0lDQWdJSEpsZEhWeWJpQmNJbU5wY21Oc1pWd2lPMXh1SUNBZ0lIMWNibHh1ZlNKZGZRPT0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9jb21tb25DYW52YXNIZWxwZXJKcyA9IHJlcXVpcmUoJy4uLy4uL2NvbW1vbi9DYW52YXNIZWxwZXIuanMnKTtcblxudmFyIF9jb21tb25DYW52YXNIZWxwZXJKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tb25DYW52YXNIZWxwZXJKcyk7XG5cbnZhciBfdGV4dHVyZXNQbGF5ZXJzUGxheWVySnNvbiA9IHJlcXVpcmUoJy4uLy4uL3RleHR1cmVzL3BsYXllcnMvUGxheWVyLmpzb24nKTtcblxudmFyIF90ZXh0dXJlc1BsYXllcnNQbGF5ZXJKc29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RleHR1cmVzUGxheWVyc1BsYXllckpzb24pO1xuXG52YXIgX2NvbW1vblV0aWxzSnMgPSByZXF1aXJlKCcuLi8uLi9jb21tb24vVXRpbHMuanMnKTtcblxudmFyIF9jb21tb25VdGlsc0pzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbW1vblV0aWxzSnMpO1xuXG52YXIgUGxheWVyID0gKGZ1bmN0aW9uIChfUGhhc2VyJFNwcml0ZSkge1xuICAgIF9pbmhlcml0cyhQbGF5ZXIsIF9QaGFzZXIkU3ByaXRlKTtcblxuICAgIGZ1bmN0aW9uIFBsYXllcihnYW1lLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCB3ZWFwb25GYWN0b3J5LCBjb2xvclNldCwgbmVlZENvbnRyb2wpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsYXllcik7XG5cbiAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGxheWVyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgZ2FtZSwgeCwgeSwgZ2FtZS5tYWtlLmJpdG1hcERhdGEod2lkdGgsIGhlaWdodCkpO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmNhbnZhcyA9IHRoaXMua2V5O1xuICAgICAgICB0aGlzLm5lZWRDb250cm9sID0gbmVlZENvbnRyb2w7XG4gICAgICAgIGlmIChjb2xvclNldCkge1xuICAgICAgICAgICAgdGhpcy5jb2xvclNldCA9IGNvbG9yU2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb2xvclNldCA9IHtcbiAgICAgICAgICAgICAgICBoZWFkOiBfY29tbW9uVXRpbHNKczJbJ2RlZmF1bHQnXS5nZW5lcmF0ZVJhbmRvbUNvbG9yKCksXG4gICAgICAgICAgICAgICAgYm9keTogX2NvbW1vblV0aWxzSnMyWydkZWZhdWx0J10uZ2VuZXJhdGVSYW5kb21Db2xvcigpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmF3KCk7XG5cbiAgICAgICAgdGhpcy5nYW1lLnBoeXNpY3MucDIuZW5hYmxlKHRoaXMpO1xuICAgICAgICB0aGlzLmFuY2hvci5zZXRUbygwLjUsIDAuNTcpO1xuICAgICAgICB0aGlzLmNvbGxpZGVTZXR0aW5nKCk7XG4gICAgICAgIHRoaXMud2VhcG9uRmFjdG9yeSA9IHdlYXBvbkZhY3Rvcnk7XG4gICAgICAgIHRoaXMuY3JlYXRlV2VhcG9uKCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFBsYXllciwgW3tcbiAgICAgICAga2V5OiAnY29sbGlkZVNldHRpbmcnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29sbGlkZVNldHRpbmcoKSB7XG4gICAgICAgICAgICB0aGlzLmJvZHkuc2V0Q29sbGlzaW9uR3JvdXAodGhpcy5nYW1lLmdlb3dhci5wbGF5ZXJDb2xsaXNpb25Hcm91cCk7XG4gICAgICAgICAgICB0aGlzLmJvZHkuY29sbGlkZXMoW3RoaXMuZ2FtZS5nZW93YXIuYnVsbGV0Q29sbGlzaW9uR3JvdXAsIHRoaXMuZ2FtZS5nZW93YXIucGxheWVyQ29sbGlzaW9uR3JvdXBdKTtcbiAgICAgICAgICAgIHRoaXMuYm9keS5vbkJlZ2luQ29udGFjdC5hZGQodGhpcy5jb250YWN0KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29udGFjdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb250YWN0KG90aGVyQm9keSkge1xuICAgICAgICAgICAgaWYgKG90aGVyQm9keSAmJiBvdGhlckJvZHkuc3ByaXRlICYmIG90aGVyQm9keS5zcHJpdGUuaXNCdWxsZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJCb2R5LnNwcml0ZS5wbGF5ZXIgIT0gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICAvL2tpbGwgZm9yIHJldXNlIGJ1bGxldFxuICAgICAgICAgICAgICAgICAgICBvdGhlckJvZHkuc3ByaXRlLmtpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2RyYXcnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZHJhdygpIHtcbiAgICAgICAgICAgIG5ldyBfY29tbW9uQ2FudmFzSGVscGVySnMyWydkZWZhdWx0J10odGhpcy5jYW52YXMsIF90ZXh0dXJlc1BsYXllcnNQbGF5ZXJKc29uMlsnZGVmYXVsdCddLCB0aGlzLmNvbG9yU2V0KS5kcmF3VGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICd1cGRhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubmVlZENvbnRyb2wpIHtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5MRUZUKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvZHkucm90YXRlTGVmdCg1MCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5SSUdIVCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5LnJvdGF0ZVJpZ2h0KDUwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJvZHkuc2V0WmVyb1JvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5VUCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5LnRocnVzdCgzMDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuRE9XTikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5LnJldmVyc2UoMzAwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5maXJlQnV0dG9uLmlzRG93bikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndlYXBvbi5maXJlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZSh7IG5hbWU6IFwicGxheWVyRmlyZVwiLCBpZDogdGhpcy5wbGF5ZXJJZCB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZSh7IG5hbWU6IFwicGxheWVyTW92ZVwiLCBpZDogdGhpcy5wbGF5ZXJJZCwgeDogdGhpcy54LCB5OiB0aGlzLnksIGFuZ2xlOiB0aGlzLmFuZ2xlLCB0eXBlOiB0aGlzLmdldFR5cGUoKSwgY29sb3JTZXQ6IHRoaXMuY29sb3JTZXQgfSk7XG4gICAgICAgICAgICAgICAgLy9vbmx5IHB1c2ggY3VycmVudCBwbGF5ZXIgZGF0YSB0byBzZXJ2ZXIgYW5kIHVzZSBzb2NrZXQuaW8gdG8gYnJvYWRjYXNlIHRvIHBlZXIgcGxheWVyc1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy91cGRhdGUgcGVlciBwbGF5ZXIgcG9zIGJ5IGRhdGEgZnJvbSBzb2NrZXQuaW9cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZ2FtZS5nZW93YXIucGxheWVyc1t0aGlzLnBsYXllcklkXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nYW1lLmdlb3dhci5wbGF5ZXJzW3RoaXMucGxheWVySWRdLnBvcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMuZ2FtZS5nZW93YXIucGxheWVyc1t0aGlzLnBsYXllcklkXS5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJvZHkueCA9IHBvcy54O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ib2R5LnkgPSBwb3MueTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm9keS5hbmdsZSA9IHBvcy5hbmdsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nYW1lLmdlb3dhci5wbGF5ZXJzW3RoaXMucGxheWVySWRdLmZpcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2VhcG9uLmZpcmUodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnNbdGhpcy5wbGF5ZXJJZF0uZmlyZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRUeXBlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFR5cGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ0cmlhbmdsZVwiO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdwdXNoU3RhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaFN0YXRlKGRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nZW93YXIuc29ja2V0SGFuZGxlci5wdXNoKGRhdGEpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjcmVhdGVXZWFwb24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlV2VhcG9uKCkge1xuICAgICAgICAgICAgdGhpcy53ZWFwb24gPSB0aGlzLndlYXBvbkZhY3RvcnkuY3JlYXRlV2VhcG9uKCdiYXNpYycsIHRoaXMpO1xuXG4gICAgICAgICAgICAvLyB0aGlzLndlYXBvbi50cmFja1Nwcml0ZSh0aGlzLCAwLCAodGhpcy53aWR0aC8yICsgNSkgKiAtMSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZmlyZUJ1dHRvbiA9IHRoaXMuZ2FtZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLktleUNvZGUuU1BBQ0VCQVIpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc0N1cnJlbnRQbGF5ZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNDdXJyZW50UGxheWVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmVlZENvbnRyb2w7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveShkZXN0cm95Q2hpbGRyZW4sIGRlc3Ryb3lUZXh0dXJlKSB7XG4gICAgICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihQbGF5ZXIucHJvdG90eXBlKSwgJ2Rlc3Ryb3knLCB0aGlzKS5jYWxsKHRoaXMsIGRlc3Ryb3lDaGlsZHJlbiwgZGVzdHJveVRleHR1cmUpO1xuICAgICAgICAgICAgLy9jb3ogdGhlIHdlYXBvbiBub3QgY2hpbGRyZW4sIG5lZWQgdG8gZGVzdG9yeSB0b29cbiAgICAgICAgICAgIHRoaXMud2VhcG9uLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQbGF5ZXI7XG59KShQaGFzZXIuU3ByaXRlKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gUGxheWVyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJa1E2TDJGeGRXRXZaMlZ2ZDJGeUwzTnlZeTl3Y21WbVlXSnpMM0JzWVhsbGNuTXZVR3hoZVdWeUxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3T3pzN096czdPenM3T3pzN2IwTkJRWGxDTERoQ1FVRTRRanM3T3p0NVEwRkRhRU1zYjBOQlFXOURPenM3T3paQ1FVTjZReXgxUWtGQmRVSTdPenM3U1VGRmNFSXNUVUZCVFR0alFVRk9MRTFCUVUwN08wRkJSVm9zWVVGR1RTeE5RVUZOTEVOQlJWZ3NTVUZCU1N4RlFVRkZMRU5CUVVNc1JVRkJSU3hEUVVGRExFVkJRVVVzUzBGQlN5eEZRVUZGTEUxQlFVMHNSVUZCUlN4aFFVRmhMRVZCUVVVc1VVRkJVU3hGUVVGRkxGZEJRVmNzUlVGQlJUczRRa0ZHTlVRc1RVRkJUVHM3UVVGSGJrSXNiVU5CU0dFc1RVRkJUU3cyUTBGSFlpeEpRVUZKTEVWQlFVVXNRMEZCUXl4RlFVRkZMRU5CUVVNc1JVRkJSU3hKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEZWQlFWVXNRMEZCUXl4TFFVRkxMRVZCUVVVc1RVRkJUU3hEUVVGRExFVkJRVVU3UVVGRGRrUXNXVUZCU1N4RFFVRkRMRXRCUVVzc1IwRkJSeXhMUVVGTExFTkJRVU03UVVGRGJrSXNXVUZCU1N4RFFVRkRMRTFCUVUwc1IwRkJSeXhOUVVGTkxFTkJRVU03UVVGRGNrSXNXVUZCU1N4RFFVRkRMRTFCUVUwc1IwRkJSeXhKUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETzBGQlEzWkNMRmxCUVVrc1EwRkJReXhYUVVGWExFZEJRVWNzVjBGQlZ5eERRVUZETzBGQlF5OUNMRmxCUVVrc1VVRkJVU3hGUVVGRk8wRkJRMVlzWjBKQlFVa3NRMEZCUXl4UlFVRlJMRWRCUVVjc1VVRkJVU3hEUVVGRE8xTkJRelZDTEUxQlEwazdRVUZEUkN4blFrRkJTU3hEUVVGRExGRkJRVkVzUjBGQlJ6dEJRVU5hTEc5Q1FVRkpMRVZCUVVVc01rSkJRVTBzYlVKQlFXMUNMRVZCUVVVN1FVRkRha01zYjBKQlFVa3NSVUZCUlN3eVFrRkJUU3h0UWtGQmJVSXNSVUZCUlR0aFFVTndReXhEUVVGRE8xTkJRMHc3TzBGQlJVUXNXVUZCU1N4RFFVRkRMRWxCUVVrc1JVRkJSU3hEUVVGRE96dEJRVVZhTEZsQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFVkJRVVVzUTBGQlF5eE5RVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1FVRkRiRU1zV1VGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4TFFVRkxMRU5CUVVNc1IwRkJSeXhGUVVGRkxFbEJRVWtzUTBGQlF5eERRVUZETzBGQlF6ZENMRmxCUVVrc1EwRkJReXhqUVVGakxFVkJRVVVzUTBGQlF6dEJRVU4wUWl4WlFVRkpMRU5CUVVNc1lVRkJZU3hIUVVGSExHRkJRV0VzUTBGQlF6dEJRVU51UXl4WlFVRkpMRU5CUVVNc1dVRkJXU3hGUVVGRkxFTkJRVU03UzBGRGRrSTdPMmxDUVhwQ1owSXNUVUZCVFRzN1pVRTBRbFFzTUVKQlFVYzdRVUZEWWl4blFrRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eHBRa0ZCYVVJc1EwRkJReXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4dlFrRkJiMElzUTBGQlF5eERRVUZETzBGQlEyNUZMR2RDUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEZGQlFWRXNRMEZCUXl4RFFVRkRMRWxCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETEc5Q1FVRnZRaXhGUVVGRkxFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNUVUZCVFN4RFFVRkRMRzlDUVVGdlFpeERRVUZETEVOQlFVTXNRMEZCUXp0QlFVTnVSeXhuUWtGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4alFVRmpMRU5CUVVNc1IwRkJSeXhEUVVGRExFbEJRVWtzUTBGQlF5eFBRVUZQTEVOQlFVTXNRMEZCUXp0VFFVTTVRenM3TzJWQlIwMHNhVUpCUVVNc1UwRkJVeXhGUVVGRk8wRkJRMllzWjBKQlFVa3NVMEZCVXl4SlFVRkpMRk5CUVZNc1EwRkJReXhOUVVGTkxFbEJRVWtzVTBGQlV5eERRVUZETEUxQlFVMHNRMEZCUXl4UlFVRlJMRVZCUVVVN1FVRkROVVFzYjBKQlFVY3NVMEZCVXl4RFFVRkRMRTFCUVUwc1EwRkJReXhOUVVGTkxFbEJRVWtzU1VGQlNTeEZRVUZET3p0QlFVVm9ReXcyUWtGQlV5eERRVUZETEUxQlFVMHNRMEZCUXl4SlFVRkpMRVZCUVVVc1EwRkJRenRwUWtGRE1VSTdZVUZEU2p0VFFVTktPenM3WlVGSFJ5eG5Ra0ZCUnp0QlFVTklMR3RFUVVGcFFpeEpRVUZKTEVOQlFVTXNUVUZCVFN3d1EwRkJZeXhKUVVGSkxFTkJRVU1zVVVGQlVTeERRVUZETEVOQlFVTXNWMEZCVnl4RlFVRkZMRU5CUVVNN1UwRkRNVVU3T3p0bFFVVkxMR3RDUVVGSE8wRkJRMHdzWjBKQlFVa3NTVUZCU1N4RFFVRkRMRmRCUVZjc1JVRkJSVHM3UVVGRmJFSXNiMEpCUVVrc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNVVUZCVVN4RFFVRkRMRTFCUVUwc1EwRkJReXhOUVVGTkxFTkJRVU1zVVVGQlVTeERRVUZETEVsQlFVa3NRMEZCUXl4RlFVRkZPMEZCUTNaRUxIZENRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRlZCUVZVc1EwRkJReXhGUVVGRkxFTkJRVU1zUTBGQlF6dHBRa0ZETlVJc1RVRkRTU3hKUVVGSkxFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRkZCUVZFc1EwRkJReXhOUVVGTkxFTkJRVU1zVFVGQlRTeERRVUZETEZGQlFWRXNRMEZCUXl4TFFVRkxMRU5CUVVNc1JVRkJSVHRCUVVNM1JDeDNRa0ZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhYUVVGWExFTkJRVU1zUlVGQlJTeERRVUZETEVOQlFVTTdhVUpCUXpkQ0xFMUJRMGs3UVVGRFJDeDNRa0ZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhsUVVGbExFVkJRVVVzUTBGQlF6dHBRa0ZETDBJN1FVRkRSQ3h2UWtGQlNTeEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhSUVVGUkxFTkJRVU1zVFVGQlRTeERRVUZETEUxQlFVMHNRMEZCUXl4UlFVRlJMRU5CUVVNc1JVRkJSU3hEUVVGRExFVkJRVVU3UVVGRGNrUXNkMEpCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRPMmxDUVVONlFpeE5RVU5KTEVsQlFVa3NTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zVVVGQlVTeERRVUZETEUxQlFVMHNRMEZCUXl4TlFVRk5MRU5CUVVNc1VVRkJVU3hEUVVGRExFbEJRVWtzUTBGQlF5eEZRVUZGTzBGQlF6VkVMSGRDUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJRenRwUWtGRE1VSTdPMEZCUlVRc2IwSkJRVWtzU1VGQlNTeERRVUZETEZWQlFWVXNRMEZCUXl4TlFVRk5MRVZCUVVVN1FVRkRlRUlzZDBKQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzBGQlEzWkNMSGRDUVVGSkxFTkJRVU1zVTBGQlV5eERRVUZETEVWQlFVVXNTVUZCU1N4RlFVRkZMRmxCUVZrc1JVRkJSU3hGUVVGRkxFVkJRVVVzU1VGQlNTeERRVUZETEZGQlFWRXNSVUZCUlN4RFFVRkRMRU5CUVVNN2FVSkJRemRFT3p0QlFVVkVMRzlDUVVGSkxFTkJRVU1zVTBGQlV5eERRVUZETEVWQlFVVXNTVUZCU1N4RlFVRkZMRmxCUVZrc1JVRkJSU3hGUVVGRkxFVkJRVVVzU1VGQlNTeERRVUZETEZGQlFWRXNSVUZCUlN4RFFVRkRMRVZCUVVVc1NVRkJTU3hEUVVGRExFTkJRVU1zUlVGQlJTeERRVUZETEVWQlFVVXNTVUZCU1N4RFFVRkRMRU5CUVVNc1JVRkJSU3hMUVVGTExFVkJRVVVzU1VGQlNTeERRVUZETEV0QlFVc3NSVUZCUlN4SlFVRkpMRVZCUVVVc1NVRkJTU3hEUVVGRExFOUJRVThzUlVGQlJTeEZRVUZGTEZGQlFWRXNSVUZCUlN4SlFVRkpMRU5CUVVNc1VVRkJVU3hGUVVGRkxFTkJRVU1zUTBGQlF6czdZVUZGY2tvN08ybENRVVZKTEVsQlFVa3NTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1JVRkJSVHRCUVVNNVF5eDNRa0ZCU1N4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRkZCUVZFc1EwRkJReXhEUVVGRExFZEJRVWNzUlVGQlJUdEJRVU0zUXl3MFFrRkJTU3hIUVVGSExFZEJRVWNzU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlF5eFJRVUZSTEVOQlFVTXNRMEZCUXl4SFFVRkhMRU5CUVVNN1FVRkRkRVFzTkVKQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJReXhIUVVGSExFZEJRVWNzUTBGQlF5eERRVUZETEVOQlFVTTdRVUZEY0VJc05FSkJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXl4SFFVRkhMRWRCUVVjc1EwRkJReXhEUVVGRExFTkJRVU03UVVGRGNFSXNORUpCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUzBGQlN5eEhRVUZITEVkQlFVY3NRMEZCUXl4TFFVRkxMRU5CUVVNN2NVSkJReTlDTzBGQlEwUXNkMEpCUVVrc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJReXhSUVVGUkxFTkJRVU1zUTBGQlF5eEpRVUZKTEVWQlFVVTdRVUZET1VNc05FSkJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE8wRkJRM1pDTERSQ1FVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRkZCUVZFc1EwRkJReXhEUVVGRExFbEJRVWtzUjBGQlJ5eExRVUZMTEVOQlFVTTdjVUpCUTNoRU8ybENRVU5LTzFOQlEwbzdPenRsUVVkTkxHMUNRVUZGTzBGQlEwd3NiVUpCUVU4c1ZVRkJWU3hEUVVGRE8xTkJRM0pDT3pzN1pVRkhVU3h0UWtGQlF5eEpRVUZKTEVWQlFVVTdRVUZEV2l4blFrRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNZVUZCWVN4RFFVRkRMRWxCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dFRRVU0zUXpzN08yVkJSMWNzZDBKQlFVYzdRVUZEV0N4blFrRkJTU3hEUVVGRExFMUJRVTBzUjBGQlJ5eEpRVUZKTEVOQlFVTXNZVUZCWVN4RFFVRkRMRmxCUVZrc1EwRkJReXhQUVVGUExFVkJRVU1zU1VGQlNTeERRVUZETEVOQlFVTTdPenM3UVVGSk5VUXNaMEpCUVVrc1EwRkJReXhWUVVGVkxFZEJRVWNzU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4TFFVRkxMRU5CUVVNc1VVRkJVU3hEUVVGRExFMUJRVTBzUTBGQlF5eE5RVUZOTEVOQlFVTXNUMEZCVHl4RFFVRkRMRkZCUVZFc1EwRkJReXhEUVVGRE8xTkJRemxGT3pzN1pVRkZZeXd5UWtGQlJ6dEJRVU5rTEcxQ1FVRlBMRWxCUVVrc1EwRkJReXhYUVVGWExFTkJRVU03VTBGRE0wSTdPenRsUVVkTkxHbENRVUZETEdWQlFXVXNSVUZCUlN4alFVRmpMRVZCUVVNN1FVRkRjRU1zZFVOQmNFaGhMRTFCUVUwc2VVTkJiMGhNTEdWQlFXVXNSVUZCUlN4alFVRmpMRVZCUVVVN08wRkJSUzlETEdkQ1FVRkpMRU5CUVVNc1RVRkJUU3hEUVVGRExFOUJRVThzUlVGQlJTeERRVUZETzFOQlEzcENPenM3VjBGMlNHZENMRTFCUVUwN1IwRkJVeXhOUVVGTkxFTkJRVU1zVFVGQlRUczdjVUpCUVRWQ0xFMUJRVTBpTENKbWFXeGxJam9pUkRvdllYRjFZUzluWlc5M1lYSXZjM0pqTDNCeVpXWmhZbk12Y0d4aGVXVnljeTlRYkdGNVpYSXVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKcGJYQnZjblFnUTJGdWRtRnpTR1ZzY0dWeUlHWnliMjBnSnk0dUx5NHVMMk52YlcxdmJpOURZVzUyWVhOSVpXeHdaWEl1YW5Nbk8xeHVhVzF3YjNKMElIQnNZWGxsY2twemIyNGdabkp2YlNBbkxpNHZMaTR2ZEdWNGRIVnlaWE12Y0d4aGVXVnljeTlRYkdGNVpYSXVhbk52YmljN1hHNXBiWEJ2Y25RZ1ZYUnBiSE1nWm5KdmJTQW5MaTR2TGk0dlkyOXRiVzl1TDFWMGFXeHpMbXB6Snp0Y2JseHVaWGh3YjNKMElHUmxabUYxYkhRZ1kyeGhjM01nVUd4aGVXVnlJR1Y0ZEdWdVpITWdVR2hoYzJWeUxsTndjbWwwWlNCN1hHNWNiaUFnSUNCamIyNXpkSEoxWTNSdmNpaG5ZVzFsTENCNExDQjVMQ0IzYVdSMGFDd2dhR1ZwWjJoMExDQjNaV0Z3YjI1R1lXTjBiM0o1TENCamIyeHZjbE5sZEN3Z2JtVmxaRU52Ym5SeWIyd3BJSHRjYmlBZ0lDQWdJQ0FnYzNWd1pYSW9aMkZ0WlN3Z2VDd2dlU3dnWjJGdFpTNXRZV3RsTG1KcGRHMWhjRVJoZEdFb2QybGtkR2dzSUdobGFXZG9kQ2twTzF4dUlDQWdJQ0FnSUNCMGFHbHpMbmRwWkhSb0lEMGdkMmxrZEdnN1hHNGdJQ0FnSUNBZ0lIUm9hWE11YUdWcFoyaDBJRDBnYUdWcFoyaDBPMXh1SUNBZ0lDQWdJQ0IwYUdsekxtTmhiblpoY3lBOUlIUm9hWE11YTJWNU8xeHVJQ0FnSUNBZ0lDQjBhR2x6TG01bFpXUkRiMjUwY205c0lEMGdibVZsWkVOdmJuUnliMnc3WEc0Z0lDQWdJQ0FnSUdsbUlDaGpiMnh2Y2xObGRDa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTVqYjJ4dmNsTmxkQ0E5SUdOdmJHOXlVMlYwTzF4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lHVnNjMlVnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1amIyeHZjbE5sZENBOUlIdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQm9aV0ZrT2lCVmRHbHNjeTVuWlc1bGNtRjBaVkpoYm1SdmJVTnZiRzl5S0Nrc1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1ltOWtlVG9nVlhScGJITXVaMlZ1WlhKaGRHVlNZVzVrYjIxRGIyeHZjaWdwWEc0Z0lDQWdJQ0FnSUNBZ0lDQjlPMXh1SUNBZ0lDQWdJQ0I5WEc1Y2JpQWdJQ0FnSUNBZ2RHaHBjeTVrY21GM0tDazdYRzVjYmlBZ0lDQWdJQ0FnZEdocGN5NW5ZVzFsTG5Cb2VYTnBZM011Y0RJdVpXNWhZbXhsS0hSb2FYTXBPMXh1SUNBZ0lDQWdJQ0IwYUdsekxtRnVZMmh2Y2k1elpYUlVieWd3TGpVc0lEQXVOVGNwTzF4dUlDQWdJQ0FnSUNCMGFHbHpMbU52Ykd4cFpHVlRaWFIwYVc1bktDazdYRzRnSUNBZ0lDQWdJSFJvYVhNdWQyVmhjRzl1Um1GamRHOXllU0E5SUhkbFlYQnZia1poWTNSdmNuazdYRzRnSUNBZ0lDQWdJSFJvYVhNdVkzSmxZWFJsVjJWaGNHOXVLQ2s3WEc0Z0lDQWdmVnh1WEc1Y2JpQWdJQ0JqYjJ4c2FXUmxVMlYwZEdsdVp5Z3BJSHRjYmlBZ0lDQWdJQ0FnZEdocGN5NWliMlI1TG5ObGRFTnZiR3hwYzJsdmJrZHliM1Z3S0hSb2FYTXVaMkZ0WlM1blpXOTNZWEl1Y0d4aGVXVnlRMjlzYkdsemFXOXVSM0p2ZFhBcE8xeHVJQ0FnSUNBZ0lDQjBhR2x6TG1KdlpIa3VZMjlzYkdsa1pYTW9XM1JvYVhNdVoyRnRaUzVuWlc5M1lYSXVZblZzYkdWMFEyOXNiR2x6YVc5dVIzSnZkWEFzSUhSb2FYTXVaMkZ0WlM1blpXOTNZWEl1Y0d4aGVXVnlRMjlzYkdsemFXOXVSM0p2ZFhCZEtUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1aWIyUjVMbTl1UW1WbmFXNURiMjUwWVdOMExtRmtaQ2gwYUdsekxtTnZiblJoWTNRcE8xeHVJQ0FnSUgxY2JseHVYRzRnSUNBZ1kyOXVkR0ZqZENodmRHaGxja0p2WkhrcElIdGNiaUFnSUNBZ0lDQWdhV1lnS0c5MGFHVnlRbTlrZVNBbUppQnZkR2hsY2tKdlpIa3VjM0J5YVhSbElDWW1JRzkwYUdWeVFtOWtlUzV6Y0hKcGRHVXVhWE5DZFd4c1pYUXBJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHbG1LRzkwYUdWeVFtOWtlUzV6Y0hKcGRHVXVjR3hoZVdWeUlDRTlJSFJvYVhNcGUxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDOHZhMmxzYkNCbWIzSWdjbVYxYzJVZ1luVnNiR1YwWEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0J2ZEdobGNrSnZaSGt1YzNCeWFYUmxMbXRwYkd3b0tUdGNiaUFnSUNBZ0lDQWdJQ0FnSUgwZ0lDQWdYRzRnSUNBZ0lDQWdJSDFjYmlBZ0lDQjlPMXh1WEc1Y2JpQWdJQ0JrY21GM0tDa2dlMXh1SUNBZ0lDQWdJQ0J1WlhjZ1EyRnVkbUZ6U0dWc2NHVnlLSFJvYVhNdVkyRnVkbUZ6TENCd2JHRjVaWEpLYzI5dUxDQjBhR2x6TG1OdmJHOXlVMlYwS1M1a2NtRjNWR1Y0ZEhWeVpTZ3BPMXh1SUNBZ0lIMWNibHh1SUNBZ0lIVndaR0YwWlNncElIdGNiaUFnSUNBZ0lDQWdhV1lnS0hSb2FYTXVibVZsWkVOdmJuUnliMndwSUh0Y2JseHVJQ0FnSUNBZ0lDQWdJQ0FnYVdZZ0tIUm9hWE11WjJGdFpTNXBibkIxZEM1clpYbGliMkZ5WkM1cGMwUnZkMjRvVUdoaGMyVnlMa3RsZVdKdllYSmtMa3hGUmxRcEtTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1aWIyUjVMbkp2ZEdGMFpVeGxablFvTlRBcE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNBZ0lDQWdaV3h6WlNCcFppQW9kR2hwY3k1bllXMWxMbWx1Y0hWMExtdGxlV0p2WVhKa0xtbHpSRzkzYmloUWFHRnpaWEl1UzJWNVltOWhjbVF1VWtsSFNGUXBLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NWliMlI1TG5KdmRHRjBaVkpwWjJoMEtEVXdLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0FnSUdWc2MyVWdlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdVltOWtlUzV6WlhSYVpYSnZVbTkwWVhScGIyNG9LVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDaDBhR2x6TG1kaGJXVXVhVzV3ZFhRdWEyVjVZbTloY21RdWFYTkViM2R1S0ZCb1lYTmxjaTVMWlhsaWIyRnlaQzVWVUNrcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG1KdlpIa3VkR2h5ZFhOMEtETXdNQ2s3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJQ0FnSUNCbGJITmxJR2xtSUNoMGFHbHpMbWRoYldVdWFXNXdkWFF1YTJWNVltOWhjbVF1YVhORWIzZHVLRkJvWVhObGNpNUxaWGxpYjJGeVpDNUVUMWRPS1NrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIUm9hWE11WW05a2VTNXlaWFpsY25ObEtETXdNQ2s3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnSUNBZ0lHbG1JQ2gwYUdsekxtWnBjbVZDZFhSMGIyNHVhWE5FYjNkdUtTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1M1pXRndiMjR1Wm1seVpTaDBhR2x6S1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbkIxYzJoVGRHRjBaU2g3SUc1aGJXVTZJRndpY0d4aGVXVnlSbWx5WlZ3aUxDQnBaRG9nZEdocGN5NXdiR0Y1WlhKSlpDQjlLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNibHh1SUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTV3ZFhOb1UzUmhkR1VvZXlCdVlXMWxPaUJjSW5Cc1lYbGxjazF2ZG1WY0lpd2dhV1E2SUhSb2FYTXVjR3hoZVdWeVNXUXNJSGc2SUhSb2FYTXVlQ3dnZVRvZ2RHaHBjeTU1TENCaGJtZHNaVG9nZEdocGN5NWhibWRzWlN3Z2RIbHdaVG9nZEdocGN5NW5aWFJVZVhCbEtDa3NJR052Ykc5eVUyVjBPaUIwYUdsekxtTnZiRzl5VTJWMElIMHBPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0x5OXZibXg1SUhCMWMyZ2dZM1Z5Y21WdWRDQndiR0Y1WlhJZ1pHRjBZU0IwYnlCelpYSjJaWElnWVc1a0lIVnpaU0J6YjJOclpYUXVhVzhnZEc4Z1luSnZZV1JqWVhObElIUnZJSEJsWlhJZ2NHeGhlV1Z5YzF4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lDOHZkWEJrWVhSbElIQmxaWElnY0d4aGVXVnlJSEJ2Y3lCaWVTQmtZWFJoSUdaeWIyMGdjMjlqYTJWMExtbHZYRzRnSUNBZ0lDQWdJR1ZzYzJVZ2FXWWdLSFJvYVhNdVoyRnRaUzVuWlc5M1lYSXVjR3hoZVdWeWMxdDBhR2x6TG5Cc1lYbGxja2xrWFNrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnYVdZZ0tIUm9hWE11WjJGdFpTNW5aVzkzWVhJdWNHeGhlV1Z5YzF0MGFHbHpMbkJzWVhsbGNrbGtYUzV3YjNNcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjJZWElnY0c5eklEMGdkR2hwY3k1bllXMWxMbWRsYjNkaGNpNXdiR0Y1WlhKelczUm9hWE11Y0d4aGVXVnlTV1JkTG5CdmN6dGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG1KdlpIa3VlQ0E5SUhCdmN5NTRPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdVltOWtlUzU1SUQwZ2NHOXpMbms3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NWliMlI1TG1GdVoyeGxJRDBnY0c5ekxtRnVaMnhsTzF4dUlDQWdJQ0FnSUNBZ0lDQWdmVnh1SUNBZ0lDQWdJQ0FnSUNBZ2FXWWdLSFJvYVhNdVoyRnRaUzVuWlc5M1lYSXVjR3hoZVdWeWMxdDBhR2x6TG5Cc1lYbGxja2xrWFM1bWFYSmxLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZEdocGN5NTNaV0Z3YjI0dVptbHlaU2gwYUdsektUdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG1kaGJXVXVaMlZ2ZDJGeUxuQnNZWGxsY25OYmRHaHBjeTV3YkdGNVpYSkpaRjB1Wm1seVpTQTlJR1poYkhObE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnZlZ4dVhHNWNiaUFnSUNCblpYUlVlWEJsS0NsN1hHNGdJQ0FnSUNBZ0lISmxkSFZ5YmlCY0luUnlhV0Z1WjJ4bFhDSTdYRzRnSUNBZ2ZWeHVYRzVjYmlBZ0lDQndkWE5vVTNSaGRHVW9aR0YwWVNrZ2UxeHVJQ0FnSUNBZ0lDQjBhR2x6TG1kaGJXVXVaMlZ2ZDJGeUxuTnZZMnRsZEVoaGJtUnNaWEl1Y0hWemFDaGtZWFJoS1R0Y2JpQWdJQ0I5WEc1Y2JseHVJQ0FnSUdOeVpXRjBaVmRsWVhCdmJpZ3BJSHRjYmlBZ0lDQWdJQ0FnZEdocGN5NTNaV0Z3YjI0Z1BTQjBhR2x6TG5kbFlYQnZia1poWTNSdmNua3VZM0psWVhSbFYyVmhjRzl1S0NkaVlYTnBZeWNzZEdocGN5azdYRzVjYmlBZ0lDQWdJQ0FnTHk4Z2RHaHBjeTUzWldGd2IyNHVkSEpoWTJ0VGNISnBkR1VvZEdocGN5d2dNQ3dnS0hSb2FYTXVkMmxrZEdndk1pQXJJRFVwSUNvZ0xURXNJSFJ5ZFdVcE8xeHVYRzRnSUNBZ0lDQWdJSFJvYVhNdVptbHlaVUoxZEhSdmJpQTlJSFJvYVhNdVoyRnRaUzVwYm5CMWRDNXJaWGxpYjJGeVpDNWhaR1JMWlhrb1VHaGhjMlZ5TGt0bGVVTnZaR1V1VTFCQlEwVkNRVklwTzF4dUlDQWdJSDFjYmx4dUlDQWdJR2x6UTNWeWNtVnVkRkJzWVhsbGNpZ3BJSHRjYmlBZ0lDQWdJQ0FnY21WMGRYSnVJSFJvYVhNdWJtVmxaRU52Ym5SeWIydzdYRzRnSUNBZ2ZWeHVYRzVjYmlBZ0lDQmtaWE4wY205NUtHUmxjM1J5YjNsRGFHbHNaSEpsYml3Z1pHVnpkSEp2ZVZSbGVIUjFjbVVwZTF4dUlDQWdJQ0FnSUNCemRYQmxjaTVrWlhOMGNtOTVLR1JsYzNSeWIzbERhR2xzWkhKbGJpd2daR1Z6ZEhKdmVWUmxlSFIxY21VcE8xeHVJQ0FnSUNBZ0lDQXZMMk52ZWlCMGFHVWdkMlZoY0c5dUlHNXZkQ0JqYUdsc1pISmxiaXdnYm1WbFpDQjBieUJrWlhOMGIzSjVJSFJ2YjF4dUlDQWdJQ0FnSUNCMGFHbHpMbmRsWVhCdmJpNWtaWE4wY205NUtDazdYRzRnSUNBZ2ZWeHVYRzU5SWwxOSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIF9QbGF5ZXJKcyA9IHJlcXVpcmUoJy4vUGxheWVyLmpzJyk7XG5cbnZhciBfUGxheWVySnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGxheWVySnMpO1xuXG52YXIgX1NxdWFyZVBsYXllckpzID0gcmVxdWlyZSgnLi9TcXVhcmVQbGF5ZXIuanMnKTtcblxudmFyIF9TcXVhcmVQbGF5ZXJKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TcXVhcmVQbGF5ZXJKcyk7XG5cbnZhciBfQ2lyY2xlUGxheWVySnMgPSByZXF1aXJlKCcuL0NpcmNsZVBsYXllci5qcycpO1xuXG52YXIgX0NpcmNsZVBsYXllckpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NpcmNsZVBsYXllckpzKTtcblxudmFyIF93ZWFwb25zV2VhcG9uRmFjdG9yeUpzID0gcmVxdWlyZSgnLi4vd2VhcG9ucy9XZWFwb25GYWN0b3J5LmpzJyk7XG5cbnZhciBfd2VhcG9uc1dlYXBvbkZhY3RvcnlKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93ZWFwb25zV2VhcG9uRmFjdG9yeUpzKTtcblxudmFyIF9jb21tb25VdGlsc0pzID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL1V0aWxzLmpzJyk7XG5cbnZhciBfY29tbW9uVXRpbHNKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tb25VdGlsc0pzKTtcblxudmFyIFBsYXllckZhY3RvcnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBsYXllckZhY3RvcnkoZ2FtZSkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGxheWVyRmFjdG9yeSk7XG5cbiAgICAgICAgdGhpcy5fcGxheWVyVHlwZXMgPSBbJ3RyaWFuZ2xlJywgJ3NxdWFyZScsICdjaXJjbGUnXTtcblxuICAgICAgICB0aGlzLmdhbWUgPSBnYW1lO1xuICAgICAgICB0aGlzLndlYXBvbkZhY3RvcnkgPSBuZXcgX3dlYXBvbnNXZWFwb25GYWN0b3J5SnMyWydkZWZhdWx0J10oZ2FtZSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFBsYXllckZhY3RvcnksIFt7XG4gICAgICAgIGtleTogJ2NyZWF0ZVBsYXllcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQbGF5ZXIoZGVmYXVsdFR5cGUpIHtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZGVmYXVsdFR5cGU7XG4gICAgICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gdGhpcy5fcGxheWVyVHlwZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5fcGxheWVyVHlwZXMubGVuZ3RoKV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidHJpYW5nbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBfUGxheWVySnMyWydkZWZhdWx0J10odGhpcy5nYW1lLCB0aGlzLmdhbWUud2lkdGggLyAyLCB0aGlzLmdhbWUuaGVpZ2h0IC8gMiwgMzAsIDM1LCB0aGlzLndlYXBvbkZhY3RvcnksIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzcXVhcmVcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBfU3F1YXJlUGxheWVySnMyWydkZWZhdWx0J10odGhpcy5nYW1lLCB0aGlzLmdhbWUud2lkdGggLyAyLCB0aGlzLmdhbWUuaGVpZ2h0IC8gMiwgMzAsIDM1LCB0aGlzLndlYXBvbkZhY3RvcnksIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaXJjbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBfQ2lyY2xlUGxheWVySnMyWydkZWZhdWx0J10odGhpcy5nYW1lLCB0aGlzLmdhbWUud2lkdGggLyAyLCB0aGlzLmdhbWUuaGVpZ2h0IC8gMiwgMzAsIDM1LCB0aGlzLndlYXBvbkZhY3RvcnksIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgX1BsYXllckpzMlsnZGVmYXVsdCddKHRoaXMuZ2FtZSwgdGhpcy5nYW1lLndpZHRoIC8gMiwgdGhpcy5nYW1lLmhlaWdodCAvIDIsIDMwLCAzNSwgdGhpcy53ZWFwb25GYWN0b3J5LCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY3JlYXRlUGVlclBsYXllcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVQZWVyUGxheWVyKHBlZXJNZXRhRGF0YSkge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBwZWVyTWV0YURhdGEudHlwZTtcbiAgICAgICAgICAgIHZhciBwbGF5ZXIgPSBudWxsO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInRyaWFuZ2xlXCI6XG4gICAgICAgICAgICAgICAgICAgIHBsYXllciA9IG5ldyBfUGxheWVySnMyWydkZWZhdWx0J10odGhpcy5nYW1lLCBwZWVyTWV0YURhdGEueCwgcGVlck1ldGFEYXRhLnksIDMwLCAzNSwgdGhpcy53ZWFwb25GYWN0b3J5LCBwZWVyTWV0YURhdGEuY29sb3JTZXQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNxdWFyZVwiOlxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIgPSBuZXcgX1NxdWFyZVBsYXllckpzMlsnZGVmYXVsdCddKHRoaXMuZ2FtZSwgcGVlck1ldGFEYXRhLngsIHBlZXJNZXRhRGF0YS55LCAzMCwgMzUsIHRoaXMud2VhcG9uRmFjdG9yeSwgcGVlck1ldGFEYXRhLmNvbG9yU2V0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaXJjbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyID0gbmV3IF9DaXJjbGVQbGF5ZXJKczJbJ2RlZmF1bHQnXSh0aGlzLmdhbWUsIHBlZXJNZXRhRGF0YS54LCBwZWVyTWV0YURhdGEueSwgMzAsIDM1LCB0aGlzLndlYXBvbkZhY3RvcnksIHBlZXJNZXRhRGF0YS5jb2xvclNldCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIgPSBuZXcgX1BsYXllckpzMlsnZGVmYXVsdCddKHRoaXMuZ2FtZSwgcGVlck1ldGFEYXRhLngsIHBlZXJNZXRhRGF0YS55LCAzMCwgMzUsIHRoaXMud2VhcG9uRmFjdG9yeSwgcGVlck1ldGFEYXRhLmNvbG9yU2V0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGxheWVyLnBsYXllcklkID0gcGVlck1ldGFEYXRhLmlkO1xuICAgICAgICAgICAgcmV0dXJuIHBsYXllcjtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQbGF5ZXJGYWN0b3J5O1xufSkoKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gUGxheWVyRmFjdG9yeTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtRNkwyRnhkV0V2WjJWdmQyRnlMM055WXk5d2NtVm1ZV0p6TDNCc1lYbGxjbk12VUd4aGVXVnlSbUZqZEc5eWVTNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPenM3T3pzN096czdPenM3ZDBKQlFXMUNMR0ZCUVdFN096czdPRUpCUTFBc2JVSkJRVzFDT3pzN096aENRVU51UWl4dFFrRkJiVUk3T3pzN2MwTkJRMnhDTERaQ1FVRTJRanM3T3pzMlFrRkRja01zZFVKQlFYVkNPenM3TzBsQlJYQkNMR0ZCUVdFN1FVRkpia0lzWVVGS1RTeGhRVUZoTEVOQlNXeENMRWxCUVVrc1JVRkJSVHM0UWtGS1JDeGhRVUZoT3p0aFFVVTVRaXhaUVVGWkxFZEJRVWNzUTBGQlF5eFZRVUZWTEVWQlFVVXNVVUZCVVN4RlFVRkZMRkZCUVZFc1EwRkJRenM3UVVGSE0wTXNXVUZCU1N4RFFVRkRMRWxCUVVrc1IwRkJSeXhKUVVGSkxFTkJRVU03UVVGRGFrSXNXVUZCU1N4RFFVRkRMR0ZCUVdFc1IwRkJSeXgzUTBGQmEwSXNTVUZCU1N4RFFVRkRMRU5CUVVNN1MwRkRhRVE3TzJsQ1FWQm5RaXhoUVVGaE96dGxRVk5zUWl4elFrRkJReXhYUVVGWExFVkJRVVU3UVVGRGRFSXNaMEpCUVVrc1NVRkJTU3hIUVVGSExGZEJRVmNzUTBGQlF6dEJRVU4yUWl4blFrRkJTU3hEUVVGRExFbEJRVWtzUlVGQlJUdEJRVU5RTEc5Q1FVRkpMRWRCUVVjc1NVRkJTU3hEUVVGRExGbEJRVmtzUTBGQlF5eEpRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRWxCUVVrc1EwRkJReXhOUVVGTkxFVkJRVVVzUjBGQlJ5eEpRVUZKTEVOQlFVTXNXVUZCV1N4RFFVRkRMRTFCUVUwc1EwRkJReXhEUVVGRExFTkJRVU03WVVGRGJFWTdRVUZEUkN4dlFrRkJVU3hKUVVGSk8wRkJRMUlzY1VKQlFVc3NWVUZCVlR0QlFVTllMREpDUVVGUExEQkNRVUZYTEVsQlFVa3NRMEZCUXl4SlFVRkpMRVZCUVVVc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVkQlFVY3NRMEZCUXl4RlFVRkZMRWxCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zVFVGQlRTeEhRVUZITEVOQlFVTXNSVUZCUlN4RlFVRkZMRVZCUVVVc1JVRkJSU3hGUVVGRkxFbEJRVWtzUTBGQlF5eGhRVUZoTEVWQlFVVXNTVUZCU1N4RlFVRkZMRWxCUVVrc1EwRkJReXhEUVVGRE8wRkJRVUVzUVVGRGNFZ3NjVUpCUVVzc1VVRkJVVHRCUVVOVUxESkNRVUZQTEdkRFFVRnBRaXhKUVVGSkxFTkJRVU1zU1VGQlNTeEZRVUZGTEVsQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhIUVVGSExFTkJRVU1zUlVGQlJTeEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRTFCUVUwc1IwRkJSeXhEUVVGRExFVkJRVVVzUlVGQlJTeEZRVUZGTEVWQlFVVXNSVUZCUlN4SlFVRkpMRU5CUVVNc1lVRkJZU3hGUVVGRkxFbEJRVWtzUlVGQlJTeEpRVUZKTEVOQlFVTXNRMEZCUXp0QlFVRkJMRUZCUXpGSUxIRkNRVUZMTEZGQlFWRTdRVUZEVkN3eVFrRkJUeXhuUTBGQmFVSXNTVUZCU1N4RFFVRkRMRWxCUVVrc1JVRkJSU3hKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEV0QlFVc3NSMEZCUnl4RFFVRkRMRVZCUVVVc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVkQlFVY3NRMEZCUXl4RlFVRkZMRVZCUVVVc1JVRkJSU3hGUVVGRkxFVkJRVVVzU1VGQlNTeERRVUZETEdGQlFXRXNSVUZCUlN4SlFVRkpMRVZCUVVVc1NVRkJTU3hEUVVGRExFTkJRVU03UVVGQlFTeEJRVU14U0R0QlFVTkpMREpDUVVGUExEQkNRVUZYTEVsQlFVa3NRMEZCUXl4SlFVRkpMRVZCUVVVc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVkQlFVY3NRMEZCUXl4RlFVRkZMRWxCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zVFVGQlRTeEhRVUZITEVOQlFVTXNSVUZCUlN4RlFVRkZMRVZCUVVVc1JVRkJSU3hGUVVGRkxFbEJRVWtzUTBGQlF5eGhRVUZoTEVWQlFVVXNTVUZCU1N4RlFVRkZMRWxCUVVrc1EwRkJReXhEUVVGRE8wRkJRVUVzWVVGRGRrZzdVMEZEU2pzN08yVkJSMlVzTUVKQlFVTXNXVUZCV1N4RlFVRkRPMEZCUXpOQ0xHZENRVUZKTEVsQlFVa3NSMEZCUnl4WlFVRlpMRU5CUVVNc1NVRkJTU3hEUVVGRE8wRkJRemRDTEdkQ1FVRkpMRTFCUVUwc1IwRkJSeXhKUVVGSkxFTkJRVU03UVVGRGJFSXNiMEpCUVZFc1NVRkJTVHRCUVVOUUxIRkNRVUZMTEZWQlFWVTdRVUZEV0N3d1FrRkJUU3hIUVVGSExEQkNRVUZYTEVsQlFVa3NRMEZCUXl4SlFVRkpMRVZCUVVVc1dVRkJXU3hEUVVGRExFTkJRVU1zUlVGQlJTeFpRVUZaTEVOQlFVTXNRMEZCUXl4RlFVRkZMRVZCUVVVc1JVRkJSU3hGUVVGRkxFVkJRVVVzU1VGQlNTeERRVUZETEdGQlFXRXNSVUZCUlN4WlFVRlpMRU5CUVVNc1VVRkJVU3hGUVVGRkxFdEJRVXNzUTBGQlF5eERRVUZETzBGQlEzcElMREJDUVVGTk8wRkJRVUVzUVVGRFZpeHhRa0ZCU3l4UlFVRlJPMEZCUTFRc01FSkJRVTBzUjBGQlJ5eG5RMEZCYVVJc1NVRkJTU3hEUVVGRExFbEJRVWtzUlVGQlJTeFpRVUZaTEVOQlFVTXNRMEZCUXl4RlFVRkZMRmxCUVZrc1EwRkJReXhEUVVGRExFVkJRVVVzUlVGQlJTeEZRVUZGTEVWQlFVVXNSVUZCUlN4SlFVRkpMRU5CUVVNc1lVRkJZU3hGUVVGRkxGbEJRVmtzUTBGQlF5eFJRVUZSTEVWQlFVVXNTMEZCU3l4RFFVRkRMRU5CUVVNN1FVRkRMMGdzTUVKQlFVMDdRVUZCUVN4QlFVTldMSEZDUVVGTExGRkJRVkU3UVVGRFZDd3dRa0ZCVFN4SFFVRkhMR2REUVVGcFFpeEpRVUZKTEVOQlFVTXNTVUZCU1N4RlFVRkZMRmxCUVZrc1EwRkJReXhEUVVGRExFVkJRVVVzV1VGQldTeERRVUZETEVOQlFVTXNSVUZCUlN4RlFVRkZMRVZCUVVVc1JVRkJSU3hGUVVGRkxFbEJRVWtzUTBGQlF5eGhRVUZoTEVWQlFVVXNXVUZCV1N4RFFVRkRMRkZCUVZFc1JVRkJSU3hMUVVGTExFTkJRVU1zUTBGQlF6dEJRVU12U0N3d1FrRkJUVHRCUVVGQkxFRkJRMVk3UVVGRFNTd3dRa0ZCVFN4SFFVRkhMREJDUVVGWExFbEJRVWtzUTBGQlF5eEpRVUZKTEVWQlFVVXNXVUZCV1N4RFFVRkRMRU5CUVVNc1JVRkJSU3haUVVGWkxFTkJRVU1zUTBGQlF5eEZRVUZGTEVWQlFVVXNSVUZCUlN4RlFVRkZMRVZCUVVVc1NVRkJTU3hEUVVGRExHRkJRV0VzUlVGQlJTeFpRVUZaTEVOQlFVTXNVVUZCVVN4RlFVRkZMRXRCUVVzc1EwRkJReXhEUVVGRE8wRkJRM3BJTERCQ1FVRk5PMEZCUVVFc1lVRkRZanRCUVVORUxHdENRVUZOTEVOQlFVTXNVVUZCVVN4SFFVRkhMRmxCUVZrc1EwRkJReXhGUVVGRkxFTkJRVU03UVVGRGJFTXNiVUpCUVU4c1RVRkJUU3hEUVVGRE8xTkJRMnBDT3pzN1YwRTVRMmRDTEdGQlFXRTdPenR4UWtGQllpeGhRVUZoSWl3aVptbHNaU0k2SWtRNkwyRnhkV0V2WjJWdmQyRnlMM055WXk5d2NtVm1ZV0p6TDNCc1lYbGxjbk12VUd4aGVXVnlSbUZqZEc5eWVTNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1sdGNHOXlkQ0JRYkdGNVpYSWdabkp2YlNBbkxpOVFiR0Y1WlhJdWFuTW5PMXh1YVcxd2IzSjBJRk54ZFdGeVpWQnNZWGxsY2lCbWNtOXRJQ2N1TDFOeGRXRnlaVkJzWVhsbGNpNXFjeWM3WEc1cGJYQnZjblFnUTJseVkyeGxVR3hoZVdWeUlHWnliMjBnSnk0dlEybHlZMnhsVUd4aGVXVnlMbXB6Snp0Y2JtbHRjRzl5ZENCWFpXRndiMjVHWVdOMGIzSjVJR1p5YjIwZ0p5NHVMM2RsWVhCdmJuTXZWMlZoY0c5dVJtRmpkRzl5ZVM1cWN5YzdYRzVwYlhCdmNuUWdWWFJwYkhNZ1puSnZiU0FuTGk0dkxpNHZZMjl0Ylc5dUwxVjBhV3h6TG1wekp6dGNibHh1Wlhod2IzSjBJR1JsWm1GMWJIUWdZMnhoYzNNZ1VHeGhlV1Z5Um1GamRHOXllU0I3WEc1Y2JpQWdJQ0JmY0d4aGVXVnlWSGx3WlhNZ1BTQmJKM1J5YVdGdVoyeGxKeXdnSjNOeGRXRnlaU2NzSUNkamFYSmpiR1VuWFR0Y2JseHVJQ0FnSUdOdmJuTjBjblZqZEc5eUtHZGhiV1VwSUh0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTVuWVcxbElEMGdaMkZ0WlR0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTUzWldGd2IyNUdZV04wYjNKNUlEMGdibVYzSUZkbFlYQnZia1poWTNSdmNua29aMkZ0WlNrN1hHNGdJQ0FnZlZ4dVhHNGdJQ0FnWTNKbFlYUmxVR3hoZVdWeUtHUmxabUYxYkhSVWVYQmxLU0I3WEc0Z0lDQWdJQ0FnSUhaaGNpQjBlWEJsSUQwZ1pHVm1ZWFZzZEZSNWNHVTdYRzRnSUNBZ0lDQWdJR2xtSUNnaGRIbHdaU2tnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdkSGx3WlNBOUlIUm9hWE11WDNCc1lYbGxjbFI1Y0dWelcwMWhkR2d1Wm14dmIzSW9UV0YwYUM1eVlXNWtiMjBvS1NBcUlIUm9hWE11WDNCc1lYbGxjbFI1Y0dWekxteGxibWQwYUNsZE8xeHVJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJSE4zYVhSamFDQW9kSGx3WlNrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnWTJGelpTQmNJblJ5YVdGdVoyeGxYQ0k2WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJRzVsZHlCUWJHRjVaWElvZEdocGN5NW5ZVzFsTENCMGFHbHpMbWRoYldVdWQybGtkR2dnTHlBeUxDQjBhR2x6TG1kaGJXVXVhR1ZwWjJoMElDOGdNaXdnTXpBc0lETTFMQ0IwYUdsekxuZGxZWEJ2YmtaaFkzUnZjbmtzSUc1MWJHd3NJSFJ5ZFdVcE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnWTJGelpTQmNJbk54ZFdGeVpWd2lPbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQnVaWGNnVTNGMVlYSmxVR3hoZVdWeUtIUm9hWE11WjJGdFpTd2dkR2hwY3k1bllXMWxMbmRwWkhSb0lDOGdNaXdnZEdocGN5NW5ZVzFsTG1obGFXZG9kQ0F2SURJc0lETXdMQ0F6TlN3Z2RHaHBjeTUzWldGd2IyNUdZV04wYjNKNUxDQnVkV3hzTENCMGNuVmxLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lHTmhjMlVnWENKamFYSmpiR1ZjSWpwY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCeVpYUjFjbTRnYm1WM0lFTnBjbU5zWlZCc1lYbGxjaWgwYUdsekxtZGhiV1VzSUhSb2FYTXVaMkZ0WlM1M2FXUjBhQ0F2SURJc0lIUm9hWE11WjJGdFpTNW9aV2xuYUhRZ0x5QXlMQ0F6TUN3Z016VXNJSFJvYVhNdWQyVmhjRzl1Um1GamRHOXllU3dnYm5Wc2JDd2dkSEoxWlNrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0JrWldaaGRXeDBPbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQnVaWGNnVUd4aGVXVnlLSFJvYVhNdVoyRnRaU3dnZEdocGN5NW5ZVzFsTG5kcFpIUm9JQzhnTWl3Z2RHaHBjeTVuWVcxbExtaGxhV2RvZENBdklESXNJRE13TENBek5Td2dkR2hwY3k1M1pXRndiMjVHWVdOMGIzSjVMQ0J1ZFd4c0xDQjBjblZsS1R0Y2JpQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUgxY2JseHVYRzRnSUNBZ1kzSmxZWFJsVUdWbGNsQnNZWGxsY2lod1pXVnlUV1YwWVVSaGRHRXBlMXh1SUNBZ0lDQWdJSFpoY2lCMGVYQmxJRDBnY0dWbGNrMWxkR0ZFWVhSaExuUjVjR1U3WEc0Z0lDQWdJQ0FnZG1GeUlIQnNZWGxsY2lBOUlHNTFiR3c3WEc0Z0lDQWdJQ0FnYzNkcGRHTm9JQ2gwZVhCbEtTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCallYTmxJRndpZEhKcFlXNW5iR1ZjSWpwY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCd2JHRjVaWElnUFNCdVpYY2dVR3hoZVdWeUtIUm9hWE11WjJGdFpTd2djR1ZsY2sxbGRHRkVZWFJoTG5nc0lIQmxaWEpOWlhSaFJHRjBZUzU1TENBek1Dd2dNelVzSUhSb2FYTXVkMlZoY0c5dVJtRmpkRzl5ZVN3Z2NHVmxjazFsZEdGRVlYUmhMbU52Ykc5eVUyVjBMQ0JtWVd4elpTazdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdZbkpsWVdzN1hHNGdJQ0FnSUNBZ0lDQWdJQ0JqWVhObElGd2ljM0YxWVhKbFhDSTZYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdjR3hoZVdWeUlEMGdibVYzSUZOeGRXRnlaVkJzWVhsbGNpaDBhR2x6TG1kaGJXVXNJSEJsWlhKTlpYUmhSR0YwWVM1NExDQndaV1Z5VFdWMFlVUmhkR0V1ZVN3Z016QXNJRE0xTENCMGFHbHpMbmRsWVhCdmJrWmhZM1J2Y25rc0lIQmxaWEpOWlhSaFJHRjBZUzVqYjJ4dmNsTmxkQ3dnWm1Gc2MyVXBPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR0p5WldGck8xeHVJQ0FnSUNBZ0lDQWdJQ0FnWTJGelpTQmNJbU5wY21Oc1pWd2lPbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSEJzWVhsbGNpQTlJRzVsZHlCRGFYSmpiR1ZRYkdGNVpYSW9kR2hwY3k1bllXMWxMQ0J3WldWeVRXVjBZVVJoZEdFdWVDd2djR1ZsY2sxbGRHRkVZWFJoTG5rc0lETXdMQ0F6TlN3Z2RHaHBjeTUzWldGd2IyNUdZV04wYjNKNUxDQndaV1Z5VFdWMFlVUmhkR0V1WTI5c2IzSlRaWFFzSUdaaGJITmxLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JpY21WaGF6dGNiaUFnSUNBZ0lDQWdJQ0FnSUdSbFptRjFiSFE2WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnY0d4aGVXVnlJRDBnYm1WM0lGQnNZWGxsY2loMGFHbHpMbWRoYldVc0lIQmxaWEpOWlhSaFJHRjBZUzU0TENCd1pXVnlUV1YwWVVSaGRHRXVlU3dnTXpBc0lETTFMQ0IwYUdsekxuZGxZWEJ2YmtaaFkzUnZjbmtzSUhCbFpYSk5aWFJoUkdGMFlTNWpiMnh2Y2xObGRDd2dabUZzYzJVcE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lHSnlaV0ZyTzF4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lIQnNZWGxsY2k1d2JHRjVaWEpKWkNBOUlIQmxaWEpOWlhSaFJHRjBZUzVwWkR0Y2JpQWdJQ0FnSUNBZ2NtVjBkWEp1SUhCc1lYbGxjanRjYmlBZ0lDQjlYRzVjYm4waVhYMD0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9QbGF5ZXJKcyA9IHJlcXVpcmUoJy4vUGxheWVyLmpzJyk7XG5cbnZhciBfUGxheWVySnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUGxheWVySnMpO1xuXG52YXIgX2NvbW1vbkNhbnZhc0hlbHBlckpzID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL0NhbnZhc0hlbHBlci5qcycpO1xuXG52YXIgX2NvbW1vbkNhbnZhc0hlbHBlckpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbW1vbkNhbnZhc0hlbHBlckpzKTtcblxudmFyIF90ZXh0dXJlc1BsYXllcnNTcXVhcmVwbGF5ZXJKc29uID0gcmVxdWlyZSgnLi4vLi4vdGV4dHVyZXMvcGxheWVycy9zcXVhcmVwbGF5ZXIuanNvbicpO1xuXG52YXIgX3RleHR1cmVzUGxheWVyc1NxdWFyZXBsYXllckpzb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGV4dHVyZXNQbGF5ZXJzU3F1YXJlcGxheWVySnNvbik7XG5cbnZhciBTcXVhcmVQbGF5ZXIgPSAoZnVuY3Rpb24gKF9QbGF5ZXIpIHtcbiAgICBfaW5oZXJpdHMoU3F1YXJlUGxheWVyLCBfUGxheWVyKTtcblxuICAgIGZ1bmN0aW9uIFNxdWFyZVBsYXllcigpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNxdWFyZVBsYXllcik7XG5cbiAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3F1YXJlUGxheWVyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFNxdWFyZVBsYXllciwgW3tcbiAgICAgICAga2V5OiAnZHJhdycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KCkge1xuICAgICAgICAgICAgbmV3IF9jb21tb25DYW52YXNIZWxwZXJKczJbJ2RlZmF1bHQnXSh0aGlzLmNhbnZhcywgX3RleHR1cmVzUGxheWVyc1NxdWFyZXBsYXllckpzb24yWydkZWZhdWx0J10sIHRoaXMuY29sb3JTZXQpLmRyYXdUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldFR5cGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VHlwZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBcInNxdWFyZVwiO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNxdWFyZVBsYXllcjtcbn0pKF9QbGF5ZXJKczJbJ2RlZmF1bHQnXSk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFNxdWFyZVBsYXllcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtRNkwyRnhkV0V2WjJWdmQyRnlMM055WXk5d2NtVm1ZV0p6TDNCc1lYbGxjbk12VTNGMVlYSmxVR3hoZVdWeUxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3T3pzN096czdPenM3T3pzN2QwSkJRVzFDTEdGQlFXRTdPenM3YjBOQlExQXNPRUpCUVRoQ096czdPeXREUVVOb1F5d3dRMEZCTUVNN096czdTVUZGTlVNc1dVRkJXVHRqUVVGYUxGbEJRVms3TzJGQlFWb3NXVUZCV1RzNFFrRkJXaXhaUVVGWk96dHRRMEZCV2l4WlFVRlpPenM3YVVKQlFWb3NXVUZCV1RzN1pVRkZla0lzWjBKQlFVYzdRVUZEU0N4clJFRkJhVUlzU1VGQlNTeERRVUZETEUxQlFVMHNaMFJCUVZrc1NVRkJTU3hEUVVGRExGRkJRVkVzUTBGQlF5eERRVUZETEZkQlFWY3NSVUZCUlN4RFFVRkRPMU5CUTNoRk96czdaVUZGVFN4dFFrRkJSVHRCUVVOTUxHMUNRVUZQTEZGQlFWRXNRMEZCUXp0VFFVTnVRanM3TzFkQlVtZENMRmxCUVZrN096dHhRa0ZCV2l4WlFVRlpJaXdpWm1sc1pTSTZJa1E2TDJGeGRXRXZaMlZ2ZDJGeUwzTnlZeTl3Y21WbVlXSnpMM0JzWVhsbGNuTXZVM0YxWVhKbFVHeGhlV1Z5TG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lhVzF3YjNKMElGQnNZWGxsY2lCbWNtOXRJQ2N1TDFCc1lYbGxjaTVxY3ljN1hHNXBiWEJ2Y25RZ1EyRnVkbUZ6U0dWc2NHVnlJR1p5YjIwZ0p5NHVMeTR1TDJOdmJXMXZiaTlEWVc1MllYTklaV3h3WlhJdWFuTW5PMXh1YVcxd2IzSjBJSEJzWVhsbGNrcHpiMjRnWm5KdmJTQW5MaTR2TGk0dmRHVjRkSFZ5WlhNdmNHeGhlV1Z5Y3k5emNYVmhjbVZ3YkdGNVpYSXVhbk52YmljN1hHNWNibVY0Y0c5eWRDQmtaV1poZFd4MElHTnNZWE56SUZOeGRXRnlaVkJzWVhsbGNpQmxlSFJsYm1SeklGQnNZWGxsY2lCN1hHNWNiaUFnSUNCa2NtRjNLQ2tnZTF4dUlDQWdJQ0FnSUNCdVpYY2dRMkZ1ZG1GelNHVnNjR1Z5S0hSb2FYTXVZMkZ1ZG1GekxIQnNZWGxsY2twemIyNHNkR2hwY3k1amIyeHZjbE5sZENrdVpISmhkMVJsZUhSMWNtVW9LVHRjYmlBZ0lDQjlYRzVjYmlBZ0lDQm5aWFJVZVhCbEtDbDdYRzRnSUNBZ0lDQWdJSEpsZEhWeWJpQmNJbk54ZFdGeVpWd2lPMXh1SUNBZ0lIMWNibHh1ZlNKZGZRPT0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9XZWFwb25KcyA9IHJlcXVpcmUoJy4vV2VhcG9uLmpzJyk7XG5cbnZhciBfV2VhcG9uSnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2VhcG9uSnMpO1xuXG52YXIgX2NvbW1vblV0aWxzSnMgPSByZXF1aXJlKCcuLi8uLi9jb21tb24vVXRpbHMuanMnKTtcblxudmFyIF9jb21tb25VdGlsc0pzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbW1vblV0aWxzSnMpO1xuXG52YXIgX2NvbW1vbkNhbnZhc0hlbHBlckpzID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL0NhbnZhc0hlbHBlci5qcycpO1xuXG52YXIgX2NvbW1vbkNhbnZhc0hlbHBlckpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbW1vbkNhbnZhc0hlbHBlckpzKTtcblxudmFyIF90ZXh0dXJlc1dlYXBvbnNEaXJ0d2VhcG9uSnNvbiA9IHJlcXVpcmUoJy4uLy4uL3RleHR1cmVzL3dlYXBvbnMvZGlydHdlYXBvbi5qc29uJyk7XG5cbnZhciBfdGV4dHVyZXNXZWFwb25zRGlydHdlYXBvbkpzb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGV4dHVyZXNXZWFwb25zRGlydHdlYXBvbkpzb24pO1xuXG52YXIgRGlydFdlYXBvbiA9IChmdW5jdGlvbiAoX1dlYXBvbikge1xuICAgIF9pbmhlcml0cyhEaXJ0V2VhcG9uLCBfV2VhcG9uKTtcblxuICAgIGZ1bmN0aW9uIERpcnRXZWFwb24oKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEaXJ0V2VhcG9uKTtcblxuICAgICAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihEaXJ0V2VhcG9uLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKERpcnRXZWFwb24sIFt7XG4gICAgICAgIGtleTogJ2NyZWF0ZUJ1bGxldCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVCdWxsZXQoKSB7XG4gICAgICAgICAgICB0aGlzLmJtZCA9IHRoaXMuZ2FtZS5tYWtlLmJpdG1hcERhdGEoMTIsIDEyKTtcbiAgICAgICAgICAgIG5ldyBfY29tbW9uQ2FudmFzSGVscGVySnMyWydkZWZhdWx0J10odGhpcy5ibWQsIF90ZXh0dXJlc1dlYXBvbnNEaXJ0d2VhcG9uSnNvbjJbJ2RlZmF1bHQnXSkuZHJhd1RleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBEaXJ0V2VhcG9uO1xufSkoX1dlYXBvbkpzMlsnZGVmYXVsdCddKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gRGlydFdlYXBvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtRNkwyRnhkV0V2WjJWdmQyRnlMM055WXk5d2NtVm1ZV0p6TDNkbFlYQnZibk12UkdseWRGZGxZWEJ2Ymk1cWN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU96czdPenM3T3pzN096czdPenM3TzNkQ1FVRnRRaXhoUVVGaE96czdPelpDUVVOa0xIVkNRVUYxUWpzN096dHZRMEZEYUVJc09FSkJRVGhDT3pzN096WkRRVU5vUXl4M1EwRkJkME03T3pzN1NVRkZNVU1zVlVGQlZUdGpRVUZXTEZWQlFWVTdPMkZCUVZZc1ZVRkJWVHM0UWtGQlZpeFZRVUZWT3p0dFEwRkJWaXhWUVVGVk96czdhVUpCUVZZc1ZVRkJWVHM3WlVGRlppeDNRa0ZCUnp0QlFVTllMR2RDUVVGSkxFTkJRVU1zUjBGQlJ5eEhRVUZITEVsQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExGVkJRVlVzUTBGQlF5eEZRVUZGTEVWQlFVVXNSVUZCUlN4RFFVRkRMRU5CUVVNN1FVRkROME1zYTBSQlFXbENMRWxCUVVrc1EwRkJReXhIUVVGSExEWkRRVUZaTEVOQlFVTXNWMEZCVnl4RlFVRkZMRU5CUVVNN1UwRkRka1E3T3p0WFFVeG5RaXhWUVVGVk96czdjVUpCUVZZc1ZVRkJWU0lzSW1acGJHVWlPaUpFT2k5aGNYVmhMMmRsYjNkaGNpOXpjbU12Y0hKbFptRmljeTkzWldGd2IyNXpMMFJwY25SWFpXRndiMjR1YW5NaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SnBiWEJ2Y25RZ1YyVmhjRzl1SUdaeWIyMGdKeTR2VjJWaGNHOXVMbXB6Snp0Y2JtbHRjRzl5ZENCVmRHbHNjeUJtY205dElDY3VMaTh1TGk5amIyMXRiMjR2VlhScGJITXVhbk1uTzF4dWFXMXdiM0owSUVOaGJuWmhjMGhsYkhCbGNpQm1jbTl0SUNjdUxpOHVMaTlqYjIxdGIyNHZRMkZ1ZG1GelNHVnNjR1Z5TG1wekp6dGNibWx0Y0c5eWRDQjNaV0Z3YjI1S2MyOXVJR1p5YjIwZ0p5NHVMeTR1TDNSbGVIUjFjbVZ6TDNkbFlYQnZibk12WkdseWRIZGxZWEJ2Ymk1cWMyOXVKenRjYmx4dVpYaHdiM0owSUdSbFptRjFiSFFnWTJ4aGMzTWdSR2x5ZEZkbFlYQnZiaUJsZUhSbGJtUnpJRmRsWVhCdmJudGNibHh1SUNBZ0lHTnlaV0YwWlVKMWJHeGxkQ2dwSUh0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTVpYldRZ1BTQjBhR2x6TG1kaGJXVXViV0ZyWlM1aWFYUnRZWEJFWVhSaEtERXlMQ0F4TWlrN1hHNGdJQ0FnSUNBZ0lHNWxkeUJEWVc1MllYTklaV3h3WlhJb2RHaHBjeTVpYldRc2QyVmhjRzl1U25OdmJpa3VaSEpoZDFSbGVIUjFjbVVvS1R0Y2JpQWdJQ0I5WEc1Y2JuMGlYWDA9IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgX2NvbW1vblV0aWxzSnMgPSByZXF1aXJlKCcuLi8uLi9jb21tb24vVXRpbHMuanMnKTtcblxudmFyIF9jb21tb25VdGlsc0pzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbW1vblV0aWxzSnMpO1xuXG52YXIgX2NvbW1vbkNhbnZhc0hlbHBlckpzID0gcmVxdWlyZSgnLi4vLi4vY29tbW9uL0NhbnZhc0hlbHBlci5qcycpO1xuXG52YXIgX2NvbW1vbkNhbnZhc0hlbHBlckpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbW1vbkNhbnZhc0hlbHBlckpzKTtcblxudmFyIF90ZXh0dXJlc1dlYXBvbnNXZWFwb25Kc29uID0gcmVxdWlyZSgnLi4vLi4vdGV4dHVyZXMvd2VhcG9ucy93ZWFwb24uanNvbicpO1xuXG52YXIgX3RleHR1cmVzV2VhcG9uc1dlYXBvbkpzb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdGV4dHVyZXNXZWFwb25zV2VhcG9uSnNvbik7XG5cbnZhciBXZWFwb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFdlYXBvbihnYW1lLCBwbGF5ZXIpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdlYXBvbik7XG5cbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgICAgIHRoaXMuc3BlZWQgPSA1MDA7XG4gICAgICAgIHRoaXMuc2hvdEludGVydmFsID0gNTA7XG4gICAgICAgIHRoaXMuYnVsbGV0R2F0ZSA9IDA7XG4gICAgICAgIHRoaXMuYnVsbGV0R3JvdXAgPSB0aGlzLmdhbWUuYWRkLmdyb3VwKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlQnVsbGV0KCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFdlYXBvbiwgW3tcbiAgICAgICAga2V5OiAnY3JlYXRlQnVsbGV0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUJ1bGxldCgpIHtcbiAgICAgICAgICAgIHRoaXMuYm1kID0gdGhpcy5nYW1lLm1ha2UuYml0bWFwRGF0YSgxMiwgMTIpO1xuICAgICAgICAgICAgbmV3IF9jb21tb25DYW52YXNIZWxwZXJKczJbJ2RlZmF1bHQnXSh0aGlzLmJtZCwgX3RleHR1cmVzV2VhcG9uc1dlYXBvbkpzb24yWydkZWZhdWx0J10sIHsgYm9keTogdGhpcy5wbGF5ZXIuY29sb3JTZXQuaGVhZCB9KS5kcmF3VGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdmaXJlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZpcmUoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lLnRpbWUubm93ID4gdGhpcy5idWxsZXRHYXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ1bGxldCA9IHRoaXMuYnVsbGV0R3JvdXAuZ2V0Rmlyc3REZWFkKCk7XG4gICAgICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMuaW5pdEJ1bGxldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKGJ1bGxldCkge1xuICAgICAgICAgICAgICAgICAgICBidWxsZXQuYm9keS54ID0gcG9zLng7XG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldC5ib2R5LnkgPSBwb3MueTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSB0aGlzLmluaXRCdWxsZXRWZWxvY2l0eSgpO1xuICAgICAgICAgICAgICAgICAgICBidWxsZXQuYm9keS52ZWxvY2l0eS54ID0gdi54O1xuICAgICAgICAgICAgICAgICAgICBidWxsZXQuYm9keS52ZWxvY2l0eS55ID0gdi55O1xuICAgICAgICAgICAgICAgICAgICBidWxsZXQucmV2aXZlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1bGxldCA9IHRoaXMuYnVsbGV0R3JvdXAuY3JlYXRlKHBvcy54LCBwb3MueSwgdGhpcy5ibWQpO1xuICAgICAgICAgICAgICAgICAgICBidWxsZXQuaXNCdWxsZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWUucGh5c2ljcy5wMi5lbmFibGUoYnVsbGV0KTtcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0LmNoZWNrV29ybGRCb3VuZHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBidWxsZXQuYm9keS5jb2xsaWRlV29ybGRCb3VuZHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0LmV2ZW50cy5vbk91dE9mQm91bmRzLmFkZCh0aGlzLmJ1bGxldE91dE9mQm91bmRzLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSB0aGlzLmluaXRCdWxsZXRWZWxvY2l0eSgpO1xuICAgICAgICAgICAgICAgICAgICBidWxsZXQuYm9keS52ZWxvY2l0eS54ID0gdi54O1xuICAgICAgICAgICAgICAgICAgICBidWxsZXQuYm9keS52ZWxvY2l0eS55ID0gdi55O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxpZGVTZXR0aW5nKGJ1bGxldCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5idWxsZXRHYXRlID0gdGhpcy5nYW1lLnRpbWUubm93ICsgdGhpcy5zaG90SW50ZXJ2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbGxpZGVTZXR0aW5nJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbGxpZGVTZXR0aW5nKGJ1bGxldCkge1xuICAgICAgICAgICAgYnVsbGV0LmJvZHkuc2V0Q29sbGlzaW9uR3JvdXAodGhpcy5nYW1lLmdlb3dhci5idWxsZXRDb2xsaXNpb25Hcm91cCk7XG4gICAgICAgICAgICBidWxsZXQuYm9keS5jb2xsaWRlcyhbdGhpcy5nYW1lLmdlb3dhci5wbGF5ZXJDb2xsaXNpb25Hcm91cCwgdGhpcy5nYW1lLmdlb3dhci5idWxsZXRDb2xsaXNpb25Hcm91cF0pO1xuICAgICAgICAgICAgYnVsbGV0LmJvZHkub25CZWdpbkNvbnRhY3QuYWRkKHRoaXMuYnVsbGV0Q29udGFjdCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2J1bGxldENvbnRhY3QnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVsbGV0Q29udGFjdChvdGhlckJvZHkpIHtcbiAgICAgICAgICAgIC8vb25seSBraWxsIHRoZSBwbGF5ZXJcbiAgICAgICAgICAgIGlmIChvdGhlckJvZHkgJiYgb3RoZXJCb2R5LnNwcml0ZSAmJiB0eXBlb2YgL1BsYXllci9pLnRlc3Qob3RoZXJCb2R5LnNwcml0ZS5jb25zdHJ1Y3Rvci5uYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmIChvdGhlckJvZHkuc3ByaXRlICE9IHRoaXMucGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vbm90IGtpbGwsIGRpcmVjdGx5IGtpY2sgcGxheWVyIG91dFxuICAgICAgICAgICAgICAgICAgICBvdGhlckJvZHkuc3ByaXRlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2J1bGxldE91dE9mQm91bmRzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1bGxldE91dE9mQm91bmRzKGJ1bGxldCkge1xuICAgICAgICAgICAgYnVsbGV0LmtpbGwoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaW5pdEJ1bGxldFZlbG9jaXR5JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRCdWxsZXRWZWxvY2l0eSgpIHtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IHRoaXMucGxheWVyLmJvZHkuYW5nbGU7XG4gICAgICAgICAgICB2YXIgdiA9IDQwMDtcbiAgICAgICAgICAgIHZhciB4ID0gTWF0aC5zaW4oYW5nbGUgKiBNYXRoLlBJIC8gMTgwKSAqIHRoaXMuc3BlZWQ7XG4gICAgICAgICAgICB2YXIgeSA9IE1hdGguY29zKGFuZ2xlICogTWF0aC5QSSAvIDE4MCkgKiB0aGlzLnNwZWVkICogLTE7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeTogeVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaW5pdEJ1bGxldFBvc2l0aW9uJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRCdWxsZXRQb3NpdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBoZWFkVG9Cb2R5Q2VudGVyID0gdGhpcy5wbGF5ZXIud2lkdGggLyAyICsgNTtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IHRoaXMucGxheWVyLmJvZHkuYW5nbGU7XG4gICAgICAgICAgICB2YXIgeCA9IHRoaXMucGxheWVyLnggKyBNYXRoLnNpbihhbmdsZSAqIE1hdGguUEkgLyAxODApICogaGVhZFRvQm9keUNlbnRlcjtcbiAgICAgICAgICAgIHZhciB5ID0gdGhpcy5wbGF5ZXIueSAtIE1hdGguY29zKGFuZ2xlICogTWF0aC5QSSAvIDE4MCkgKiBoZWFkVG9Cb2R5Q2VudGVyO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IHlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0R3JvdXAuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFdlYXBvbjtcbn0pKCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFdlYXBvbjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtRNkwyRnhkV0V2WjJWdmQyRnlMM055WXk5d2NtVm1ZV0p6TDNkbFlYQnZibk12VjJWaGNHOXVMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3T3pzN096czdPenM3T3pzMlFrRkJhMElzZFVKQlFYVkNPenM3TzI5RFFVTm9RaXc0UWtGQk9FSTdPenM3ZVVOQlEyaERMRzlEUVVGdlF6czdPenRKUVVWMFF5eE5RVUZOTzBGQlJWb3NZVUZHVFN4TlFVRk5MRU5CUlZnc1NVRkJTU3hGUVVGRExFMUJRVTBzUlVGQlJUczRRa0ZHVWl4TlFVRk5PenRCUVVkdVFpeFpRVUZKTEVOQlFVTXNTVUZCU1N4SFFVRkhMRWxCUVVrc1EwRkJRenRCUVVOcVFpeFpRVUZKTEVOQlFVTXNUVUZCVFN4SFFVRkhMRTFCUVUwc1EwRkJRenRCUVVOeVFpeFpRVUZKTEVOQlFVTXNTMEZCU3l4SFFVRkhMRWRCUVVjc1EwRkJRenRCUVVOcVFpeFpRVUZKTEVOQlFVTXNXVUZCV1N4SFFVRkhMRVZCUVVVc1EwRkJRenRCUVVOMlFpeFpRVUZKTEVOQlFVTXNWVUZCVlN4SFFVRkhMRU5CUVVNc1EwRkJRenRCUVVOd1FpeFpRVUZKTEVOQlFVTXNWMEZCVnl4SFFVRkhMRWxCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETEV0QlFVc3NSVUZCUlN4RFFVRkRPMEZCUTNwRExGbEJRVWtzUTBGQlF5eFpRVUZaTEVWQlFVVXNRMEZCUXp0TFFVTjJRanM3YVVKQlZtZENMRTFCUVUwN08yVkJZVmdzZDBKQlFVYzdRVUZEV0N4blFrRkJTU3hEUVVGRExFZEJRVWNzUjBGQlJ5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhWUVVGVkxFTkJRVU1zUlVGQlJTeEZRVUZGTEVWQlFVVXNRMEZCUXl4RFFVRkRPMEZCUXpkRExHdEVRVUZwUWl4SlFVRkpMRU5CUVVNc1IwRkJSeXd3UTBGQll5eEZRVUZETEVsQlFVa3NSVUZCUnl4SlFVRkpMRU5CUVVNc1RVRkJUU3hEUVVGRExGRkJRVkVzUTBGQlF5eEpRVUZKTEVWQlFVTXNRMEZCUXl4RFFVRkRMRmRCUVZjc1JVRkJSU3hEUVVGRE8xTkJRelZHT3pzN1pVRkhSeXhuUWtGQlJ6dEJRVU5JTEdkQ1FVRkpMRWxCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEVkQlFVY3NSMEZCUnl4SlFVRkpMRU5CUVVNc1ZVRkJWU3hGUVVGRk8wRkJRM1JETEc5Q1FVRkpMRTFCUVUwc1IwRkJSeXhKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEZsQlFWa3NSVUZCUlN4RFFVRkRPMEZCUXpkRExHOUNRVUZKTEVkQlFVY3NSMEZCUnl4SlFVRkpMRU5CUVVNc2EwSkJRV3RDTEVWQlFVVXNRMEZCUXp0QlFVTndReXh2UWtGQlNTeE5RVUZOTEVWQlFVVTdRVUZEVWl3d1FrRkJUU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETEVkQlFVY3NSMEZCUnl4RFFVRkRMRU5CUVVNc1EwRkJRenRCUVVOMFFpd3dRa0ZCVFN4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRExFZEJRVWNzUjBGQlJ5eERRVUZETEVOQlFVTXNRMEZCUXp0QlFVTjBRaXgzUWtGQlNTeERRVUZETEVkQlFVY3NTVUZCU1N4RFFVRkRMR3RDUVVGclFpeEZRVUZGTEVOQlFVTTdRVUZEYkVNc01FSkJRVTBzUTBGQlF5eEpRVUZKTEVOQlFVTXNVVUZCVVN4RFFVRkRMRU5CUVVNc1IwRkJSeXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETzBGQlF6ZENMREJDUVVGTkxFTkJRVU1zU1VGQlNTeERRVUZETEZGQlFWRXNRMEZCUXl4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF6dEJRVU0zUWl3d1FrRkJUU3hEUVVGRExFMUJRVTBzUlVGQlJTeERRVUZETzJsQ1FVTnVRaXhOUVVOSk8wRkJRMFFzZDBKQlFVa3NUVUZCVFN4SFFVRkhMRWxCUVVrc1EwRkJReXhYUVVGWExFTkJRVU1zVFVGQlRTeERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRMRVZCUVVVc1IwRkJSeXhEUVVGRExFTkJRVU1zUlVGQlJTeEpRVUZKTEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNN1FVRkROMFFzTUVKQlFVMHNRMEZCUXl4UlFVRlJMRWRCUVVjc1NVRkJTU3hEUVVGRE8wRkJRM1pDTEhkQ1FVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFOUJRVThzUTBGQlF5eEZRVUZGTEVOQlFVTXNUVUZCVFN4RFFVRkRMRTFCUVUwc1EwRkJReXhEUVVGRE8wRkJRM0JETERCQ1FVRk5MRU5CUVVNc1owSkJRV2RDTEVkQlFVY3NTVUZCU1N4RFFVRkRPMEZCUXk5Q0xEQkNRVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMR3RDUVVGclFpeEhRVUZITEV0QlFVc3NRMEZCUXp0QlFVTjJReXd3UWtGQlRTeERRVUZETEUxQlFVMHNRMEZCUXl4aFFVRmhMRU5CUVVNc1IwRkJSeXhEUVVGRExFbEJRVWtzUTBGQlF5eHBRa0ZCYVVJc1JVRkJSU3hKUVVGSkxFTkJRVU1zUTBGQlF6dEJRVU01UkN4M1FrRkJTU3hEUVVGRExFZEJRVWNzU1VGQlNTeERRVUZETEd0Q1FVRnJRaXhGUVVGRkxFTkJRVU03UVVGRGJFTXNNRUpCUVUwc1EwRkJReXhKUVVGSkxFTkJRVU1zVVVGQlVTeERRVUZETEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRE8wRkJRemRDTERCQ1FVRk5MRU5CUVVNc1NVRkJTU3hEUVVGRExGRkJRVkVzUTBGQlF5eERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJRenRCUVVNM1FpeDNRa0ZCU1N4RFFVRkRMR05CUVdNc1EwRkJReXhOUVVGTkxFTkJRVU1zUTBGQlF6dHBRa0ZETDBJN08wRkJSVVFzYjBKQlFVa3NRMEZCUXl4VlFVRlZMRWRCUVVjc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNSMEZCUnl4SFFVRkhMRWxCUVVrc1EwRkJReXhaUVVGWkxFTkJRVU03WVVGRE5VUTdVMEZEU2pzN08yVkJSV0VzZDBKQlFVTXNUVUZCVFN4RlFVRkZPMEZCUTI1Q0xHdENRVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMR2xDUVVGcFFpeERRVUZETEVsQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1RVRkJUU3hEUVVGRExHOUNRVUZ2UWl4RFFVRkRMRU5CUVVNN1FVRkRja1VzYTBKQlFVMHNRMEZCUXl4SlFVRkpMRU5CUVVNc1VVRkJVU3hEUVVGRExFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc2IwSkJRVzlDTEVWQlFVVXNTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zYjBKQlFXOUNMRU5CUVVNc1EwRkJReXhEUVVGRE8wRkJRM0pITEd0Q1FVRk5MRU5CUVVNc1NVRkJTU3hEUVVGRExHTkJRV01zUTBGQlF5eEhRVUZITEVOQlFVTXNTVUZCU1N4RFFVRkRMR0ZCUVdFc1JVRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dFRRVU16UkRzN08yVkJSVmtzZFVKQlFVTXNVMEZCVXl4RlFVRkZPenRCUVVWeVFpeG5Ra0ZCU1N4VFFVRlRMRWxCUVVrc1UwRkJVeXhEUVVGRExFMUJRVTBzU1VGQlNTeFBRVUZQTEZOQlFWTXNRMEZCUXl4SlFVRkpMRU5CUVVNc1UwRkJVeXhEUVVGRExFMUJRVTBzUTBGQlF5eFhRVUZYTEVOQlFVTXNTVUZCU1N4RFFVRkRMRVZCUVVVN1FVRkRNMFlzYjBKQlFVa3NVMEZCVXl4RFFVRkRMRTFCUVUwc1NVRkJTU3hKUVVGSkxFTkJRVU1zVFVGQlRTeEZRVUZET3p0QlFVVm9ReXcyUWtGQlV5eERRVUZETEUxQlFVMHNRMEZCUXl4UFFVRlBMRVZCUVVVc1EwRkJRenRwUWtGRE9VSTdZVUZEU2p0VFFVTktPenM3WlVGSFowSXNNa0pCUVVNc1RVRkJUU3hGUVVGRk8wRkJRM1JDTEd0Q1FVRk5MRU5CUVVNc1NVRkJTU3hGUVVGRkxFTkJRVU03VTBGRGFrSTdPenRsUVVkcFFpdzRRa0ZCUnp0QlFVTnFRaXhuUWtGQlNTeExRVUZMTEVkQlFVY3NTVUZCU1N4RFFVRkRMRTFCUVUwc1EwRkJReXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETzBGQlEyNURMR2RDUVVGSkxFTkJRVU1zUjBGQlJ5eEhRVUZITEVOQlFVTTdRVUZEV2l4blFrRkJTU3hEUVVGRExFZEJRVWNzU1VGQlNTeERRVUZETEVkQlFVY3NRMEZCUXl4TFFVRkxMRWRCUVVjc1NVRkJTU3hEUVVGRExFVkJRVVVzUjBGQlJ5eEhRVUZITEVOQlFVTXNSMEZCUnl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRE8wRkJRM0pFTEdkQ1FVRkpMRU5CUVVNc1IwRkJSeXhKUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETEV0QlFVc3NSMEZCUnl4SlFVRkpMRU5CUVVNc1JVRkJSU3hIUVVGSExFZEJRVWNzUTBGQlF5eEhRVUZITEVsQlFVa3NRMEZCUXl4TFFVRkxMRWRCUVVjc1EwRkJReXhEUVVGRExFTkJRVU03UVVGRE1VUXNiVUpCUVU4N1FVRkRTQ3hwUWtGQlF5eEZRVUZGTEVOQlFVTTdRVUZEU2l4cFFrRkJReXhGUVVGRkxFTkJRVU03WVVGRFVDeERRVUZETzFOQlEwdzdPenRsUVVkcFFpdzRRa0ZCUnp0QlFVTnFRaXhuUWtGQlNTeG5Ra0ZCWjBJc1IwRkJSeXhKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETEV0QlFVc3NSMEZCUnl4RFFVRkRMRWRCUVVjc1EwRkJReXhEUVVGRE8wRkJRMnBFTEdkQ1FVRkpMRXRCUVVzc1IwRkJSeXhKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETEVsQlFVa3NRMEZCUXl4TFFVRkxMRU5CUVVNN1FVRkRia01zWjBKQlFVa3NRMEZCUXl4SFFVRkhMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zUTBGQlF5eEhRVUZITEVsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1MwRkJTeXhIUVVGSExFbEJRVWtzUTBGQlF5eEZRVUZGTEVkQlFVY3NSMEZCUnl4RFFVRkRMRWRCUVVjc1owSkJRV2RDTEVOQlFVTTdRVUZETTBVc1owSkJRVWtzUTBGQlF5eEhRVUZITEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1EwRkJReXhIUVVGSExFbEJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNTMEZCU3l4SFFVRkhMRWxCUVVrc1EwRkJReXhGUVVGRkxFZEJRVWNzUjBGQlJ5eERRVUZETEVkQlFVY3NaMEpCUVdkQ0xFTkJRVU03UVVGRE0wVXNiVUpCUVU4N1FVRkRTQ3hwUWtGQlF5eEZRVUZGTEVOQlFVTTdRVUZEU2l4cFFrRkJReXhGUVVGRkxFTkJRVU03WVVGRFVDeERRVUZETzFOQlEwdzdPenRsUVVkTkxHMUNRVUZGTzBGQlEwd3NaMEpCUVVrc1EwRkJReXhYUVVGWExFTkJRVU1zVDBGQlR5eEZRVUZGTEVOQlFVTTdVMEZET1VJN096dFhRV2hIWjBJc1RVRkJUVHM3TzNGQ1FVRk9MRTFCUVUwaUxDSm1hV3hsSWpvaVJEb3ZZWEYxWVM5blpXOTNZWEl2YzNKakwzQnlaV1poWW5NdmQyVmhjRzl1Y3k5WFpXRndiMjR1YW5NaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SnBiWEJ2Y25RZ1ZYUnBiSE1nWm5KdmJTQW5MaTR2TGk0dlkyOXRiVzl1TDFWMGFXeHpMbXB6Snp0Y2JtbHRjRzl5ZENCRFlXNTJZWE5JWld4d1pYSWdabkp2YlNBbkxpNHZMaTR2WTI5dGJXOXVMME5oYm5aaGMwaGxiSEJsY2k1cWN5YzdYRzVwYlhCdmNuUWdkMlZoY0c5dVNuTnZiaUJtY205dElDY3VMaTh1TGk5MFpYaDBkWEpsY3k5M1pXRndiMjV6TDNkbFlYQnZiaTVxYzI5dUp6dGNibHh1Wlhod2IzSjBJR1JsWm1GMWJIUWdZMnhoYzNNZ1YyVmhjRzl1SUh0Y2JseHVJQ0FnSUdOdmJuTjBjblZqZEc5eUtHZGhiV1VzY0d4aGVXVnlLU0I3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVaMkZ0WlNBOUlHZGhiV1U3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVjR3hoZVdWeUlEMGdjR3hoZVdWeU8xeHVJQ0FnSUNBZ0lDQjBhR2x6TG5Od1pXVmtJRDBnTlRBd08xeHVJQ0FnSUNBZ0lDQjBhR2x6TG5Ob2IzUkpiblJsY25aaGJDQTlJRFV3TzF4dUlDQWdJQ0FnSUNCMGFHbHpMbUoxYkd4bGRFZGhkR1VnUFNBd08xeHVJQ0FnSUNBZ0lDQjBhR2x6TG1KMWJHeGxkRWR5YjNWd0lEMGdkR2hwY3k1bllXMWxMbUZrWkM1bmNtOTFjQ2dwTzF4dUlDQWdJQ0FnSUNCMGFHbHpMbU55WldGMFpVSjFiR3hsZENncE8xeHVJQ0FnSUgxY2JseHVYRzRnSUNBZ1kzSmxZWFJsUW5Wc2JHVjBLQ2tnZTF4dUlDQWdJQ0FnSUNCMGFHbHpMbUp0WkNBOUlIUm9hWE11WjJGdFpTNXRZV3RsTG1KcGRHMWhjRVJoZEdFb01USXNJREV5S1R0Y2JpQWdJQ0FnSUNBZ2JtVjNJRU5oYm5aaGMwaGxiSEJsY2loMGFHbHpMbUp0WkN3Z2QyVmhjRzl1U25OdmJpd2dlMkp2WkhrZ09pQjBhR2x6TG5Cc1lYbGxjaTVqYjJ4dmNsTmxkQzVvWldGa2ZTa3VaSEpoZDFSbGVIUjFjbVVvS1R0Y2JpQWdJQ0I5WEc1Y2JseHVJQ0FnSUdacGNtVW9LU0I3WEc0Z0lDQWdJQ0FnSUdsbUlDaDBhR2x6TG1kaGJXVXVkR2x0WlM1dWIzY2dQaUIwYUdsekxtSjFiR3hsZEVkaGRHVXBJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUJpZFd4c1pYUWdQU0IwYUdsekxtSjFiR3hsZEVkeWIzVndMbWRsZEVacGNuTjBSR1ZoWkNncE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnZG1GeUlIQnZjeUE5SUhSb2FYTXVhVzVwZEVKMWJHeGxkRkJ2YzJsMGFXOXVLQ2s3WEc0Z0lDQWdJQ0FnSUNBZ0lDQnBaaUFvWW5Wc2JHVjBLU0I3SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUZ4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdKMWJHeGxkQzVpYjJSNUxuZ2dQU0J3YjNNdWVEdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmlkV3hzWlhRdVltOWtlUzU1SUQwZ2NHOXpMbms3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZG1GeUlIWWdQU0IwYUdsekxtbHVhWFJDZFd4c1pYUldaV3h2WTJsMGVTZ3BPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR0oxYkd4bGRDNWliMlI1TG5abGJHOWphWFI1TG5nZ1BTQjJMbmc3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnWW5Wc2JHVjBMbUp2WkhrdWRtVnNiMk5wZEhrdWVTQTlJSFl1ZVR0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCaWRXeHNaWFF1Y21WMmFYWmxLQ2s3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJQ0FnSUNCbGJITmxJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0IyWVhJZ1luVnNiR1YwSUQwZ2RHaHBjeTVpZFd4c1pYUkhjbTkxY0M1amNtVmhkR1VvY0c5ekxuZ3NJSEJ2Y3k1NUxDQjBhR2x6TG1KdFpDazdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdZblZzYkdWMExtbHpRblZzYkdWMElEMGdkSEoxWlR0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbWRoYldVdWNHaDVjMmxqY3k1d01pNWxibUZpYkdVb1luVnNiR1YwS1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCaWRXeHNaWFF1WTJobFkydFhiM0pzWkVKdmRXNWtjeUE5SUhSeWRXVTdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdZblZzYkdWMExtSnZaSGt1WTI5c2JHbGtaVmR2Y214a1FtOTFibVJ6SUQwZ1ptRnNjMlU3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnWW5Wc2JHVjBMbVYyWlc1MGN5NXZiazkxZEU5bVFtOTFibVJ6TG1Ga1pDaDBhR2x6TG1KMWJHeGxkRTkxZEU5bVFtOTFibVJ6TENCMGFHbHpLVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0IyWVhJZ2RpQTlJSFJvYVhNdWFXNXBkRUoxYkd4bGRGWmxiRzlqYVhSNUtDazdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdZblZzYkdWMExtSnZaSGt1ZG1Wc2IyTnBkSGt1ZUNBOUlIWXVlRHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JpZFd4c1pYUXVZbTlrZVM1MlpXeHZZMmwwZVM1NUlEMGdkaTU1TzF4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVZMjlzYkdsa1pWTmxkSFJwYm1jb1luVnNiR1YwS1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1aWRXeHNaWFJIWVhSbElEMGdkR2hwY3k1bllXMWxMblJwYldVdWJtOTNJQ3NnZEdocGN5NXphRzkwU1c1MFpYSjJZV3c3WEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0I5WEc1Y2JpQWdJQ0JqYjJ4c2FXUmxVMlYwZEdsdVp5aGlkV3hzWlhRcElIdGNiaUFnSUNBZ0lDQWdZblZzYkdWMExtSnZaSGt1YzJWMFEyOXNiR2x6YVc5dVIzSnZkWEFvZEdocGN5NW5ZVzFsTG1kbGIzZGhjaTVpZFd4c1pYUkRiMnhzYVhOcGIyNUhjbTkxY0NrN1hHNGdJQ0FnSUNBZ0lHSjFiR3hsZEM1aWIyUjVMbU52Ykd4cFpHVnpLRnQwYUdsekxtZGhiV1V1WjJWdmQyRnlMbkJzWVhsbGNrTnZiR3hwYzJsdmJrZHliM1Z3TENCMGFHbHpMbWRoYldVdVoyVnZkMkZ5TG1KMWJHeGxkRU52Ykd4cGMybHZia2R5YjNWd1hTazdYRzRnSUNBZ0lDQWdJR0oxYkd4bGRDNWliMlI1TG05dVFtVm5hVzVEYjI1MFlXTjBMbUZrWkNoMGFHbHpMbUoxYkd4bGRFTnZiblJoWTNRc2RHaHBjeWs3WEc0Z0lDQWdmVHRjYmx4dUlDQWdJR0oxYkd4bGRFTnZiblJoWTNRb2IzUm9aWEpDYjJSNUtTQjdYRzRnSUNBZ0lDQWdJQzh2YjI1c2VTQnJhV3hzSUhSb1pTQndiR0Y1WlhKY2JpQWdJQ0FnSUNBZ2FXWWdLRzkwYUdWeVFtOWtlU0FtSmlCdmRHaGxja0p2WkhrdWMzQnlhWFJsSUNZbUlIUjVjR1Z2WmlBdlVHeGhlV1Z5TDJrdWRHVnpkQ2h2ZEdobGNrSnZaSGt1YzNCeWFYUmxMbU52Ym5OMGNuVmpkRzl5TG01aGJXVXBLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQnBaaUFvYjNSb1pYSkNiMlI1TG5Od2NtbDBaU0FoUFNCMGFHbHpMbkJzWVhsbGNpbDdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdMeTl1YjNRZ2EybHNiQ3dnWkdseVpXTjBiSGtnYTJsamF5QndiR0Y1WlhJZ2IzVjBYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdiM1JvWlhKQ2IyUjVMbk53Y21sMFpTNWtaWE4wY205NUtDazdYRzRnSUNBZ0lDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNCOU8xeHVYRzVjYmlBZ0lDQmlkV3hzWlhSUGRYUlBaa0p2ZFc1a2N5aGlkV3hzWlhRcElIdGNiaUFnSUNBZ0lDQWdZblZzYkdWMExtdHBiR3dvS1R0Y2JpQWdJQ0I5TzF4dVhHNWNiaUFnSUNCcGJtbDBRblZzYkdWMFZtVnNiMk5wZEhrb0tTQjdYRzRnSUNBZ0lDQWdJSFpoY2lCaGJtZHNaU0E5SUhSb2FYTXVjR3hoZVdWeUxtSnZaSGt1WVc1bmJHVTdYRzRnSUNBZ0lDQWdJSFpoY2lCMklEMGdOREF3TzF4dUlDQWdJQ0FnSUNCMllYSWdlQ0E5SUUxaGRHZ3VjMmx1S0dGdVoyeGxJQ29nVFdGMGFDNVFTU0F2SURFNE1Da2dLaUIwYUdsekxuTndaV1ZrTzF4dUlDQWdJQ0FnSUNCMllYSWdlU0E5SUUxaGRHZ3VZMjl6S0dGdVoyeGxJQ29nVFdGMGFDNVFTU0F2SURFNE1Da2dLaUIwYUdsekxuTndaV1ZrSUNvZ0xURTdYRzRnSUNBZ0lDQWdJSEpsZEhWeWJpQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCNE9pQjRMRnh1SUNBZ0lDQWdJQ0FnSUNBZ2VUb2dlVnh1SUNBZ0lDQWdJQ0I5TzF4dUlDQWdJSDA3WEc1Y2JseHVJQ0FnSUdsdWFYUkNkV3hzWlhSUWIzTnBkR2x2YmlncElIdGNiaUFnSUNBZ0lDQWdkbUZ5SUdobFlXUlViMEp2WkhsRFpXNTBaWElnUFNCMGFHbHpMbkJzWVhsbGNpNTNhV1IwYUNBdklESWdLeUExTzF4dUlDQWdJQ0FnSUNCMllYSWdZVzVuYkdVZ1BTQjBhR2x6TG5Cc1lYbGxjaTVpYjJSNUxtRnVaMnhsTzF4dUlDQWdJQ0FnSUNCMllYSWdlQ0E5SUhSb2FYTXVjR3hoZVdWeUxuZ2dLeUJOWVhSb0xuTnBiaWhoYm1kc1pTQXFJRTFoZEdndVVFa2dMeUF4T0RBcElDb2dhR1ZoWkZSdlFtOWtlVU5sYm5SbGNqdGNiaUFnSUNBZ0lDQWdkbUZ5SUhrZ1BTQjBhR2x6TG5Cc1lYbGxjaTU1SUMwZ1RXRjBhQzVqYjNNb1lXNW5iR1VnS2lCTllYUm9MbEJKSUM4Z01UZ3dLU0FxSUdobFlXUlViMEp2WkhsRFpXNTBaWEk3WEc0Z0lDQWdJQ0FnSUhKbGRIVnliaUI3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjRPaUI0TEZ4dUlDQWdJQ0FnSUNBZ0lDQWdlVG9nZVZ4dUlDQWdJQ0FnSUNCOU8xeHVJQ0FnSUgwN1hHNWNibHh1SUNBZ0lHUmxjM1J5YjNrb0tYdGNiaUFnSUNBZ0lDQWdkR2hwY3k1aWRXeHNaWFJIY205MWNDNWtaWE4wY205NUtDazdYRzRnSUNBZ2ZWeHVYRzU5SWwxOSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIF9XZWFwb25KcyA9IHJlcXVpcmUoJy4vV2VhcG9uLmpzJyk7XG5cbnZhciBfV2VhcG9uSnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfV2VhcG9uSnMpO1xuXG52YXIgX0RpcnRXZWFwb25KcyA9IHJlcXVpcmUoJy4vRGlydFdlYXBvbi5qcycpO1xuXG52YXIgX0RpcnRXZWFwb25KczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EaXJ0V2VhcG9uSnMpO1xuXG52YXIgV2VhcG9uRmFjdG9yeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV2VhcG9uRmFjdG9yeShnYW1lKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWFwb25GYWN0b3J5KTtcblxuICAgICAgICB0aGlzLndlYXBvbl90eXBlID0gWydiYXNpYycsICdkaXJ0J107XG5cbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoV2VhcG9uRmFjdG9yeSwgW3tcbiAgICAgICAga2V5OiAnY3JlYXRlV2VhcG9uJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVdlYXBvbih0eXBlLCBwbGF5ZXIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJiYXNpY1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IF9XZWFwb25KczJbJ2RlZmF1bHQnXSh0aGlzLmdhbWUsIHBsYXllcik7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRpcnRcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBfRGlydFdlYXBvbkpzMlsnZGVmYXVsdCddKHRoaXMuZ2FtZSwgcGxheWVyKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IF9XZWFwb25KczJbJ2RlZmF1bHQnXSh0aGlzLmdhbWUsIHBsYXllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gV2VhcG9uRmFjdG9yeTtcbn0pKCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFdlYXBvbkZhY3Rvcnk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklrUTZMMkZ4ZFdFdloyVnZkMkZ5TDNOeVl5OXdjbVZtWVdKekwzZGxZWEJ2Ym5NdlYyVmhjRzl1Um1GamRHOXllUzVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pT3pzN096czdPenM3T3pzN2QwSkJRVzFDTEdGQlFXRTdPenM3TkVKQlExUXNhVUpCUVdsQ096czdPMGxCUlc1Q0xHRkJRV0U3UVVGSmJrSXNZVUZLVFN4aFFVRmhMRU5CU1d4Q0xFbEJRVWtzUlVGQlJUczRRa0ZLUkN4aFFVRmhPenRoUVVVNVFpeFhRVUZYTEVkQlFVY3NRMEZCUXl4UFFVRlBMRVZCUVVNc1RVRkJUU3hEUVVGRE96dEJRVWN4UWl4WlFVRkpMRU5CUVVNc1NVRkJTU3hIUVVGSExFbEJRVWtzUTBGQlF6dExRVU53UWpzN2FVSkJUbWRDTEdGQlFXRTdPMlZCVTJ4Q0xITkNRVUZETEVsQlFVa3NSVUZCUXl4TlFVRk5MRVZCUVVVN1FVRkRkRUlzYjBKQlFVOHNTVUZCU1R0QlFVTlFMSEZDUVVGTExFOUJRVTg3UVVGRFZDd3lRa0ZCVHl3d1FrRkJWeXhKUVVGSkxFTkJRVU1zU1VGQlNTeEZRVUZETEUxQlFVMHNRMEZCUXl4RFFVRkRPMEZCUVVFc1FVRkRka01zY1VKQlFVc3NUVUZCVFR0QlFVTlNMREpDUVVGUExEaENRVUZsTEVsQlFVa3NRMEZCUXl4SlFVRkpMRVZCUVVNc1RVRkJUU3hEUVVGRExFTkJRVU03UVVGQlFTeEJRVU16UXp0QlFVTkhMREpDUVVGUExEQkNRVUZYTEVsQlFVa3NRMEZCUXl4SlFVRkpMRVZCUVVNc1RVRkJUU3hEUVVGRExFTkJRVU03UVVGQlFTeGhRVU14UXp0VFFVTktPenM3VjBGc1FtZENMR0ZCUVdFN096dHhRa0ZCWWl4aFFVRmhJaXdpWm1sc1pTSTZJa1E2TDJGeGRXRXZaMlZ2ZDJGeUwzTnlZeTl3Y21WbVlXSnpMM2RsWVhCdmJuTXZWMlZoY0c5dVJtRmpkRzl5ZVM1cWN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbWx0Y0c5eWRDQlhaV0Z3YjI0Z1puSnZiU0FuTGk5WFpXRndiMjR1YW5Nbk8xeHVhVzF3YjNKMElFUnBjblJYWldGd2IyNGdabkp2YlNBbkxpOUVhWEowVjJWaGNHOXVMbXB6Snp0Y2JseHVaWGh3YjNKMElHUmxabUYxYkhRZ1kyeGhjM01nVjJWaGNHOXVSbUZqZEc5eWVTQjdYRzVjYmlBZ0lDQjNaV0Z3YjI1ZmRIbHdaU0E5SUZzblltRnphV01uTENka2FYSjBKMTA3WEc1Y2JpQWdJQ0JqYjI1emRISjFZM1J2Y2lobllXMWxLU0I3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVaMkZ0WlNBOUlHZGhiV1U3WEc0Z0lDQWdmVnh1WEc1Y2JpQWdJQ0JqY21WaGRHVlhaV0Z3YjI0b2RIbHdaU3h3YkdGNVpYSXBJSHRjYmlBZ0lDQWdJQ0FnYzNkcGRHTm9LSFI1Y0dVcGUxeHVJQ0FnSUNBZ0lDQWdJQ0FnWTJGelpTQmNJbUpoYzJsalhDSWdPaUJjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQnVaWGNnVjJWaGNHOXVLSFJvYVhNdVoyRnRaU3h3YkdGNVpYSXBPMXh1SUNBZ0lDQWdJQ0FnSUNBZ1kyRnpaU0JjSW1ScGNuUmNJaUE2SUZ4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJRzVsZHlCRWFYSjBWMlZoY0c5dUtIUm9hWE11WjJGdFpTeHdiR0Y1WlhJcE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnWkdWbVlYVnNkQ0E2SUZ4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJRzVsZHlCWFpXRndiMjRvZEdocGN5NW5ZVzFsTEhCc1lYbGxjaWs3WEc0Z0lDQWdJQ0FnSUgwZ1hHNGdJQ0FnZlZ4dVhHNTlJbDE5IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQ29tbW9uSGFuZGxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tbW9uSGFuZGxlcihnYW1lKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21tb25IYW5kbGVyKTtcblxuICAgICAgICB0aGlzLmdhbWUgPSBnYW1lO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDb21tb25IYW5kbGVyLCBbe1xuICAgICAgICBrZXk6IFwiaGFuZGxlXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGUoZGF0YSkge1xuICAgICAgICAgICAgc3dpdGNoIChkYXRhLmFjdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjcmVhdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibW92ZVwiOlxuICAgICAgICAgICAgICAgICAgICBtb3ZlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hhbmdlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlc3Ryb3lcIjpcbiAgICAgICAgICAgICAgICAgICAgZGVzdHJveShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJjcmVhdGVcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShkYXRhKSB7fVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcIm1vdmVcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmUoZGF0YSkge31cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJjaGFuZ2VcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5nZShkYXRhKSB7fVxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImRlc3Ryb3lcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koZGF0YSkge31cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQ29tbW9uSGFuZGxlcjtcbn0pKCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gQ29tbW9uSGFuZGxlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJa1E2TDJGeGRXRXZaMlZ2ZDJGeUwzTnlZeTl6YjJOclpYUXZRMjl0Ylc5dVNHRnVaR3hsY2k1cWN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU96czdPenM3T3pzN08wbEJRWEZDTEdGQlFXRTdRVUZEYmtJc1lVRkVUU3hoUVVGaExFTkJRMnhDTEVsQlFVa3NSVUZCUlRzNFFrRkVSQ3hoUVVGaE96dEJRVVV4UWl4WlFVRkpMRU5CUVVNc1NVRkJTU3hIUVVGSExFbEJRVWtzUTBGQlF6dExRVU53UWpzN2FVSkJTR2RDTEdGQlFXRTdPMlZCUzNoQ0xHZENRVUZETEVsQlFVa3NSVUZCUlR0QlFVTldMRzlDUVVGUExFbEJRVWtzUTBGQlF5eE5RVUZOTzBGQlEyWXNjVUpCUVVzc1VVRkJVVHRCUVVOVUxEQkNRVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1FVRkRZaXd3UWtGQlRUdEJRVUZCTEVGQlExWXNjVUpCUVVzc1RVRkJUVHRCUVVOUUxIZENRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1FVRkRXQ3d3UWtGQlRUdEJRVUZCTEVGQlExWXNjVUpCUVVzc1VVRkJVVHRCUVVOVUxEQkNRVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1FVRkRZaXd3UWtGQlRUdEJRVUZCTEVGQlExWXNjVUpCUVVzc1UwRkJVenRCUVVOV0xESkNRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1FVRkRaQ3d3UWtGQlRUdEJRVUZCTEVGQlExWTdRVUZEU1N3d1FrRkJUVHRCUVVGQkxHRkJRMW83VTBGRFNEczdPMlZCUjBzc1owSkJRVU1zU1VGQlNTeEZRVUZETEVWQlJWZzdPenRsUVVWSExHTkJRVU1zU1VGQlNTeEZRVUZETEVWQlJWUTdPenRsUVVWTExHZENRVUZETEVsQlFVa3NSVUZCUXl4RlFVVllPenM3WlVGRlRTeHBRa0ZCUXl4SlFVRkpMRVZCUVVNc1JVRkZXanM3TzFkQmRrTm5RaXhoUVVGaE96czdjVUpCUVdJc1lVRkJZU0lzSW1acGJHVWlPaUpFT2k5aGNYVmhMMmRsYjNkaGNpOXpjbU12YzI5amEyVjBMME52YlcxdmJraGhibVJzWlhJdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUpsZUhCdmNuUWdaR1ZtWVhWc2RDQmpiR0Z6Y3lCRGIyMXRiMjVJWVc1a2JHVnlJSHRjYmlBZ0lDQmpiMjV6ZEhKMVkzUnZjaWhuWVcxbEtTQjdYRzRnSUNBZ0lDQWdJSFJvYVhNdVoyRnRaU0E5SUdkaGJXVTdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ2FHRnVaR3hsS0dSaGRHRXBJSHRjYmlBZ0lDQWdJQ0J6ZDJsMFkyZ29aR0YwWVM1aFkzUnBiMjRwZTF4dUlDQWdJQ0FnSUNBZ0lHTmhjMlVnWENKamNtVmhkR1ZjSWlBNklGeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCamNtVmhkR1VvWkdGMFlTazdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lHSnlaV0ZyTzF4dUlDQWdJQ0FnSUNBZ0lHTmhjMlVnWENKdGIzWmxYQ0lnT2lCY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnYlc5MlpTaGtZWFJoS1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnWW5KbFlXczdYRzRnSUNBZ0lDQWdJQ0FnWTJGelpTQmNJbU5vWVc1blpWd2lJRG9nWEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJR05vWVc1blpTaGtZWFJoS1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnWW5KbFlXczdYRzRnSUNBZ0lDQWdJQ0FnWTJGelpTQmNJbVJsYzNSeWIzbGNJaUE2SUZ4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0JrWlhOMGNtOTVLR1JoZEdFcE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCaWNtVmhhenNnSUNBZ0lDQWdJQ0FnSUNCY2JpQWdJQ0FnSUNBZ0lDQmtaV1poZFd4MElEb2dYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lHSnlaV0ZyT3lBZ0lDQWdJRnh1SUNBZ0lDQWdJSDFjYmlBZ0lDQjlYRzVjYmx4dUlDQWdJR055WldGMFpTaGtZWFJoS1h0Y2JseHVJQ0FnSUgxY2JseHVJQ0FnSUcxdmRtVW9aR0YwWVNsN1hHNWNiaUFnSUNCOVhHNWNiaUFnSUNCamFHRnVaMlVvWkdGMFlTbDdYRzVjYmlBZ0lDQjlYRzVjYmlBZ0lDQmtaWE4wY205NUtHUmhkR0VwZTF4dVhHNGdJQ0FnZlZ4dWZTSmRmUT09IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgQ29ubmVjdGlvbkhhbmRsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gQ29ubmVjdGlvbkhhbmRsZXIoZ2FtZSkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3Rpb25IYW5kbGVyKTtcblxuICAgICAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcbiAgICAgIH1cblxuICAgICAgX2NyZWF0ZUNsYXNzKENvbm5lY3Rpb25IYW5kbGVyLCBbe1xuICAgICAgICAgICAga2V5OiAnaGFuZGxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGUoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5nZW93YXIucGxheWVycyA9IHt9O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5nZW93YXIuc29ja2V0UmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9zZXQgY3VycmVudCBwbGF5ZXIgaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5nZW93YXIuY3VycmVudFBsYXllci5wbGF5ZXJJZCA9IGRhdGEuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0byBwbGF5ZXIgbWFwXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnNbZGF0YS5pZF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMuZ2FtZS5nZW93YXIuY3VycmVudFBsYXllclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwbGF5ZXJJZCA9ICcgKyB0aGlzLmdhbWUuZ2Vvd2FyLmN1cnJlbnRQbGF5ZXIucGxheWVySWQgKyAnIGNvbm5lY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdkaXNjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmVlZERlc3Ryb3kgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5nZW93YXIuY3VycmVudFBsYXllci5wbGF5ZXJJZCA9PSBkYXRhLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWVkRGVzdHJveSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lLmdlb3dhci5zb2NrZXRSZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BsYXllcklkID0gJyArIHRoaXMuZ2FtZS5nZW93YXIuY3VycmVudFBsYXllci5wbGF5ZXJJZCArICdkaXNjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnNbZGF0YS5pZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZWVkRGVzdHJveSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lLmdlb3dhci5wbGF5ZXJzW2RhdGEuaWRdLnNwcml0ZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5nYW1lLmdlb3dhci5wbGF5ZXJzW2RhdGEuaWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgfV0pO1xuXG4gICAgICByZXR1cm4gQ29ubmVjdGlvbkhhbmRsZXI7XG59KSgpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBDb25uZWN0aW9uSGFuZGxlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtRNkwyRnhkV0V2WjJWdmQyRnlMM055WXk5emIyTnJaWFF2UTI5dWJtVmpkR2x2YmtoaGJtUnNaWEl1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenM3T3p0SlFVRnhRaXhwUWtGQmFVSTdRVUZGY2tJc1pVRkdTU3hwUWtGQmFVSXNRMEZGY0VJc1NVRkJTU3hGUVVGRk8ydERRVVpJTEdsQ1FVRnBRanM3UVVGSE1VSXNaMEpCUVVrc1EwRkJReXhKUVVGSkxFZEJRVWNzU1VGQlNTeERRVUZETzA5QlEzUkNPenR0UWtGS1l5eHBRa0ZCYVVJN08yMUNRVTB4UWl4blFrRkJReXhKUVVGSkxFVkJRVVU3UVVGRFVDeHpRa0ZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETEU5QlFVOHNSVUZCUlR0QlFVTjZRaXcwUWtGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1QwRkJUeXhIUVVGSExFVkJRVVVzUTBGQlF6dHRRa0ZEYmtNN1FVRkRSQ3h6UWtGQlNTeEpRVUZKTEVOQlFVTXNTVUZCU1N4TFFVRkxMRmRCUVZjc1JVRkJSVHRCUVVONlFpdzBRa0ZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zVjBGQlZ5eEhRVUZITEVsQlFVa3NRMEZCUXpzN1FVRkZjRU1zTkVKQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1RVRkJUU3hEUVVGRExHRkJRV0VzUTBGQlF5eFJRVUZSTEVkQlFVY3NTVUZCU1N4RFFVRkRMRVZCUVVVc1EwRkJRenM3UVVGRmJFUXNORUpCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETEU5QlFVOHNRMEZCUXl4SlFVRkpMRU5CUVVNc1JVRkJSU3hEUVVGRExFZEJRVWM3UVVGRE9VSXNiME5CUVUwc1JVRkJSeXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4aFFVRmhPM2xDUVVNMVF5eERRVUZETzBGQlEwWXNLMEpCUVU4c1EwRkJReXhIUVVGSExFTkJRVU1zWVVGQllTeEhRVUZITEVsQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1RVRkJUU3hEUVVGRExHRkJRV0VzUTBGQlF5eFJRVUZSTEVkQlFVY3NXVUZCV1N4RFFVRkRMRU5CUVVNN2JVSkJRM3BHTEUxQlEwa3NTVUZCU1N4SlFVRkpMRU5CUVVNc1NVRkJTU3hMUVVGTExHTkJRV01zUlVGQlJUdEJRVU5xUXl3MFFrRkJTU3hYUVVGWExFZEJRVWNzU1VGQlNTeERRVUZETzBGQlEzWkNMRFJDUVVGSkxFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNUVUZCVFN4RFFVRkRMR0ZCUVdFc1EwRkJReXhSUVVGUkxFbEJRVWtzU1VGQlNTeERRVUZETEVWQlFVVXNSVUZCUlR0QlFVTnNSQ3g1UTBGQlZ5eEhRVUZITEV0QlFVc3NRMEZCUXp0QlFVTndRaXhyUTBGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1YwRkJWeXhIUVVGSExFdEJRVXNzUTBGQlF6dEJRVU55UXl4eFEwRkJUeXhEUVVGRExFZEJRVWNzUTBGQlF5eGhRVUZoTEVkQlFVY3NTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zWVVGQllTeERRVUZETEZGQlFWRXNSMEZCUnl4alFVRmpMRU5CUVVNc1EwRkJRenQ1UWtGRE0wWTdRVUZEUkN3MFFrRkJTU3hKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExFVkJRVVVzUTBGQlF5eEZRVUZGTzBGQlEycERMR3REUVVGSkxGZEJRVmNzUlVGQlJUdEJRVU5ZTEhkRFFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRVZCUVVVc1EwRkJReXhEUVVGRExFMUJRVTBzUTBGQlF5eFBRVUZQTEVWQlFVVXNRMEZCUXpzclFrRkRlRVE3UVVGRFJDeHhRMEZCVHl4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRVZCUVVVc1EwRkJReXhEUVVGRE8zbENRVU01UXp0dFFrRkZUanRoUVVOT096czdZVUZ1UTJNc2FVSkJRV2xDT3pzN2NVSkJRV3BDTEdsQ1FVRnBRaUlzSW1acGJHVWlPaUpFT2k5aGNYVmhMMmRsYjNkaGNpOXpjbU12YzI5amEyVjBMME52Ym01bFkzUnBiMjVJWVc1a2JHVnlMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaVpYaHdiM0owSUdSbFptRjFiSFFnWTJ4aGMzTWdRMjl1Ym1WamRHbHZia2hoYm1Sc1pYSWdlMXh1WEc0Z0lDQWdJQ0JqYjI1emRISjFZM1J2Y2lobllXMWxLU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG1kaGJXVWdQU0JuWVcxbE8xeHVJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQm9ZVzVrYkdVb1pHRjBZU2tnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdhV1lnS0NGMGFHbHpMbWRoYldVdVoyVnZkMkZ5TG5Cc1lYbGxjbk1wSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIUm9hWE11WjJGdFpTNW5aVzkzWVhJdWNHeGhlV1Z5Y3lBOUlIdDlPMXh1SUNBZ0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQWdJQ0FnYVdZZ0tHUmhkR0V1ZEhsd1pTQTlQVDBnSjJOdmJtNWxZM1JsWkNjcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdVoyRnRaUzVuWlc5M1lYSXVjMjlqYTJWMFVtVmhaSGtnUFNCMGNuVmxPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnTHk5elpYUWdZM1Z5Y21WdWRDQndiR0Y1WlhJZ2FXUmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdVoyRnRaUzVuWlc5M1lYSXVZM1Z5Y21WdWRGQnNZWGxsY2k1d2JHRjVaWEpKWkNBOUlHUmhkR0V1YVdRN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQXZMMkZrWkNCMGJ5QndiR0Y1WlhJZ2JXRndYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0IwYUdsekxtZGhiV1V1WjJWdmQyRnlMbkJzWVhsbGNuTmJaR0YwWVM1cFpGMGdQU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0J6Y0hKcGRHVWdPaUIwYUdsekxtZGhiV1V1WjJWdmQyRnlMbU4xY25KbGJuUlFiR0Y1WlhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIMDdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JqYjI1emIyeGxMbXh2WnlnbmNHeGhlV1Z5U1dRZ1BTQW5JQ3NnZEdocGN5NW5ZVzFsTG1kbGIzZGhjaTVqZFhKeVpXNTBVR3hoZVdWeUxuQnNZWGxsY2tsa0lDc2dKeUJqYjI1dVpXTjBaV1FuS1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnSUNBZ0lHVnNjMlVnYVdZZ0tHUmhkR0V1ZEhsd1pTQTlQVDBnSjJScGMyTnZibTVsWTNSbFpDY3BJSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhaaGNpQnVaV1ZrUkdWemRISnZlU0E5SUhSeWRXVTdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JwWmlBb2RHaHBjeTVuWVcxbExtZGxiM2RoY2k1amRYSnlaVzUwVUd4aGVXVnlMbkJzWVhsbGNrbGtJRDA5SUdSaGRHRXVhV1FwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUc1bFpXUkVaWE4wY205NUlEMGdabUZzYzJVN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbWRoYldVdVoyVnZkMkZ5TG5OdlkydGxkRkpsWVdSNUlEMGdabUZzYzJVN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCamIyNXpiMnhsTG14dlp5Z25jR3hoZVdWeVNXUWdQU0FuSUNzZ2RHaHBjeTVuWVcxbExtZGxiM2RoY2k1amRYSnlaVzUwVUd4aGVXVnlMbkJzWVhsbGNrbGtJQ3NnSjJScGMyTnZibTVsWTNSbFpDY3BPMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2FXWWdLSFJvYVhNdVoyRnRaUzVuWlc5M1lYSXVjR3hoZVdWeWMxdGtZWFJoTG1sa1hTa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdhV1lnS0c1bFpXUkVaWE4wY205NUtTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbWRoYldVdVoyVnZkMkZ5TG5Cc1lYbGxjbk5iWkdGMFlTNXBaRjB1YzNCeWFYUmxMbVJsYzNSeWIza29LVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR1JsYkdWMFpTQjBhR2x6TG1kaGJXVXVaMlZ2ZDJGeUxuQnNZWGxsY25OYlpHRjBZUzVwWkYwN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lIMWNibHh1ZlNKZGZRPT0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFBsYXllckZpcmVIYW5kbGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIFBsYXllckZpcmVIYW5kbGVyKGdhbWUpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQbGF5ZXJGaXJlSGFuZGxlcik7XG5cbiAgICAgICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XG4gICAgICB9XG5cbiAgICAgIF9jcmVhdGVDbGFzcyhQbGF5ZXJGaXJlSGFuZGxlciwgW3tcbiAgICAgICAgICAgIGtleTogXCJoYW5kbGVcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGUoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5nZW93YXIucGxheWVyc1tkYXRhLmlkXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBlZXJQbGF5ZXIgPSB0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnNbZGF0YS5pZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NhY2hlIHRoZSBwZWVyIHBsYXllciBwb3MgbWV0YSBkYXRhIGFuZCB1cGRhdGUgaW4gdXBkYXRlIG1ldGhvZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZXJQbGF5ZXIuZmlyZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICB9XSk7XG5cbiAgICAgIHJldHVybiBQbGF5ZXJGaXJlSGFuZGxlcjtcbn0pKCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gUGxheWVyRmlyZUhhbmRsZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtRNkwyRnhkV0V2WjJWdmQyRnlMM055WXk5emIyTnJaWFF2VUd4aGVXVnlSbWx5WlVoaGJtUnNaWEl1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenM3T3p0SlFVRnhRaXhwUWtGQmFVSTdRVUZGY2tJc1pVRkdTU3hwUWtGQmFVSXNRMEZGY0VJc1NVRkJTU3hGUVVGRk8ydERRVVpJTEdsQ1FVRnBRanM3UVVGSE1VSXNaMEpCUVVrc1EwRkJReXhKUVVGSkxFZEJRVWNzU1VGQlNTeERRVUZETzA5QlEzUkNPenR0UWtGS1l5eHBRa0ZCYVVJN08yMUNRVTB4UWl4blFrRkJReXhKUVVGSkxFVkJRVVU3UVVGRFVDeHpRa0ZCU1N4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRVZCUVVVc1EwRkJReXhGUVVGRk8wRkJRMjVETERSQ1FVRkpMRlZCUVZVc1IwRkJSeXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExFVkJRVVVzUTBGQlF5eERRVUZET3p0QlFVVnVSQ3hyUTBGQlZTeERRVUZETEVsQlFVa3NSMEZCUnl4SlFVRkpMRU5CUVVNN2JVSkJRekZDTzJGQlEwNDdPenRoUVZwakxHbENRVUZwUWpzN08zRkNRVUZxUWl4cFFrRkJhVUlpTENKbWFXeGxJam9pUkRvdllYRjFZUzluWlc5M1lYSXZjM0pqTDNOdlkydGxkQzlRYkdGNVpYSkdhWEpsU0dGdVpHeGxjaTVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkltVjRjRzl5ZENCa1pXWmhkV3gwSUdOc1lYTnpJRkJzWVhsbGNrWnBjbVZJWVc1a2JHVnlJSHRjYmx4dUlDQWdJQ0FnWTI5dWMzUnlkV04wYjNJb1oyRnRaU2tnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1bllXMWxJRDBnWjJGdFpUdGNiaUFnSUNBZ0lIMWNibHh1SUNBZ0lDQWdhR0Z1Wkd4bEtHUmhkR0VwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJR2xtSUNoMGFHbHpMbWRoYldVdVoyVnZkMkZ5TG5Cc1lYbGxjbk5iWkdGMFlTNXBaRjBwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMllYSWdjR1ZsY2xCc1lYbGxjaUE5SUhSb2FYTXVaMkZ0WlM1blpXOTNZWEl1Y0d4aGVXVnljMXRrWVhSaExtbGtYVHNnWEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnTHk5allXTm9aU0IwYUdVZ2NHVmxjaUJ3YkdGNVpYSWdjRzl6SUcxbGRHRWdaR0YwWVNCaGJtUWdkWEJrWVhSbElHbHVJSFZ3WkdGMFpTQnRaWFJvYjJRdUlGeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIQmxaWEpRYkdGNVpYSXVabWx5WlNBOUlIUnlkV1U3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQjlYRzVjYm4waVhYMD0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBfcHJlZmFic1BsYXllcnNQbGF5ZXJGYWN0b3J5SnMgPSByZXF1aXJlKCcuLi9wcmVmYWJzL3BsYXllcnMvUGxheWVyRmFjdG9yeS5qcycpO1xuXG52YXIgX3ByZWZhYnNQbGF5ZXJzUGxheWVyRmFjdG9yeUpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ByZWZhYnNQbGF5ZXJzUGxheWVyRmFjdG9yeUpzKTtcblxudmFyIFBsYXllck1vdmVIYW5kbGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQbGF5ZXJNb3ZlSGFuZGxlcihnYW1lKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQbGF5ZXJNb3ZlSGFuZGxlcik7XG5cbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcbiAgICAgICAgdGhpcy5wbGF5ZXJGYWN0b3J5ID0gbmV3IF9wcmVmYWJzUGxheWVyc1BsYXllckZhY3RvcnlKczJbJ2RlZmF1bHQnXSh0aGlzLmdhbWUpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhQbGF5ZXJNb3ZlSGFuZGxlciwgW3tcbiAgICAgICAga2V5OiAnaGFuZGxlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZShkYXRhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lLmdlb3dhci5wbGF5ZXJzW2RhdGEuaWRdKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBlZXJQbGF5ZXIgPSB0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnNbZGF0YS5pZF07XG4gICAgICAgICAgICAgICAgLy9jYWNoZSB0aGUgcGVlciBwbGF5ZXIgcG9zIG1ldGEgZGF0YSBhbmQgdXBkYXRlIGluIHVwZGF0ZSBtZXRob2QuXG4gICAgICAgICAgICAgICAgcGVlclBsYXllci5wb3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGRhdGEueCxcbiAgICAgICAgICAgICAgICAgICAgeTogZGF0YS55LFxuICAgICAgICAgICAgICAgICAgICBhbmdsZTogZGF0YS5hbmdsZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBwZWVyUGxheWVyID0gdGhpcy5wbGF5ZXJGYWN0b3J5LmNyZWF0ZVBlZXJQbGF5ZXIoZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLmFkZC5leGlzdGluZyhwZWVyUGxheWVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyLnBsYXllcnNHcm91cC5hZGQocGVlclBsYXllcik7XG4gICAgICAgICAgICAgICAgLy9jYWNoZSBwZWVyIHBsYXllclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5nZW93YXIucGxheWVyc1tkYXRhLmlkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlOiBwZWVyUGxheWVyXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQbGF5ZXJNb3ZlSGFuZGxlcjtcbn0pKCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFBsYXllck1vdmVIYW5kbGVyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJa1E2TDJGeGRXRXZaMlZ2ZDJGeUwzTnlZeTl6YjJOclpYUXZVR3hoZVdWeVRXOTJaVWhoYm1Sc1pYSXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3pzN096czdPenM3T3paRFFVRXdRaXh4UTBGQmNVTTdPenM3U1VGRk1VTXNhVUpCUVdsQ08wRkJSWEpDTEdGQlJra3NhVUpCUVdsQ0xFTkJSWEJDTEVsQlFVa3NSVUZCUlRzNFFrRkdTQ3hwUWtGQmFVSTdPMEZCUnpGQ0xGbEJRVWtzUTBGQlF5eEpRVUZKTEVkQlFVY3NTVUZCU1N4RFFVRkRPMEZCUTJwQ0xGbEJRVWtzUTBGQlF5eGhRVUZoTEVkQlFVY3NLME5CUVd0Q0xFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNRMEZCUXp0TFFVTjJSRHM3YVVKQlRHTXNhVUpCUVdsQ096dGxRVTh4UWl4blFrRkJReXhKUVVGSkxFVkJRVVU3UVVGRFVDeG5Ra0ZCU1N4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eFBRVUZQTEVOQlFVTXNTVUZCU1N4RFFVRkRMRVZCUVVVc1EwRkJReXhGUVVGRk8wRkJRMjVETEc5Q1FVRkpMRlZCUVZVc1IwRkJSeXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExFVkJRVVVzUTBGQlF5eERRVUZET3p0QlFVVnVSQ3d3UWtGQlZTeERRVUZETEVkQlFVY3NSMEZCUnp0QlFVTmlMSEZDUVVGRExFVkJRVWNzU1VGQlNTeERRVUZETEVOQlFVTTdRVUZEVml4eFFrRkJReXhGUVVGSExFbEJRVWtzUTBGQlF5eERRVUZETzBGQlExWXNlVUpCUVVzc1JVRkJSeXhKUVVGSkxFTkJRVU1zUzBGQlN6dHBRa0ZEY2tJc1EwRkJRenRoUVVOTUxFMUJRMGM3UVVGRFFTeHZRa0ZCU1N4VlFVRlZMRWRCUVVjc1NVRkJTU3hEUVVGRExHRkJRV0VzUTBGQlF5eG5Ra0ZCWjBJc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dEJRVU16UkN4dlFrRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNVVUZCVVN4RFFVRkRMRlZCUVZVc1EwRkJReXhEUVVGRE8wRkJRMjVETEc5Q1FVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eFpRVUZaTEVOQlFVTXNSMEZCUnl4RFFVRkRMRlZCUVZVc1EwRkJReXhEUVVGRE96dEJRVVU1UXl4dlFrRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNUMEZCVHl4RFFVRkRMRWxCUVVrc1EwRkJReXhGUVVGRkxFTkJRVU1zUjBGQlJ6dEJRVU12UWl3d1FrRkJUU3hGUVVGSExGVkJRVlU3YVVKQlEzWkNMRU5CUVVNN1lVRkRURHRUUVVOT096czdWMEV4UW1Nc2FVSkJRV2xDT3pzN2NVSkJRV3BDTEdsQ1FVRnBRaUlzSW1acGJHVWlPaUpFT2k5aGNYVmhMMmRsYjNkaGNpOXpjbU12YzI5amEyVjBMMUJzWVhsbGNrMXZkbVZJWVc1a2JHVnlMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWFXMXdiM0owSUZCc1lYbGxja1poWTNSdmNua2dabkp2YlNBbkxpNHZjSEpsWm1GaWN5OXdiR0Y1WlhKekwxQnNZWGxsY2taaFkzUnZjbmt1YW5Nbk8xeHVYRzVsZUhCdmNuUWdaR1ZtWVhWc2RDQmpiR0Z6Y3lCUWJHRjVaWEpOYjNabFNHRnVaR3hsY2lCN1hHNWNiaUFnSUNBZ0lHTnZibk4wY25WamRHOXlLR2RoYldVcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVaMkZ0WlNBOUlHZGhiV1U3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjBhR2x6TG5Cc1lYbGxja1poWTNSdmNua2dQU0J1WlhjZ1VHeGhlV1Z5Um1GamRHOXllU2gwYUdsekxtZGhiV1VwTzF4dUlDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNCb1lXNWtiR1VvWkdGMFlTa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ2FXWWdLSFJvYVhNdVoyRnRaUzVuWlc5M1lYSXVjR3hoZVdWeWMxdGtZWFJoTG1sa1hTa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSFpoY2lCd1pXVnlVR3hoZVdWeUlEMGdkR2hwY3k1bllXMWxMbWRsYjNkaGNpNXdiR0Y1WlhKelcyUmhkR0V1YVdSZE95QmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQXZMMk5oWTJobElIUm9aU0J3WldWeUlIQnNZWGxsY2lCd2IzTWdiV1YwWVNCa1lYUmhJR0Z1WkNCMWNHUmhkR1VnYVc0Z2RYQmtZWFJsSUcxbGRHaHZaQzRnWEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnY0dWbGNsQnNZWGxsY2k1d2IzTWdQU0I3WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIZ2dPaUJrWVhSaExuZ3NYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhrZ09pQmtZWFJoTG5rc1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR0Z1WjJ4bElEb2daR0YwWVM1aGJtZHNaVnh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSDA3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJQ0FnSUNCbGJITmxlMXh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJSFpoY2lCd1pXVnlVR3hoZVdWeUlEMGdkR2hwY3k1d2JHRjVaWEpHWVdOMGIzSjVMbU55WldGMFpWQmxaWEpRYkdGNVpYSW9aR0YwWVNrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTVuWVcxbExtRmtaQzVsZUdsemRHbHVaeWh3WldWeVVHeGhlV1Z5S1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCMGFHbHpMbWRoYldVdVoyVnZkMkZ5TG5Cc1lYbGxjbk5IY205MWNDNWhaR1FvY0dWbGNsQnNZWGxsY2lrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0x5OWpZV05vWlNCd1pXVnlJSEJzWVhsbGNseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIUm9hWE11WjJGdFpTNW5aVzkzWVhJdWNHeGhlV1Z5YzF0a1lYUmhMbWxrWFNBOUlIdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUhOd2NtbDBaU0E2SUhCbFpYSlFiR0Y1WlhJZ1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2ZUdGNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUgxY2JseHVmU0pkZlE9PSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIF9Db25uZWN0aW9uSGFuZGxlckpzID0gcmVxdWlyZSgnLi9Db25uZWN0aW9uSGFuZGxlci5qcycpO1xuXG52YXIgX0Nvbm5lY3Rpb25IYW5kbGVySnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29ubmVjdGlvbkhhbmRsZXJKcyk7XG5cbnZhciBfUGxheWVyTW92ZUhhbmRsZXJKcyA9IHJlcXVpcmUoJy4vUGxheWVyTW92ZUhhbmRsZXIuanMnKTtcblxudmFyIF9QbGF5ZXJNb3ZlSGFuZGxlckpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BsYXllck1vdmVIYW5kbGVySnMpO1xuXG52YXIgX1BsYXllckZpcmVIYW5kbGVySnMgPSByZXF1aXJlKCcuL1BsYXllckZpcmVIYW5kbGVyLmpzJyk7XG5cbnZhciBfUGxheWVyRmlyZUhhbmRsZXJKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QbGF5ZXJGaXJlSGFuZGxlckpzKTtcblxudmFyIF9Db21tb25IYW5kbGVySnMgPSByZXF1aXJlKCcuL0NvbW1vbkhhbmRsZXIuanMnKTtcblxudmFyIF9Db21tb25IYW5kbGVySnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29tbW9uSGFuZGxlckpzKTtcblxudmFyIFNvY2tldEhhbmRsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNvY2tldEhhbmRsZXIoc2lvLCBnYW1lKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTb2NrZXRIYW5kbGVyKTtcblxuICAgICAgICB0aGlzLnNpbyA9IHNpbztcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICB0aGlzLmluaXRIYW5kbGVycyh0aGlzLmdhbWUpO1xuICAgICAgICB0aGlzLnNpby5vbigncHVsbCcsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB0aGF0LnVwZGF0ZShkYXRhLCB0aGF0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFNvY2tldEhhbmRsZXIsIFt7XG4gICAgICAgIGtleTogJ3B1c2gnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaChkYXRhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lLmdlb3dhci5zb2NrZXRSZWFkeSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2lvLmVtaXQoJ3B1c2gnLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAndXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShkYXRhLCB0aGF0KSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVyc1tkYXRhLm5hbWVdLmhhbmRsZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaW5pdEhhbmRsZXJzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRIYW5kbGVycyhnYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzLmNvbm5lY3Rpb24gPSBuZXcgX0Nvbm5lY3Rpb25IYW5kbGVySnMyWydkZWZhdWx0J10oZ2FtZSk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnBsYXllck1vdmUgPSBuZXcgX1BsYXllck1vdmVIYW5kbGVySnMyWydkZWZhdWx0J10oZ2FtZSk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnBsYXllckZpcmUgPSBuZXcgX1BsYXllckZpcmVIYW5kbGVySnMyWydkZWZhdWx0J10oZ2FtZSk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzLmNvbW1vbiA9IG5ldyBfQ29tbW9uSGFuZGxlckpzMlsnZGVmYXVsdCddKGdhbWUpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFNvY2tldEhhbmRsZXI7XG59KSgpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBTb2NrZXRIYW5kbGVyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJa1E2TDJGeGRXRXZaMlZ2ZDJGeUwzTnlZeTl6YjJOclpYUXZVMjlqYTJWMFNHRnVaR3hsY2k1cWN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU96czdPenM3T3pzN096czdiVU5CUVRoQ0xIZENRVUYzUWpzN096dHRRMEZEZUVJc2QwSkJRWGRDT3pzN08yMURRVU40UWl4M1FrRkJkMEk3T3pzN0swSkJRelZDTEc5Q1FVRnZRanM3T3p0SlFVVjZRaXhoUVVGaE8wRkJRMjVDTEdGQlJFMHNZVUZCWVN4RFFVTnNRaXhIUVVGSExFVkJRVVVzU1VGQlNTeEZRVUZGT3poQ1FVUk9MR0ZCUVdFN08wRkJSVEZDTEZsQlFVa3NRMEZCUXl4SFFVRkhMRWRCUVVjc1IwRkJSeXhEUVVGRE8wRkJRMllzV1VGQlNTeERRVUZETEVsQlFVa3NSMEZCUnl4SlFVRkpMRU5CUVVNN1FVRkRha0lzV1VGQlNTeEpRVUZKTEVkQlFVY3NTVUZCU1N4RFFVRkRPMEZCUTJoQ0xGbEJRVWtzUTBGQlF5eFpRVUZaTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE8wRkJRemRDTEZsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1JVRkJSU3hEUVVGRExFMUJRVTBzUlVGQlJTeFZRVUZWTEVsQlFVa3NSVUZCUlR0QlFVTm9ReXhuUWtGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4SlFVRkpMRVZCUVVVc1NVRkJTU3hEUVVGRExFTkJRVU03VTBGRE0wSXNRMEZCUXl4RFFVRkRPMHRCUTA0N08ybENRVlJuUWl4aFFVRmhPenRsUVZjeFFpeGpRVUZETEVsQlFVa3NSVUZCUlR0QlFVTlFMR2RDUVVGSkxFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNUVUZCVFN4RFFVRkRMRmRCUVZjc1JVRkJSVHRCUVVNNVFpeHZRa0ZCU1N4RFFVRkRMRWRCUVVjc1EwRkJReXhKUVVGSkxFTkJRVU1zVFVGQlRTeEZRVUZGTEVsQlFVa3NRMEZCUXl4RFFVRkRPMkZCUXk5Q08xTkJRMG83T3p0bFFVVkxMR2RDUVVGRExFbEJRVWtzUlVGQlJTeEpRVUZKTEVWQlFVVTdRVUZEWml4blFrRkJTU3hKUVVGSkxFTkJRVU1zU1VGQlNTeEZRVUZGTzBGQlExZ3NiMEpCUVVrc1EwRkJReXhSUVVGUkxFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4RFFVRkRMRTFCUVUwc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dGhRVU42UXp0VFFVTktPenM3WlVGSFZ5eHpRa0ZCUXl4SlFVRkpMRVZCUVVVN1FVRkRaaXhuUWtGQlNTeERRVUZETEZGQlFWRXNSMEZCUnl4RlFVRkZMRU5CUVVNN1FVRkRia0lzWjBKQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1ZVRkJWU3hIUVVGSExIRkRRVUZ6UWl4SlFVRkpMRU5CUVVNc1EwRkJRenRCUVVOMlJDeG5Ra0ZCU1N4RFFVRkRMRkZCUVZFc1EwRkJReXhWUVVGVkxFZEJRVWNzY1VOQlFYTkNMRWxCUVVrc1EwRkJReXhEUVVGRE8wRkJRM1pFTEdkQ1FVRkpMRU5CUVVNc1VVRkJVU3hEUVVGRExGVkJRVlVzUjBGQlJ5eHhRMEZCYzBJc1NVRkJTU3hEUVVGRExFTkJRVU03UVVGRGRrUXNaMEpCUVVrc1EwRkJReXhSUVVGUkxFTkJRVU1zVFVGQlRTeEhRVUZITEdsRFFVRnJRaXhKUVVGSkxFTkJRVU1zUTBGQlF6dFRRVU5zUkRzN08xZEJPVUpuUWl4aFFVRmhPenM3Y1VKQlFXSXNZVUZCWVNJc0ltWnBiR1VpT2lKRU9pOWhjWFZoTDJkbGIzZGhjaTl6Y21NdmMyOWphMlYwTDFOdlkydGxkRWhoYm1Sc1pYSXVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKcGJYQnZjblFnUTI5dWJtVmpkR2x2YmtoaGJtUnNaWElnWm5KdmJTQW5MaTlEYjI1dVpXTjBhVzl1U0dGdVpHeGxjaTVxY3ljN1hHNXBiWEJ2Y25RZ1VHeGhlV1Z5VFc5MlpVaGhibVJzWlhJZ1puSnZiU0FuTGk5UWJHRjVaWEpOYjNabFNHRnVaR3hsY2k1cWN5YzdYRzVwYlhCdmNuUWdVR3hoZVdWeVJtbHlaVWhoYm1Sc1pYSWdabkp2YlNBbkxpOVFiR0Y1WlhKR2FYSmxTR0Z1Wkd4bGNpNXFjeWM3WEc1cGJYQnZjblFnUTI5dGJXOXVTR0Z1Wkd4bGNpQm1jbTl0SUNjdUwwTnZiVzF2YmtoaGJtUnNaWEl1YW5Nbk8xeHVYRzVsZUhCdmNuUWdaR1ZtWVhWc2RDQmpiR0Z6Y3lCVGIyTnJaWFJJWVc1a2JHVnlJSHRjYmlBZ0lDQmpiMjV6ZEhKMVkzUnZjaWh6YVc4c0lHZGhiV1VwSUh0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTV6YVc4Z1BTQnphVzg3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVaMkZ0WlNBOUlHZGhiV1U3WEc0Z0lDQWdJQ0FnSUhaaGNpQjBhR0YwSUQwZ2RHaHBjenRjYmlBZ0lDQWdJQ0FnZEdocGN5NXBibWwwU0dGdVpHeGxjbk1vZEdocGN5NW5ZVzFsS1R0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTV6YVc4dWIyNG9KM0IxYkd3bkxDQm1kVzVqZEdsdmJpQW9aR0YwWVNrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnZEdoaGRDNTFjR1JoZEdVb1pHRjBZU3dnZEdoaGRDazdYRzRnSUNBZ0lDQWdJSDBwTzF4dUlDQWdJSDFjYmx4dUlDQWdJSEIxYzJnb1pHRjBZU2tnZTF4dUlDQWdJQ0FnSUNCcFppQW9kR2hwY3k1bllXMWxMbWRsYjNkaGNpNXpiMk5yWlhSU1pXRmtlU2tnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdkR2hwY3k1emFXOHVaVzFwZENnbmNIVnphQ2NzSUdSaGRHRXBPMXh1SUNBZ0lDQWdJQ0I5WEc0Z0lDQWdmVnh1WEc0Z0lDQWdkWEJrWVhSbEtHUmhkR0VzSUhSb1lYUXBJSHRjYmlBZ0lDQWdJQ0FnYVdZZ0tHUmhkR0V1Ym1GdFpTa2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTVvWVc1a2JHVnljMXRrWVhSaExtNWhiV1ZkTG1oaGJtUnNaU2hrWVhSaEtUdGNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lIMWNibHh1WEc0Z0lDQWdhVzVwZEVoaGJtUnNaWEp6S0dkaGJXVXBJSHRjYmlBZ0lDQWdJQ0FnZEdocGN5NW9ZVzVrYkdWeWN5QTlJSHQ5TzF4dUlDQWdJQ0FnSUNCMGFHbHpMbWhoYm1Sc1pYSnpMbU52Ym01bFkzUnBiMjRnUFNCdVpYY2dRMjl1Ym1WamRHbHZia2hoYm1Sc1pYSW9aMkZ0WlNrN1hHNGdJQ0FnSUNBZ0lIUm9hWE11YUdGdVpHeGxjbk11Y0d4aGVXVnlUVzkyWlNBOUlHNWxkeUJRYkdGNVpYSk5iM1psU0dGdVpHeGxjaWhuWVcxbEtUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1b1lXNWtiR1Z5Y3k1d2JHRjVaWEpHYVhKbElEMGdibVYzSUZCc1lYbGxja1pwY21WSVlXNWtiR1Z5S0dkaGJXVXBPMXh1SUNBZ0lDQWdJQ0IwYUdsekxtaGhibVJzWlhKekxtTnZiVzF2YmlBOUlHNWxkeUJEYjIxdGIyNUlZVzVrYkdWeUtHZGhiV1VwTzF4dUlDQWdJSDFjYm4waVhYMD0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgQm9vdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm9vdCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvb3QpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhCb290LCBbe1xuICAgICAgICBrZXk6ICdwcmVsb2FkJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByZWxvYWQoKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ByZWxvYWRlcicsICdhc3NldHMvaW1hZ2VzL2xvYWRpbmdfYmFyLnBuZycpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjcmVhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgICAgICAgLy9uYW1lc3BhY2VcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nZW93YXIgPSB7XG4gICAgICAgICAgICAgICAgc2VydmVyOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5pbnB1dC5tYXhQb2ludGVycyA9IDE7XG4gICAgICAgICAgICAvL21ha2Ugc3VyZSB0aGUgZ2FtZSBydW5uaW5nIGV2ZW4gbG9vc2UgZm9jdXNcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5zdGFnZS5kaXNhYmxlVmlzaWJpbGl0eUNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmdhbWUuc3RhdGUuc3RhcnQoJ3ByZWxvYWQnKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBCb290O1xufSkoKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gQm9vdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtRNkwyRnhkV0V2WjJWdmQyRnlMM055WXk5emRHRjBaWE12UW05dmRDNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPenM3T3pzN096czdPMGxCUVhGQ0xFbEJRVWs3WVVGQlNpeEpRVUZKT3poQ1FVRktMRWxCUVVrN096dHBRa0ZCU2l4SlFVRkpPenRsUVVOa0xHMUNRVUZITzBGQlEwNHNaMEpCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEZkQlFWY3NSVUZCUlN3clFrRkJLMElzUTBGQlF5eERRVUZETzFOQlEycEZPenM3WlVGRlN5eHJRa0ZCUnpzN1FVRkZUQ3huUWtGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4TlFVRk5MRWRCUVVjN1FVRkRaaXh6UWtGQlRTeEZRVUZITEhWQ1FVRjFRanRoUVVOdVF5eERRVUZETzBGQlEwWXNaMEpCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEZkQlFWY3NSMEZCUnl4RFFVRkRMRU5CUVVNN08wRkJSV2hETEdkQ1FVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eDFRa0ZCZFVJc1IwRkJSeXhKUVVGSkxFTkJRVU03UVVGREwwTXNaMEpCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEV0QlFVc3NRMEZCUXl4VFFVRlRMRU5CUVVNc1EwRkJRenRUUVVOd1F6czdPMWRCWkdkQ0xFbEJRVWs3T3p0eFFrRkJTaXhKUVVGSklpd2labWxzWlNJNklrUTZMMkZ4ZFdFdloyVnZkMkZ5TDNOeVl5OXpkR0YwWlhNdlFtOXZkQzVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkltVjRjRzl5ZENCa1pXWmhkV3gwSUdOc1lYTnpJRUp2YjNRZ2UxeHVJQ0FnSUhCeVpXeHZZV1FvS1NCN1hHNGdJQ0FnSUNBZ0lIUm9hWE11Ykc5aFpDNXBiV0ZuWlNnbmNISmxiRzloWkdWeUp5d2dKMkZ6YzJWMGN5OXBiV0ZuWlhNdmJHOWhaR2x1WjE5aVlYSXVjRzVuSnlrN1hHNGdJQ0FnZlZ4dVhHNGdJQ0FnWTNKbFlYUmxLQ2tnZTF4dUlDQWdJQ0FnSUNBdkwyNWhiV1Z6Y0dGalpWeHVJQ0FnSUNBZ0lDQjBhR2x6TG1kaGJXVXVaMlZ2ZDJGeUlEMGdlMXh1SUNBZ0lDQWdJQ0FnSUNBZ2MyVnlkbVZ5SURvZ0oyaDBkSEE2THk5c2IyTmhiR2h2YzNRNk16QXdNQ2RjYmlBZ0lDQWdJQ0FnZlRzZ1hHNGdJQ0FnSUNBZ0lIUm9hWE11WjJGdFpTNXBibkIxZEM1dFlYaFFiMmx1ZEdWeWN5QTlJREU3WEc0Z0lDQWdJQ0FnSUM4dmJXRnJaU0J6ZFhKbElIUm9aU0JuWVcxbElISjFibTVwYm1jZ1pYWmxiaUJzYjI5elpTQm1iMk4xYzF4dUlDQWdJQ0FnSUNCMGFHbHpMbWRoYldVdWMzUmhaMlV1WkdsellXSnNaVlpwYzJsaWFXeHBkSGxEYUdGdVoyVWdQU0IwY25WbE8xeHVJQ0FnSUNBZ0lDQjBhR2x6TG1kaGJXVXVjM1JoZEdVdWMzUmhjblFvSjNCeVpXeHZZV1FuS1R0Y2JpQWdJQ0I5WEc1OUlsMTkiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9jb21tb25VdGlsc0pzID0gcmVxdWlyZSgnLi4vY29tbW9uL1V0aWxzLmpzJyk7XG5cbnZhciBfY29tbW9uVXRpbHNKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21tb25VdGlsc0pzKTtcblxudmFyIF9wcmVmYWJzUGxheWVyc1BsYXllckZhY3RvcnlKcyA9IHJlcXVpcmUoJy4uL3ByZWZhYnMvcGxheWVycy9QbGF5ZXJGYWN0b3J5LmpzJyk7XG5cbnZhciBfcHJlZmFic1BsYXllcnNQbGF5ZXJGYWN0b3J5SnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJlZmFic1BsYXllcnNQbGF5ZXJGYWN0b3J5SnMpO1xuXG52YXIgX3NvY2tldFNvY2tldEhhbmRsZXJKcyA9IHJlcXVpcmUoXCIuLi9zb2NrZXQvU29ja2V0SGFuZGxlci5qc1wiKTtcblxudmFyIF9zb2NrZXRTb2NrZXRIYW5kbGVySnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc29ja2V0U29ja2V0SGFuZGxlckpzKTtcblxudmFyIEdhbWUgPSAoZnVuY3Rpb24gKF9QaGFzZXIkU3RhdGUpIHtcbiAgICBfaW5oZXJpdHMoR2FtZSwgX1BoYXNlciRTdGF0ZSk7XG5cbiAgICBmdW5jdGlvbiBHYW1lKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2FtZSk7XG5cbiAgICAgICAgX2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoR2FtZS5wcm90b3R5cGUpLCAnY29uc3RydWN0b3InLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhHYW1lLCBbe1xuICAgICAgICBrZXk6ICdjcmVhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgICAgICAgLy9zdGFnZVxuICAgICAgICAgICAgdGhpcy5nYW1lLnBoeXNpY3Muc3RhcnRTeXN0ZW0oUGhhc2VyLlBoeXNpY3MuUDJKUyk7XG4gICAgICAgICAgICB0aGlzLmdhbWUuc3RhZ2UuYmFja2dyb3VuZENvbG9yID0gJyMyODI2MjYnO1xuICAgICAgICAgICAgLy9mYWN0b3JpZXNcbiAgICAgICAgICAgIHRoaXMucGxheWVyRmFjdG9yeSA9IG5ldyBfcHJlZmFic1BsYXllcnNQbGF5ZXJGYWN0b3J5SnMyWydkZWZhdWx0J10odGhpcy5nYW1lKTtcbiAgICAgICAgICAgIC8vcGxheWVyIGdyb3VwXG4gICAgICAgICAgICB2YXIgcGxheWVyc0dyb3VwID0gdGhpcy5nYW1lLmFkZC5ncm91cCgpO1xuICAgICAgICAgICAgdGhpcy5nYW1lLmdlb3dhci5wbGF5ZXJzR3JvdXAgPSBwbGF5ZXJzR3JvdXA7XG4gICAgICAgICAgICAvL2NvbGxpc2lvbiBncm91cFxuICAgICAgICAgICAgdGhpcy5nYW1lLmdlb3dhci5wbGF5ZXJDb2xsaXNpb25Hcm91cCA9IHRoaXMuZ2FtZS5waHlzaWNzLnAyLmNyZWF0ZUNvbGxpc2lvbkdyb3VwKCk7XG4gICAgICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyLmJ1bGxldENvbGxpc2lvbkdyb3VwID0gdGhpcy5nYW1lLnBoeXNpY3MucDIuY3JlYXRlQ29sbGlzaW9uR3JvdXAoKTtcbiAgICAgICAgICAgIC8vYWZ0ZXIgY3JlYXRlIG5ldyBjb2xsaXNpb24gZ3JvdXAgdXBkYXRlIHRoZSBncm91cCB0byBjb2xsaWRlIHdpdGggYm91bmRzXG4gICAgICAgICAgICB0aGlzLmdhbWUucGh5c2ljcy5wMi51cGRhdGVCb3VuZHNDb2xsaXNpb25Hcm91cCgpO1xuICAgICAgICAgICAgLy9wbGF5ZXJcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gdGhpcy5wbGF5ZXJGYWN0b3J5LmNyZWF0ZVBsYXllcigpO1xuICAgICAgICAgICAgdGhpcy5nYW1lLmFkZC5leGlzdGluZyh0aGlzLnBsYXllcik7XG4gICAgICAgICAgICBwbGF5ZXJzR3JvdXAuYWRkKHRoaXMucGxheWVyKTtcbiAgICAgICAgICAgIC8vY2FjaGUgY3VycmVudCBwbGF5ZXJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nZW93YXIuY3VycmVudFBsYXllciA9IHRoaXMucGxheWVyO1xuICAgICAgICAgICAgLy9zZXQgdXAgc29ja2V0XG4gICAgICAgICAgICB0aGlzLmdhbWUuZ2Vvd2FyLnNvY2tldEhhbmRsZXIgPSBuZXcgX3NvY2tldFNvY2tldEhhbmRsZXJKczJbJ2RlZmF1bHQnXShpbyh0aGlzLmdhbWUuZ2Vvd2FyLnNlcnZlciksIHRoaXMuZ2FtZSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3VwZGF0ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoKSB7fVxuICAgIH1dKTtcblxuICAgIHJldHVybiBHYW1lO1xufSkoUGhhc2VyLlN0YXRlKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gR2FtZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtRNkwyRnhkV0V2WjJWdmQyRnlMM055WXk5emRHRjBaWE12UjJGdFpTNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPenM3T3pzN096czdPenM3T3pzN096WkNRVUZyUWl4dlFrRkJiMEk3T3pzN05rTkJRMW9zY1VOQlFYRkRPenM3TzNGRFFVTnlReXcwUWtGQk5FSTdPenM3U1VGRmFrTXNTVUZCU1R0alFVRktMRWxCUVVrN08yRkJRVW9zU1VGQlNUczRRa0ZCU2l4SlFVRkpPenR0UTBGQlNpeEpRVUZKT3pzN2FVSkJRVW9zU1VGQlNUczdaVUZGWml4clFrRkJSenM3UVVGRlRDeG5Ra0ZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhQUVVGUExFTkJRVU1zVjBGQlZ5eERRVUZETEUxQlFVMHNRMEZCUXl4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03UVVGRGJrUXNaMEpCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEdWQlFXVXNSMEZCUnl4VFFVRlRMRU5CUVVNN08wRkJSVFZETEdkQ1FVRkpMRU5CUVVNc1lVRkJZU3hIUVVGSExDdERRVUZyUWl4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03TzBGQlJXeEVMR2RDUVVGSkxGbEJRVmtzUjBGQlJ5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWRCUVVjc1EwRkJReXhMUVVGTExFVkJRVVVzUTBGQlF6dEJRVU42UXl4blFrRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNXVUZCV1N4SFFVRkhMRmxCUVZrc1EwRkJRenM3UVVGRk4wTXNaMEpCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETEc5Q1FVRnZRaXhIUVVGSExFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRVZCUVVVc1EwRkJReXh2UWtGQmIwSXNSVUZCUlN4RFFVRkRPMEZCUTNCR0xHZENRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRTFCUVUwc1EwRkJReXh2UWtGQmIwSXNSMEZCUnl4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFOUJRVThzUTBGQlF5eEZRVUZGTEVOQlFVTXNiMEpCUVc5Q0xFVkJRVVVzUTBGQlF6czdRVUZGY0VZc1owSkJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRVZCUVVVc1EwRkJReXd3UWtGQk1FSXNSVUZCUlN4RFFVRkRPenRCUVVWc1JDeG5Ra0ZCU1N4RFFVRkRMRTFCUVUwc1IwRkJSeXhKUVVGSkxFTkJRVU1zWVVGQllTeERRVUZETEZsQlFWa3NSVUZCUlN4RFFVRkRPMEZCUTJoRUxHZENRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWRCUVVjc1EwRkJReXhSUVVGUkxFTkJRVU1zU1VGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4RFFVRkRPMEZCUTNCRExIZENRVUZaTEVOQlFVTXNSMEZCUnl4RFFVRkRMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zUTBGQlF6czdRVUZGT1VJc1owSkJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNUVUZCVFN4RFFVRkRMR0ZCUVdFc1IwRkJSeXhKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZET3p0QlFVVTNReXhuUWtGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1lVRkJZU3hIUVVGSExIVkRRVUZyUWl4RlFVRkZMRU5CUVVNc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNUVUZCVFN4RFFVRkRMRVZCUVVVc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzFOQlF6bEdPenM3WlVGSFN5eHJRa0ZCUnl4RlFVTlNPenM3VjBFMVFtZENMRWxCUVVrN1IwRkJVeXhOUVVGTkxFTkJRVU1zUzBGQlN6czdjVUpCUVhwQ0xFbEJRVWtpTENKbWFXeGxJam9pUkRvdllYRjFZUzluWlc5M1lYSXZjM0pqTDNOMFlYUmxjeTlIWVcxbExtcHpJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpYVcxd2IzSjBJRlYwYVd4eklHWnliMjBnSnk0dUwyTnZiVzF2Ymk5VmRHbHNjeTVxY3ljN1hHNXBiWEJ2Y25RZ1VHeGhlV1Z5Um1GamRHOXllU0JtY205dElDY3VMaTl3Y21WbVlXSnpMM0JzWVhsbGNuTXZVR3hoZVdWeVJtRmpkRzl5ZVM1cWN5YzdYRzVwYlhCdmNuUWdVMjlqYTJWMFNHRnVaR3hsY2lCbWNtOXRJRndpTGk0dmMyOWphMlYwTDFOdlkydGxkRWhoYm1Sc1pYSXVhbk5jSWp0Y2JseHVaWGh3YjNKMElHUmxabUYxYkhRZ1kyeGhjM01nUjJGdFpTQmxlSFJsYm1SeklGQm9ZWE5sY2k1VGRHRjBaU0I3WEc1Y2JpQWdJQ0JqY21WaGRHVW9LU0I3WEc0Z0lDQWdJQ0FnSUM4dmMzUmhaMlZjYmlBZ0lDQWdJQ0FnZEdocGN5NW5ZVzFsTG5Cb2VYTnBZM011YzNSaGNuUlRlWE4wWlcwb1VHaGhjMlZ5TGxCb2VYTnBZM011VURKS1V5azdYRzRnSUNBZ0lDQWdJSFJvYVhNdVoyRnRaUzV6ZEdGblpTNWlZV05yWjNKdmRXNWtRMjlzYjNJZ1BTQW5Jekk0TWpZeU5pYzdYRzRnSUNBZ0lDQWdJQzh2Wm1GamRHOXlhV1Z6WEc0Z0lDQWdJQ0FnSUhSb2FYTXVjR3hoZVdWeVJtRmpkRzl5ZVNBOUlHNWxkeUJRYkdGNVpYSkdZV04wYjNKNUtIUm9hWE11WjJGdFpTazdYRzRnSUNBZ0lDQWdJQzh2Y0d4aGVXVnlJR2R5YjNWd1hHNGdJQ0FnSUNBZ0lIWmhjaUJ3YkdGNVpYSnpSM0p2ZFhBZ1BTQjBhR2x6TG1kaGJXVXVZV1JrTG1keWIzVndLQ2s3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVaMkZ0WlM1blpXOTNZWEl1Y0d4aGVXVnljMGR5YjNWd0lEMGdjR3hoZVdWeWMwZHliM1Z3TzF4dUlDQWdJQ0FnSUNBdkwyTnZiR3hwYzJsdmJpQm5jbTkxY0Z4dUlDQWdJQ0FnSUNCMGFHbHpMbWRoYldVdVoyVnZkMkZ5TG5Cc1lYbGxja052Ykd4cGMybHZia2R5YjNWd0lEMGdkR2hwY3k1bllXMWxMbkJvZVhOcFkzTXVjREl1WTNKbFlYUmxRMjlzYkdsemFXOXVSM0p2ZFhBb0tUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1bllXMWxMbWRsYjNkaGNpNWlkV3hzWlhSRGIyeHNhWE5wYjI1SGNtOTFjQ0E5SUhSb2FYTXVaMkZ0WlM1d2FIbHphV056TG5BeUxtTnlaV0YwWlVOdmJHeHBjMmx2YmtkeWIzVndLQ2s3WEc0Z0lDQWdJQ0FnSUM4dllXWjBaWElnWTNKbFlYUmxJRzVsZHlCamIyeHNhWE5wYjI0Z1ozSnZkWEFnZFhCa1lYUmxJSFJvWlNCbmNtOTFjQ0IwYnlCamIyeHNhV1JsSUhkcGRHZ2dZbTkxYm1SeklGeHVJQ0FnSUNBZ0lDQjBhR2x6TG1kaGJXVXVjR2g1YzJsamN5NXdNaTUxY0dSaGRHVkNiM1Z1WkhORGIyeHNhWE5wYjI1SGNtOTFjQ2dwTzF4dUlDQWdJQ0FnSUNBdkwzQnNZWGxsY2x4dUlDQWdJQ0FnSUNCMGFHbHpMbkJzWVhsbGNpQTlJSFJvYVhNdWNHeGhlV1Z5Um1GamRHOXllUzVqY21WaGRHVlFiR0Y1WlhJb0tUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1bllXMWxMbUZrWkM1bGVHbHpkR2x1WnloMGFHbHpMbkJzWVhsbGNpazdYRzRnSUNBZ0lDQWdJSEJzWVhsbGNuTkhjbTkxY0M1aFpHUW9kR2hwY3k1d2JHRjVaWElwTzF4dUlDQWdJQ0FnSUNBdkwyTmhZMmhsSUdOMWNuSmxiblFnY0d4aGVXVnlYRzRnSUNBZ0lDQWdJSFJvYVhNdVoyRnRaUzVuWlc5M1lYSXVZM1Z5Y21WdWRGQnNZWGxsY2lBOUlIUm9hWE11Y0d4aGVXVnlPMXh1SUNBZ0lDQWdJQ0F2TDNObGRDQjFjQ0J6YjJOclpYUmNiaUFnSUNBZ0lDQWdkR2hwY3k1bllXMWxMbWRsYjNkaGNpNXpiMk5yWlhSSVlXNWtiR1Z5SUQwZ2JtVjNJRk52WTJ0bGRFaGhibVJzWlhJb2FXOG9kR2hwY3k1bllXMWxMbWRsYjNkaGNpNXpaWEoyWlhJcExDQjBhR2x6TG1kaGJXVXBPMXh1SUNBZ0lIMWNibHh1WEc0Z0lDQWdkWEJrWVhSbEtDa2dlMXh1SUNBZ0lIMWNibHh1ZlNKZGZRPT0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgUHJlbG9hZCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJlbG9hZCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByZWxvYWQpO1xuXG4gICAgICAgIHRoaXMuYXNzZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnJlYWR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFByZWxvYWQsIFt7XG4gICAgICAgIGtleTogJ3ByZWxvYWQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHJlbG9hZCgpIHt9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdjcmVhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgICAgICAgdGhpcy5nYW1lLnN0YWdlLmJhY2tncm91bmRDb2xvciA9ICcjMjgyNjI2JztcbiAgICAgICAgICAgIHRoaXMuYXNzZXQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5nYW1lLndpZHRoIC8gMiwgdGhpcy5nYW1lLmhlaWdodCAvIDIsICdwcmVsb2FkZXInKTtcbiAgICAgICAgICAgIHRoaXMuYXNzZXQuYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcbiAgICAgICAgICAgIHRoaXMuYXNzZXQuc2NhbGUuc2V0VG8oMC4zLCAwLjMpO1xuXG4gICAgICAgICAgICB0aGlzLmxvYWQub25Mb2FkQ29tcGxldGUuYWRkT25jZSh0aGlzLm9uTG9hZENvbXBsZXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMubG9hZC5zZXRQcmVsb2FkU3ByaXRlKHRoaXMuYXNzZXQpO1xuXG4gICAgICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsYXknLCAnYXNzZXRzL2ltYWdlcy9wbGF5LnBuZycpO1xuXG4gICAgICAgICAgICAvL3N0YXJ0IGxvYWRcbiAgICAgICAgICAgIHRoaXMubG9hZC5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICd1cGRhdGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkeSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5zdGF0ZS5zdGFydCgnc3RhcnRTY3JlZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnb25Mb2FkQ29tcGxldGUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25Mb2FkQ29tcGxldGUoKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBQcmVsb2FkO1xufSkoKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gUHJlbG9hZDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtRNkwyRnhkV0V2WjJWdmQyRnlMM055WXk5emRHRjBaWE12VUhKbGJHOWhaQzVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pT3pzN096czdPenM3TzBsQlFYRkNMRTlCUVU4N1FVRkZZaXhoUVVaTkxFOUJRVThzUjBGRlZqczRRa0ZHUnl4UFFVRlBPenRCUVVkd1FpeFpRVUZKTEVOQlFVTXNTMEZCU3l4SFFVRkhMRWxCUVVrc1EwRkJRenRCUVVOc1FpeFpRVUZKTEVOQlFVTXNTMEZCU3l4SFFVRkhMRXRCUVVzc1EwRkJRenRMUVVOMFFqczdhVUpCVEdkQ0xFOUJRVTg3TzJWQlQycENMRzFDUVVGSExFVkJRMVE3T3p0bFFVVkxMR3RDUVVGSE8wRkJRMHdzWjBKQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExHVkJRV1VzUjBGQlJ5eFRRVUZUTEVOQlFVTTdRVUZETlVNc1owSkJRVWtzUTBGQlF5eExRVUZMTEVkQlFVY3NTVUZCU1N4RFFVRkRMRWRCUVVjc1EwRkJReXhOUVVGTkxFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4TFFVRkxMRWRCUVVjc1EwRkJReXhGUVVGRkxFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNUVUZCVFN4SFFVRkhMRU5CUVVNc1JVRkJSU3hYUVVGWExFTkJRVU1zUTBGQlF6dEJRVU55Uml4blFrRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eE5RVUZOTEVOQlFVTXNTMEZCU3l4RFFVRkRMRWRCUVVjc1JVRkJSU3hIUVVGSExFTkJRVU1zUTBGQlF6dEJRVU5zUXl4blFrRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eExRVUZMTEVOQlFVTXNTMEZCU3l4RFFVRkRMRWRCUVVjc1JVRkJSU3hIUVVGSExFTkJRVU1zUTBGQlF6czdRVUZGYWtNc1owSkJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNZMEZCWXl4RFFVRkRMRTlCUVU4c1EwRkJReXhKUVVGSkxFTkJRVU1zWTBGQll5eEZRVUZGTEVsQlFVa3NRMEZCUXl4RFFVRkRPMEZCUXpWRUxHZENRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMR2RDUVVGblFpeERRVUZETEVsQlFVa3NRMEZCUXl4TFFVRkxMRU5CUVVNc1EwRkJRenM3UVVGRmRrTXNaMEpCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEUxQlFVMHNSVUZCUXl4M1FrRkJkMElzUTBGQlF5eERRVUZET3pzN1FVRkhha1FzWjBKQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhGUVVGRkxFTkJRVU03VTBGRGNrSTdPenRsUVVWTExHdENRVUZIT3p0QlFVVk1MR2RDUVVGSkxFbEJRVWtzUTBGQlF5eExRVUZMTEVWQlFVVTdRVUZEV2l4dlFrRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNTMEZCU3l4RFFVRkRMR0ZCUVdFc1EwRkJReXhEUVVGRE8yRkJRM2hETzFOQlJVbzdPenRsUVVWaExEQkNRVUZITzBGQlEySXNaMEpCUVVrc1EwRkJReXhMUVVGTExFZEJRVWNzU1VGQlNTeERRVUZETzFOQlEzSkNPenM3VjBGdVEyZENMRTlCUVU4N096dHhRa0ZCVUN4UFFVRlBJaXdpWm1sc1pTSTZJa1E2TDJGeGRXRXZaMlZ2ZDJGeUwzTnlZeTl6ZEdGMFpYTXZVSEpsYkc5aFpDNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1WNGNHOXlkQ0JrWldaaGRXeDBJR05zWVhOeklGQnlaV3h2WVdRZ2UxeHVYRzRnSUNBZ1kyOXVjM1J5ZFdOMGIzSW9LU0I3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVZWE56WlhRZ1BTQnVkV3hzTzF4dUlDQWdJQ0FnSUNCMGFHbHpMbkpsWVdSNUlEMGdabUZzYzJVN1hHNGdJQ0FnZlZ4dVhHNGdJQ0FnY0hKbGJHOWhaQ2dwSUh0Y2JpQWdJQ0I5WEc1Y2JpQWdJQ0JqY21WaGRHVW9LU0I3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVaMkZ0WlM1emRHRm5aUzVpWVdOclozSnZkVzVrUTI5c2IzSWdQU0FuSXpJNE1qWXlOaWM3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVZWE56WlhRZ1BTQjBhR2x6TG1Ga1pDNXpjSEpwZEdVb2RHaHBjeTVuWVcxbExuZHBaSFJvSUM4Z01pd2dkR2hwY3k1bllXMWxMbWhsYVdkb2RDQXZJRElzSUNkd2NtVnNiMkZrWlhJbktUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1aGMzTmxkQzVoYm1Ob2IzSXVjMlYwVkc4b01DNDFMQ0F3TGpVcE8xeHVJQ0FnSUNBZ0lDQjBhR2x6TG1GemMyVjBMbk5qWVd4bExuTmxkRlJ2S0RBdU15d2dNQzR6S1R0Y2JseHVJQ0FnSUNBZ0lDQjBhR2x6TG14dllXUXViMjVNYjJGa1EyOXRjR3hsZEdVdVlXUmtUMjVqWlNoMGFHbHpMbTl1VEc5aFpFTnZiWEJzWlhSbExDQjBhR2x6S1R0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTVzYjJGa0xuTmxkRkJ5Wld4dllXUlRjSEpwZEdVb2RHaHBjeTVoYzNObGRDazdYRzVjYmlBZ0lDQWdJQ0FnZEdocGN5NXNiMkZrTG1sdFlXZGxLQ2R3YkdGNUp5d25ZWE56WlhSekwybHRZV2RsY3k5d2JHRjVMbkJ1WnljcE8xeHVYRzRnSUNBZ0lDQWdJQzh2YzNSaGNuUWdiRzloWkZ4dUlDQWdJQ0FnSUNCMGFHbHpMbXh2WVdRdWMzUmhjblFvS1R0Y2JpQWdJQ0I5WEc1Y2JpQWdJQ0IxY0dSaGRHVW9LU0I3WEc1Y2JpQWdJQ0FnSUNBZ2FXWWdLSFJvYVhNdWNtVmhaSGtwSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJSFJvYVhNdVoyRnRaUzV6ZEdGMFpTNXpkR0Z5ZENnbmMzUmhjblJUWTNKbFpXNG5LVHRjYmlBZ0lDQWdJQ0FnZlZ4dVhHNGdJQ0FnZlZ4dVhHNGdJQ0FnYjI1TWIyRmtRMjl0Y0d4bGRHVW9LU0I3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVjbVZoWkhrZ1BTQjBjblZsTzF4dUlDQWdJSDFjYm4waVhYMD0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgU3RhcnRTY3JlZW4gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXJ0U2NyZWVuKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RhcnRTY3JlZW4pO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhTdGFydFNjcmVlbiwgW3tcbiAgICAgICAga2V5OiAnY3JlYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5zdGFnZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzI4MjYyNic7XG4gICAgICAgICAgICB0aGlzLnBsYXkgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5nYW1lLndpZHRoIC8gMiwgdGhpcy5nYW1lLmhlaWdodCAvIDIsICdwbGF5Jyk7XG4gICAgICAgICAgICB0aGlzLnBsYXkuYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcbiAgICAgICAgICAgIHRoaXMucGxheS5zY2FsZS5zZXRUbygwLjMsIDAuMyk7XG4gICAgICAgICAgICB0aGlzLnBsYXkuaW5wdXRFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGxheS5ldmVudHMub25JbnB1dERvd24uYWRkKHRoaXMuc3RhcnRQbGF5LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGxheS5ldmVudHMub25JbnB1dE92ZXIuYWRkKHRoaXMubW91c2VPdmVyLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGxheS5ldmVudHMub25JbnB1dE91dC5hZGQodGhpcy5tb3VzZU91dCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0YXJ0UGxheScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydFBsYXkoKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnN0YXJ0KCdnYW1lJyk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ21vdXNlT3ZlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBtb3VzZU92ZXIoKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnbW91c2VPdXQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbW91c2VPdXQoKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWUuY2FudmFzLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTdGFydFNjcmVlbjtcbn0pKCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFN0YXJ0U2NyZWVuO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJa1E2TDJGeGRXRXZaMlZ2ZDJGeUwzTnlZeTl6ZEdGMFpYTXZVM1JoY25SVFkzSmxaVzR1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenM3T3p0SlFVRnhRaXhYUVVGWE8yRkJRVmdzVjBGQlZ6czRRa0ZCV0N4WFFVRlhPenM3YVVKQlFWZ3NWMEZCVnpzN1pVRkRkRUlzYTBKQlFVYzdRVUZEVEN4blFrRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNaVUZCWlN4SFFVRkhMRk5CUVZNc1EwRkJRenRCUVVNMVF5eG5Ra0ZCU1N4RFFVRkRMRWxCUVVrc1IwRkJSeXhKUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETEUxQlFVMHNRMEZCUXl4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFdEJRVXNzUjBGQlJ5eERRVUZETEVWQlFVVXNTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhOUVVGTkxFZEJRVWNzUTBGQlF5eEZRVUZGTEUxQlFVMHNRMEZCUXl4RFFVRkRPMEZCUXk5RkxHZENRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRTFCUVUwc1EwRkJReXhMUVVGTExFTkJRVU1zUjBGQlJ5eEZRVUZGTEVkQlFVY3NRMEZCUXl4RFFVRkRPMEZCUTJwRExHZENRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhMUVVGTExFTkJRVU1zUjBGQlJ5eEZRVUZGTEVkQlFVY3NRMEZCUXl4RFFVRkRPMEZCUTJoRExHZENRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRmxCUVZrc1IwRkJSeXhKUVVGSkxFTkJRVU03UVVGRE9VSXNaMEpCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETEZkQlFWY3NRMEZCUXl4SFFVRkhMRU5CUVVNc1NVRkJTU3hEUVVGRExGTkJRVk1zUlVGQlJTeEpRVUZKTEVOQlFVTXNRMEZCUXp0QlFVTjJSQ3huUWtGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1YwRkJWeXhEUVVGRExFZEJRVWNzUTBGQlF5eEpRVUZKTEVOQlFVTXNVMEZCVXl4RlFVRkZMRWxCUVVrc1EwRkJReXhEUVVGRE8wRkJRM1pFTEdkQ1FVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eFZRVUZWTEVOQlFVTXNSMEZCUnl4RFFVRkRMRWxCUVVrc1EwRkJReXhSUVVGUkxFVkJRVVVzU1VGQlNTeERRVUZETEVOQlFVTTdVMEZEZUVRN096dGxRVVZSTEhGQ1FVRkhPMEZCUTFJc1owSkJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNTMEZCU3l4RFFVRkRMRTFCUVUwc1EwRkJReXhEUVVGRE8xTkJRelZDT3pzN1pVRkZVU3h4UWtGQlJ6dEJRVU5TTEdkQ1FVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eExRVUZMTEVOQlFVTXNUVUZCVFN4SFFVRkhMRk5CUVZNc1EwRkJRenRUUVVNM1F6czdPMlZCUlU4c2IwSkJRVWM3UVVGRFVDeG5Ra0ZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zUzBGQlN5eERRVUZETEUxQlFVMHNSMEZCUnl4VFFVRlRMRU5CUVVNN1UwRkROME03T3p0WFFYUkNaMElzVjBGQlZ6czdPM0ZDUVVGWUxGZEJRVmNpTENKbWFXeGxJam9pUkRvdllYRjFZUzluWlc5M1lYSXZjM0pqTDNOMFlYUmxjeTlUZEdGeWRGTmpjbVZsYmk1cWN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbVY0Y0c5eWRDQmtaV1poZFd4MElHTnNZWE56SUZOMFlYSjBVMk55WldWdUlIdGNiaUFnSUNCamNtVmhkR1VvS1NCN1hHNGdJQ0FnSUNBZ0lIUm9hWE11WjJGdFpTNXpkR0ZuWlM1aVlXTnJaM0p2ZFc1a1EyOXNiM0lnUFNBbkl6STRNall5TmljN1hHNGdJQ0FnSUNBZ0lIUm9hWE11Y0d4aGVTQTlJSFJvYVhNdVlXUmtMbk53Y21sMFpTaDBhR2x6TG1kaGJXVXVkMmxrZEdnZ0x5QXlMQ0IwYUdsekxtZGhiV1V1YUdWcFoyaDBJQzhnTWl3Z0ozQnNZWGtuS1R0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTV3YkdGNUxtRnVZMmh2Y2k1elpYUlVieWd3TGpVc0lEQXVOU2s3WEc0Z0lDQWdJQ0FnSUhSb2FYTXVjR3hoZVM1elkyRnNaUzV6WlhSVWJ5Z3dMak1zSURBdU15azdYRzRnSUNBZ0lDQWdJSFJvYVhNdWNHeGhlUzVwYm5CMWRFVnVZV0pzWldRZ1BTQjBjblZsTzF4dUlDQWdJQ0FnSUNCMGFHbHpMbkJzWVhrdVpYWmxiblJ6TG05dVNXNXdkWFJFYjNkdUxtRmtaQ2gwYUdsekxuTjBZWEowVUd4aGVTd2dkR2hwY3lrN1hHNGdJQ0FnSUNBZ0lIUm9hWE11Y0d4aGVTNWxkbVZ1ZEhNdWIyNUpibkIxZEU5MlpYSXVZV1JrS0hSb2FYTXViVzkxYzJWUGRtVnlMQ0IwYUdsektUdGNiaUFnSUNBZ0lDQWdkR2hwY3k1d2JHRjVMbVYyWlc1MGN5NXZia2x1Y0hWMFQzVjBMbUZrWkNoMGFHbHpMbTF2ZFhObFQzVjBMQ0IwYUdsektUdGNiaUFnSUNCOVhHNWNiaUFnSUNCemRHRnlkRkJzWVhrb0tTQjdYRzRnSUNBZ0lDQWdJSFJvYVhNdWMzUmhkR1V1YzNSaGNuUW9KMmRoYldVbktUdGNiaUFnSUNCOVhHNWNiaUFnSUNCdGIzVnpaVTkyWlhJb0tTQjdYRzRnSUNBZ0lDQWdJSFJvYVhNdVoyRnRaUzVqWVc1MllYTXVjM1I1YkdVdVkzVnljMjl5SUQwZ0ozQnZhVzUwWlhJbk8xeHVJQ0FnSUgxY2JseHVJQ0FnSUcxdmRYTmxUM1YwS0NrZ2UxeHVJQ0FnSUNBZ0lDQjBhR2x6TG1kaGJXVXVZMkZ1ZG1GekxuTjBlV3hsTG1OMWNuTnZjaUE5SUNka1pXWmhkV3gwSnp0Y2JpQWdJQ0I5WEc1Y2JuMGdJbDE5IiwibW9kdWxlLmV4cG9ydHM9e1xuICAgIFwiaGVhZFwiOiB7XG4gICAgICAgIFwic3R5bGVcIjogXCJzdHJva2VcIixcbiAgICAgICAgXCJjdHhQcm9wXCIgOiB7XG4gICAgICAgICAgICBcImxpbmVXaXRoXCIgOiBcIjJcIlxuICAgICAgICB9LFxuICAgICAgICBcImRyYXdcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiZHJhd1R5cGVcIjogXCJtb3ZlXCIsXG4gICAgICAgICAgICAgICAgXCJ4XCI6IFwiJHtjYW52YXMud2lkdGgvMn1cIixcbiAgICAgICAgICAgICAgICBcInlcIjogXCIwXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJkcmF3VHlwZVwiOiBcImxpbmVcIixcbiAgICAgICAgICAgICAgICBcInhcIjogXCIke2NhbnZhcy53aWR0aC8yfVwiLFxuICAgICAgICAgICAgICAgIFwieVwiOiBcIiR7Y2FudmFzLmhlaWdodCAtIGNhbnZhcy53aWR0aH1cIlxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfSxcbiAgICBcImJvZHlcIjoge1xuICAgICAgICBcInN0eWxlXCI6IFwiZmlsbFwiLFxuICAgICAgICBcImRyYXdcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiZHJhd1R5cGVcIjogXCJtb3ZlXCIsXG4gICAgICAgICAgICAgICAgXCJ4XCI6IFwiJHtjYW52YXMud2lkdGgvMn1cIixcbiAgICAgICAgICAgICAgICBcInlcIjogXCIke2NhbnZhcy5oZWlnaHQgLSBjYW52YXMud2lkdGh9XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJkcmF3VHlwZVwiOiBcImxpbmVcIixcbiAgICAgICAgICAgICAgICBcInhcIjogXCIwXCIsXG4gICAgICAgICAgICAgICAgXCJ5XCI6IFwiJHtjYW52YXMuaGVpZ2h0fVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiZHJhd1R5cGVcIjogXCJsaW5lXCIsXG4gICAgICAgICAgICAgICAgXCJ4XCI6IFwiJHtjYW52YXMud2lkdGh9XCIsXG4gICAgICAgICAgICAgICAgXCJ5XCI6IFwiJHtjYW52YXMuaGVpZ2h0fVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9XG59IiwibW9kdWxlLmV4cG9ydHM9e1xuICAgIFwiaGVhZFwiOiB7XG4gICAgICAgIFwic3R5bGVcIjogXCJzdHJva2VcIixcbiAgICAgICAgXCJjdHhQcm9wXCIgOiB7XG4gICAgICAgICAgICBcImxpbmVXaXRoXCIgOiBcIjJcIlxuICAgICAgICB9LFxuICAgICAgICBcImRyYXdcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiZHJhd1R5cGVcIjogXCJtb3ZlXCIsXG4gICAgICAgICAgICAgICAgXCJ4XCI6IFwiJHtjYW52YXMud2lkdGgvMn1cIixcbiAgICAgICAgICAgICAgICBcInlcIjogXCIwXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJkcmF3VHlwZVwiOiBcImxpbmVcIixcbiAgICAgICAgICAgICAgICBcInhcIjogXCIke2NhbnZhcy53aWR0aC8yfVwiLFxuICAgICAgICAgICAgICAgIFwieVwiOiBcIiR7Y2FudmFzLmhlaWdodCAtIGNhbnZhcy53aWR0aH1cIlxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfSxcbiAgICBcImJvZHlcIjoge1xuICAgICAgICBcInN0eWxlXCI6IFwiZmlsbFwiLFxuICAgICAgICBcImRyYXdcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiZHJhd1R5cGVcIjogXCJhcmNcIixcbiAgICAgICAgICAgICAgICBcInhcIjogXCIke2NhbnZhcy53aWR0aC8yfVwiLFxuICAgICAgICAgICAgICAgIFwieVwiOiBcIiR7Y2FudmFzLmhlaWdodCAtIGNhbnZhcy53aWR0aCArIChjYW52YXMud2lkdGgvMil9XCIsXG4gICAgICAgICAgICAgICAgXCJyYWRpdXNcIiA6IFwiJHtjYW52YXMud2lkdGgvMiAtIDF9XCIsXG4gICAgICAgICAgICAgICAgXCJhcmNcIiA6IFwiJHsyICogTWF0aC5QSX1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgXVxuICAgIH1cbn0iLCJtb2R1bGUuZXhwb3J0cz17XG4gICAgXCJoZWFkXCI6IHtcbiAgICAgICAgXCJzdHlsZVwiOiBcInN0cm9rZVwiLFxuICAgICAgICBcImN0eFByb3BcIiA6IHtcbiAgICAgICAgICAgIFwibGluZVdpdGhcIiA6IFwiMlwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZHJhd1wiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJkcmF3VHlwZVwiOiBcIm1vdmVcIixcbiAgICAgICAgICAgICAgICBcInhcIjogXCIke2NhbnZhcy53aWR0aC8yfVwiLFxuICAgICAgICAgICAgICAgIFwieVwiOiBcIjBcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcImRyYXdUeXBlXCI6IFwibGluZVwiLFxuICAgICAgICAgICAgICAgIFwieFwiOiBcIiR7Y2FudmFzLndpZHRoLzJ9XCIsXG4gICAgICAgICAgICAgICAgXCJ5XCI6IFwiJHtjYW52YXMuaGVpZ2h0IC0gY2FudmFzLndpZHRofVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9LFxuICAgIFwiYm9keVwiOiB7XG4gICAgICAgIFwic3R5bGVcIjogXCJmaWxsXCIsXG4gICAgICAgIFwiZHJhd1wiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJkcmF3VHlwZVwiOiBcIm1vdmVcIixcbiAgICAgICAgICAgICAgICBcInhcIjogXCIwXCIsXG4gICAgICAgICAgICAgICAgXCJ5XCI6IFwiJHtjYW52YXMuaGVpZ2h0IC0gY2FudmFzLndpZHRofVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiZHJhd1R5cGVcIjogXCJsaW5lXCIsXG4gICAgICAgICAgICAgICAgXCJ4XCI6IFwiMFwiLFxuICAgICAgICAgICAgICAgIFwieVwiOiBcIiR7Y2FudmFzLmhlaWdodH1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcImRyYXdUeXBlXCI6IFwibGluZVwiLFxuICAgICAgICAgICAgICAgIFwieFwiOiBcIiR7Y2FudmFzLndpZHRofVwiLFxuICAgICAgICAgICAgICAgIFwieVwiOiBcIiR7Y2FudmFzLmhlaWdodH1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcImRyYXdUeXBlXCI6IFwibGluZVwiLFxuICAgICAgICAgICAgICAgIFwieFwiOiBcIiR7Y2FudmFzLndpZHRofVwiLFxuICAgICAgICAgICAgICAgIFwieVwiOiBcIiR7Y2FudmFzLmhlaWdodCAtIGNhbnZhcy53aWR0aH1cIlxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzPXtcbiAgICBcImJvZHlcIjoge1xuICAgICAgICBcInN0eWxlXCI6IFwiZmlsbFwiLFxuICAgICAgICBcImRyYXdcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiZHJhd1R5cGVcIjogXCJtb3ZlXCIsXG4gICAgICAgICAgICAgICAgXCJ4XCI6IFwiMFwiLFxuICAgICAgICAgICAgICAgIFwieVwiOiBcIjBcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcImRyYXdUeXBlXCI6IFwibGluZVwiLFxuICAgICAgICAgICAgICAgIFwieFwiOiBcIjEyXCIsXG4gICAgICAgICAgICAgICAgXCJ5XCI6IFwiNlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiZHJhd1R5cGVcIjogXCJsaW5lXCIsXG4gICAgICAgICAgICAgICAgXCJ4XCI6IFwiMFwiLFxuICAgICAgICAgICAgICAgIFwieVwiOiBcIjEyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH1cbn0iLCJtb2R1bGUuZXhwb3J0cz17XG4gICAgXCJib2R5XCI6IHtcbiAgICAgICAgXCJzdHlsZVwiOiBcImZpbGxcIixcbiAgICAgICAgXCJkcmF3XCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcImRyYXdUeXBlXCI6IFwiYXJjXCIsXG4gICAgICAgICAgICAgICAgXCJ4XCI6IFwiNlwiLFxuICAgICAgICAgICAgICAgIFwieVwiOiBcIjZcIixcbiAgICAgICAgICAgICAgICBcInJhZGl1c1wiIDogXCI2XCIsXG4gICAgICAgICAgICAgICAgXCJhcmNcIiA6IFwiJHsyICogTWF0aC5QSX1cIlxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfVxufSJdfQ==
